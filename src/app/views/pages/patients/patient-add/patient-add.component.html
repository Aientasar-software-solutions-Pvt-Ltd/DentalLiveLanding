<ol class="breadcrumb">
	<!-- breadcrumb --> 
	<li class="breadcrumb-item">
		<a routerLink="/dashboard"><i class="bx bxs-home" aria-hidden="true"></i> Dashboard</a>
	</li>
	<li class="breadcrumb-item">
		<a routerLink="/patients">Patients</a>
	</li> 
	<li class="breadcrumb-item active" aria-current="page">
		Add Patient
	</li>
</ol>
<div class="page-header row align-items-center gx-0">
	<div class="col-md-12">
		<h3>Patient Details</h3>
	</div>	
</div>

<div class="row pt-2">
	<div class="col-md-10">
		<div class="card shadow-sm">
			<div class="card-body">
				<div class="row mt-2">
					<div class="col-md-12">
						<form> 
							<div class="row">
								<div class="col-md-6"> 
									<div class="mb-4">
									  <label class="form-label body2 text-dark">First Name</label>
									  <input type="text" class="form-control" name="firstName">
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
									  <label class="form-label body2 text-dark">Last Name</label>
									  <input type="text" class="form-control" name="lastName">
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
									  <label class="form-label body2 text-dark">Reference ID</label>
									  <input type="text" class="form-control" name="referenceID">
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
									  <label class="form-label body2 text-dark">Patient Image</label>
									  <input type="file" class="form-control" style="line-height: 2.2;background-color: #EFF3F7; border: 2px dashed #AEB4BF;">
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
										<label class="form-label body2 text-dark">Gender</label>
										<div>
											<select class="form-select">
												<option value="Male">Male</option>
												<option value="Female">Female</option>
											</select>
										</div>
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
										<label class="form-label body2 text-dark">DOB</label>
										<input type="date" class="form-control" name="DateofBirth">
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
										<label class="form-label body2 text-dark">Email</label>
										<input type="email" class="form-control" name="emailId">
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
										<label class="form-label body2 text-dark">Phone Number</label>
										<input type="text" class="form-control" name="phoneNumber">
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
										<label class="form-label body2 text-dark">Address</label>
										<textarea rows="2" class="form-control" name="address"></textarea>
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
										<label class="form-label body2 text-dark">City</label>
										<input type="text" class="form-control" name="city">
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
										<label class="form-label body2 text-dark">State/Province</label>
										<input type="text" class="form-control" name="state">
									</div>
								</div>
								<div class="col-md-6">
									<div class="mb-4">
										<label class="form-label body2 text-dark">Notes</label>
										<input type="text" class="form-control" name="notes">
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12 mb-2">
									<button routerLink="/patients/patients-list" class="btn btn-default mt-1 me-2">
									  Save
									</button>
									<button routerLink="/patients/patients-list" class="btn btn-pink mt-1 me-2">
									  Cancel
									</button>
									<a href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#addInsuranceModal" class="btn btn-light-green mt-1 me-2">
										Add Insurance
									</a> 
									<a href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#addMedicationModal" class="btn btn-dark mt-1 me-2">
										Add Medication
									</a> 
									<div class="form-check form-check-inline form-switch mt-2">
									  <input class="form-check-input" type="checkbox" id="activeInactive" #activeInactive (change)="onActiveInactiveChanged(activeInactive.checked)">
									  <label class="form-check-label fs-6" for="activeInactive"><ng-container *ngIf="activeInactive.checked">Active</ng-container><ng-container *ngIf="!activeInactive.checked">Inactive</ng-container></label>
									</div>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="addInsuranceModal" tabindex="-1" aria-labelledby="addInsuranceModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h6 class="modal-title" id="addInsuranceModalLabel">Add Insurance</h6>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-md-12">
					  <div class="mb-3">
						<label class="form-label body2">Insurance Carrier Name</label>
						<input type="text" class="form-control" >
					  </div>
					</div>
					<div class="col-md-12">
					  <div class="mb-3">
						<label class="form-label body2">Employer</label>
						<input type="text" class="form-control" >
					  </div>
					</div>
					<div class="col-md-12">
					  <div class="mb-3">
						<label class="form-label body2">Insurance Policy No</label>
						<input type="text" class="form-control" >
					  </div>
					</div>
					<div class="col-md-12">
						<div class="mb-3">
						  <label class="form-label body2">Group</label>
						  <input type="text" class="form-control" >
						</div>
					</div>
					<div class="col-md-12">
						<div class="mb-3">
						  <label class="form-label body2">Policy Holder</label>
						  <input type="text" class="form-control" >
						</div>
					</div>
					<div class="col-md-12">
						<div class="mb-3">
						  <label class="form-label body2">Effective Date</label>
						  <input type="date" class="form-control" >
						</div>
					</div>
					<div class="col-md-12">
						<div class="mb-3">
						  <label class="form-label body2">Notes</label>
						  <textarea rows="2" class="form-control" name="notes"></textarea>
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				<button type="button" class="btn btn-default" data-bs-dismiss="modal">Save</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="addMedicationModal" tabindex="-1" aria-labelledby="addMedicationModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h6 class="modal-title" id="addMedicationModalLabel">Add Medication</h6>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<form (ngSubmit)="logValue()">
					<section class="repeatsec">
						<div class="repeatbox mb-3 p-3">
							<div class="mb-3 row">
								<label class="col-sm-4 col-lg-2 col-form-label">Medication 1 <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-10">
									<input type="text" class="form-control" name="medication_1" placeholder=""/>
								</div>
							</div>
							<div class="row">
								<label class="col-sm-4 col-lg-2 col-form-label">Dosage <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-4 mb-3">
									<input type="text" class="form-control" name="dosage_1" placeholder=""/>
								</div>
								<label class="col-sm-4 col-lg-2 col-form-label">Duration <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-4 mb-3">
									<input type="text" class="form-control" name="duration_1" placeholder=""/>
								</div>
							</div>
							<div class="row">
								<div class="col-12">
									<div class="row">
										<label class="col-sm-4 col-lg-2 col-form-label">Notes</label>
										<div class="col-sm-8 col-lg-10">
											<textarea rows="2" class="form-control" name="notes_1" placeholder=""></textarea>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="repeatbox mb-3 p-3">
							<div class="mb-3 row">
								<label class="col-sm-4 col-lg-2 col-form-label">Medication 2 <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-10">
									<input type="text" class="form-control" name="medication_2" placeholder=""/>
								</div>
							</div>
							<div class="row">
								<label class="col-sm-4 col-lg-2 col-form-label">Dosage <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-4 mb-3">
									<input type="text" class="form-control" name="dosage_2" placeholder=""/>
								</div>
								<label class="col-sm-4 col-lg-2 col-form-label">Duration <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-4 mb-3">
									<input type="text" class="form-control" name="duration_2" placeholder=""/>
								</div>
							</div>
							<div class="row">
								<div class="col-12">
									<div class="row">
										<label class="col-sm-4 col-lg-2 col-form-label">Notes</label>
										<div class="col-sm-8 col-lg-10">
											<textarea rows="2" class="form-control" name="notes_2" placeholder=""></textarea>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="repeatbox mb-3 p-3">
							<div class="mb-3 row">
								<label class="col-sm-4 col-lg-2 col-form-label">Medication 3 <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-10">
									<input type="text" class="form-control" name="medication_3" placeholder=""/>
								</div>
							</div>
							<div class="row">
								<label class="col-sm-4 col-lg-2 col-form-label">Dosage <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-4 mb-3">
									<input type="text" class="form-control" name="dosage_3" placeholder=""/>
								</div>
								<label class="col-sm-4 col-lg-2 col-form-label">Duration <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-4 mb-3">
									<input type="text" class="form-control" name="duration_3" placeholder=""/>
								</div>
							</div>
							<div class="row">
								<div class="col-12">
									<div class="row">
										<label class="col-sm-4 col-lg-2 col-form-label">Notes</label>
										<div class="col-sm-8 col-lg-10">
											<textarea rows="2" class="form-control" name="notes_3" placeholder=""></textarea>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="repeatbox mb-3 p-3">
							<div class="mb-3 row">
								<label class="col-sm-4 col-lg-2 col-form-label">Medication 4 <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-10">
									<input type="text" class="form-control" name="medication_4" placeholder=""/>
								</div>
							</div>
							<div class="row">
								<label class="col-sm-4 col-lg-2 col-form-label">Dosage <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-4 mb-3">
									<input type="text" class="form-control" name="dosage_4" placeholder=""/>
								</div>
								<label class="col-sm-4 col-lg-2 col-form-label">Duration <span class="text-danger">*</span></label>
								<div class="col-sm-8 col-lg-4 mb-3">
									<input type="text" class="form-control" name="duration_4" placeholder=""/>
								</div>
							</div>
							<div class="row">
								<div class="col-12">
									<div class="row">
										<label class="col-sm-4 col-lg-2 col-form-label">Notes</label>
										<div class="col-sm-8 col-lg-10">
											<textarea rows="2" class="form-control" name="notes_4" placeholder=""></textarea>
										</div>
									</div>
								</div>
							</div>
						</div>
						<ng-container *ngFor="let medication of medications; let i = index;">
							<div class="repeatbox mb-3 p-3">
								<div class="mb-3 row">
									<label class="col-sm-4 col-lg-2 col-form-label">Medication {{i+4 + 1}} <span class="text-danger">*</span></label>
									<div class="col-sm-8 col-lg-10">
										<input type="text" class="form-control" (ngModel)="medication.medication" name="medication_{{medication.id}}" placeholder=""/>
									</div>
								</div>
								<div class="row">
									<label class="col-sm-4 col-lg-2 col-form-label">Dosage <span class="text-danger">*</span></label>
									<div class="col-sm-8 col-lg-4 mb-3">
										<input type="text" class="form-control" (ngModel)="medication.dosage" name="dosage_{{medication.id}}" placeholder=""/>
									</div>
									<label class="col-sm-4 col-lg-2 col-form-label">Duration <span class="text-danger">*</span></label>
									<div class="col-sm-8 col-lg-4 mb-3">
										<input type="text" class="form-control" (ngModel)="medication.duration" name="duration_{{medication.id}}" placeholder=""/>
									</div>
								</div>
								<div class="row">
									<div class="col-12">
										<div class="row">
											<label class="col-sm-4 col-lg-2 col-form-label">Notes</label>
											<div class="col-sm-8 col-lg-10">
												<textarea rows="2" class="form-control" (ngModel)="medication.notes" name="notes_{{medication.id}}" placeholder=""></textarea>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="text-end mb-3 remove-button">
								<button type="button" class="btn btn-pink btn-sm px-2" (click)="removeMedication(i)"><i class="bx bx-trash me-0"></i></button>
							</div>
						</ng-container>
						<div class="text-end mb-3 add-button">
							<button type="button" class="btn btn-default btn-sm px-2" (click)="addMedication()"><i class="bx bx-plus me-0"></i></button>
						</div>
					</section>
					<div class="d-flex flex-wrap align-items-center justify-content-start">
						<button type="submit" class="btn btn-default m-1" data-bs-dismiss="modal">Save</button>
						<button type="button" class="btn btn-secondary m-1" data-bs-dismiss="modal">Cancel</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>