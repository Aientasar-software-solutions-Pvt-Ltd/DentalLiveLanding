<ol *ngIf="!hasCase" class="breadcrumb">
  <!-- breadcrumb -->
  <li class="breadcrumb-item">
    <a routerLink="/dashboard"
      ><i class="bx bxs-home" aria-hidden="true"></i> Dashboard</a
    >
  </li>
  <li class="breadcrumb-item">
    <a routerLink="\milestones">Milestones</a>
  </li>
  <li class="breadcrumb-item">
    <a routerLink="{{ this.backUrl }}">Milestone Detail</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">Task Detail</li>
</ol>
<div *ngIf="isLoadingData" class="row">
  <div class="col-md-12">
    <lottie-player
      class="mt-3 m-auto"
      src="https://assets6.lottiefiles.com/packages/lf20_fhsx0ijl/lottie/collections-feature.json"
      background="transparent"
      speed="1"
      style="width: 300px; height: 300px"
      loop
      autoplay
    ></lottie-player>
    <h6 class="text-center mt-5">
      Request Processing â€¦..Please Wait, Do Not Close The Page
    </h6>
  </div>
</div>

<div [hidden]="isLoadingData">
  <div *ngIf="!hasCase" class="page-header row align-items-center gx-0">
    <div class="col-md-6">
      <div class="d-inline-block">
        <h3 class="mt-2 fw-normal">
          {{
            utility.getMetaData(
              baseData.patientId,
              "patientId",
              ["firstName", "lastName"],
              "patients"
            )
          }}
          <span class="d-block my-2">{{
            utility.getMetaData(baseData.caseId, "caseId", ["title"], "cases")
          }}</span>
          <span class="fw-bold d-block my-2">{{ milestoneObject?.title }}</span>
          <div class="progress progress-sm mt-2">
            <div
              class="progress-bar bg-primary"
              role="progressbar"
              style="width: 55%"
              aria-valuenow="55"
              aria-valuemin="0"
              aria-valuemax="100"
            ></div>
          </div>
        </h3>
      </div>
    </div>
    <div class="col-md-6 text-end"></div>
  </div>

  <div class="row align-items-center pt-2">
    <div class="col-md-12">
      <div class="card shadow-sm">
        <div class="card-header bg-white">
          <div class="row">
            <div class="col-md-5 align-self-center">
              <h5 class="body1 card-title my-2">
                Task Details
                <a  tippy="Tutorial"
                  target="_blank"
                  [routerLink]="
                    '/tutorial/' +
                    utility.tutorialData['GeneralTaskViewComponent'].html
                  "
                >
                  <i class="bx bxs-info-circle text-primary"></i
                ></a>
              </h5>
            </div>
            <div class="col-md-7 text-end">
              <a
                [routerLink]="[backUrl, { hasTask: true }]"
                class="btn btn-default"
                >Back</a
              >
            </div>
          </div>
        </div>
      </div>

      <div class="card card-body">
        <div class="row mt-2">
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-8">
                <div class="mb-3 row">
                  <label class="col-sm-3 col-form-label">Owner</label>
                  <div class="col-sm-8">
                    <input
                      class="form-control"
                      type="text"
                      value="{{
                        utility.getMetaData(
                          baseData['resourceOwner'],
                          'emailAddress',
                          ['accountfirstName', 'accountlastName'],
                          'users'
                        )
                      }}"
                      aria-label="readonly input example"
                      readonly
                    />
                  </div>
                </div>
              </div>
              <div class="col-md-8">
                <div class="mb-3 row">
                  <label for="title" class="col-sm-3 col-form-label"
                    >Title</label
                  >
                  <div class="col-sm-8">
                    <input
                      class="form-control"
                      type="text"
                      name="title"
                      id="title"
                      value="{{ baseData.title }}"
                      aria-label="readonly input example"
                      readonly
                    />
                  </div>
                </div>
              </div>
              <div class="col-md-2">
                <label class="form-label body2 text-gray">Start Date</label>
                <div class="mb-4">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext"
                    value="{{ baseData.startdate | date : 'mediumDate' }}"
                  />
                </div>
              </div>
              <div class="col-md-2">
                <label class="form-label body2 text-gray">Due Date</label>
                <div class="mb-4">
                  <input
                    type="text"
                    readonly
                    class="form-control-plaintext"
                    value="{{ baseData.duedate | date : 'mediumDate' }}"
                  />
                </div>
              </div>

              <h5 class="body1 card-title my-2 border-top pt-4 mt-4">
                Description
              </h5>
              <app-cvfast-viewer
                *ngIf="!isLoadingData"
                [cvfast]="baseData.description"
              ></app-cvfast-viewer>
            </div>
          </div>
        </div>
      </div>
      <!-- </form> -->
    </div>
  </div>
</div>
