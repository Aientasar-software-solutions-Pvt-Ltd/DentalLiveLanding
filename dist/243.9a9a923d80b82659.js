"use strict";(self.webpackChunkDentalLive_dev=self.webpackChunkDentalLive_dev||[]).push([[243],{995:(D,M,g)=>{g.d(M,{F:()=>_});var m=g(5861),h=g(520),r=g(2340),C=g(7206),Z=g(5e3);let _=(()=>{class s{constructor(u){this.http=u}getUserDetails(){try{let u=sessionStorage.getItem("usr");if(!u)return!1;let b=JSON.parse(C.AES.decrypt(u,r.N.decryptKey).toString(C.enc.Utf8));return!(b.exp<Date.now())&&b}catch(u){return sessionStorage.removeItem("usr"),!1}}uploadBinaryData(u,b,v){var x=this;return new Promise(function(A,y){x.getPreSignedUrl(u,v,"put",b.type).then(U=>{x.saveDataS3(b,U.url).then(()=>{A(U.name)}).catch(P=>{console.log(P),y("Failed to Upload")})}).catch(U=>{console.log(U),y("Failed to Upload")})})}getPreSignedUrl(u,b,v="get",x){var A=this;return(0,m.Z)(function*(){let y=new h.WM,U=sessionStorage.getItem("usr");return y=y.set("authorization",U),yield A.http.get(`https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name=${u}&module=${b}&type=${v}&media=${x}`,{headers:y}).toPromise()})()}saveDataS3(u,b){var v=this;return(0,m.Z)(function*(){if(yield v.http.put(b,u).toPromise())return!0})()}}return s.\u0275fac=function(u){return new(u||s)(Z.LFG(h.eN))},s.\u0275prov=Z.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},5243:(D,M,g)=>{g.r(M),g.d(M,{PatientsModule:()=>Zt});var m=g(9808),h=g(6090),r=g(2382),C=g(5415),t=g(5e3);let Z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-patients"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},directives:[h.lC],encapsulation:2}),n})();var _=g(5226),s=g.n(_),f=g(9114),u=g(2290),b=g(3762);function v(n,l){1&n&&(t.TgZ(0,"span",71),t._uU(1,"Active"),t.qZA())}function x(n,l){1&n&&(t.TgZ(0,"span",72),t._uU(1,"Inactive"),t.qZA())}function A(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",58)(3,"span",59),t._uU(4),t.qZA(),t._UZ(5,"input",60),t.qZA()(),t.TgZ(6,"td")(7,"div",61)(8,"span",62),t._uU(9),t.qZA(),t.TgZ(10,"span",63),t._uU(11),t.qZA()()(),t.TgZ(12,"td")(13,"span",55),t._uU(14),t.ALo(15,"date"),t.qZA()(),t.TgZ(16,"td")(17,"span",55),t._uU(18),t.qZA()(),t.TgZ(19,"td")(20,"div"),t.YNc(21,v,2,0,"span",64),t._UZ(22,"br"),t.YNc(23,x,2,0,"span",65),t._UZ(24,"br"),t.TgZ(25,"small",66),t._uU(26),t.ALo(27,"date"),t.qZA()()(),t.TgZ(28,"td")(29,"div",67)(30,"a",68),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(3).editpatiant(o.patientId)}),t.TgZ(31,"i",69),t._uU(32,"edit "),t.qZA()(),t.TgZ(33,"a",68),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(3).viewpatiant(o.patientId)}),t.TgZ(34,"i",70),t._uU(35,"visibility"),t.qZA()()()()()}if(2&n){const e=l.$implicit,i=l.index;t.xp6(4),t.Oqu(i),t.xp6(5),t.Oqu(e.firstName.charAt(0)),t.xp6(2),t.AsE("",e.firstName," ",e.lastName,""),t.xp6(3),t.Oqu(t.xi3(15,9,e.dob,"mediumDate")),t.xp6(4),t.Oqu(e.email),t.xp6(3),t.Q6J("ngIf",1==e.isActive),t.xp6(2),t.Q6J("ngIf",0==e.isActive),t.xp6(3),t.hij("Created on : ",t.xi3(27,12,e.dateCreated,"mediumDate"),"")}}function y(n,l){if(1&n&&(t.TgZ(0,"table",52)(1,"thead",53)(2,"tr")(3,"th",54),t._uU(4,"\xa0 "),t.qZA(),t.TgZ(5,"th",55),t._uU(6,"PATIENT NAME"),t.qZA(),t.TgZ(7,"th",55),t._uU(8,"DATE OF BIRTH"),t.qZA(),t.TgZ(9,"th",55),t._uU(10,"EMAIL"),t.qZA(),t.TgZ(11,"th",55),t._uU(12,"STATUS "),t.qZA(),t.TgZ(13,"th",56),t._uU(14,"ACTIONS"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,A,36,15,"tr",57),t.qZA()()),2&n){const e=t.oxw(2);t.Q6J("dtOptions",e.dtOptions),t.xp6(16),t.Q6J("ngForOf",e.tabledata)}}function U(n,l){if(1&n&&(t.TgZ(0,"div")(1,"div",50),t.YNc(2,y,17,2,"table",51),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.tabledata)}}function P(n,l){if(1&n&&(t.TgZ(0,"div")(1,"div",50)(2,"table",52)(3,"thead",53)(4,"tr")(5,"th",54),t._uU(6,"\xa0 "),t.qZA(),t.TgZ(7,"th",55),t._uU(8,"PATIENT NAME"),t.qZA(),t.TgZ(9,"th",55),t._uU(10,"OWNER"),t.qZA(),t.TgZ(11,"th",55),t._uU(12,"DATE OF BIRTH"),t.qZA(),t.TgZ(13,"th",55),t._uU(14,"EMAIL"),t.qZA(),t.TgZ(15,"th",55),t._uU(16,"STATUS "),t.qZA(),t.TgZ(17,"th",56),t._uU(18,"ACTIONS"),t.qZA()()(),t.TgZ(19,"tbody")(20,"tr")(21,"td")(22,"div",58),t._UZ(23,"input",60),t.qZA()(),t.TgZ(24,"td")(25,"div",61)(26,"span",62),t._uU(27,"D"),t.qZA(),t.TgZ(28,"span",63),t._uU(29,"Danial Doolittle"),t.qZA()()(),t.TgZ(30,"td")(31,"span",55),t._uU(32,"Colin Sik"),t.qZA()(),t.TgZ(33,"td")(34,"span",55),t._uU(35,"14/APR/1995"),t.qZA()(),t.TgZ(36,"td")(37,"span",55),t._uU(38,"danial@gmail.com"),t.qZA()(),t.TgZ(39,"td")(40,"div")(41,"span",71),t._uU(42,"Active"),t.qZA(),t._UZ(43,"br"),t.TgZ(44,"small",66),t._uU(45,"Created on : 14/APR/2022"),t.qZA()()(),t.TgZ(46,"td")(47,"div",67)(48,"a",73)(49,"i",70),t._uU(50,"visibility"),t.qZA()()()()(),t.TgZ(51,"tr")(52,"td")(53,"div",58),t._UZ(54,"input",60),t.qZA()(),t.TgZ(55,"td")(56,"div",61)(57,"span",62),t._uU(58,"J"),t.qZA(),t.TgZ(59,"span",63),t._uU(60,"Jenny Doolittle"),t.qZA()()(),t.TgZ(61,"td")(62,"span",55),t._uU(63,"Dareen Leow"),t.qZA()(),t.TgZ(64,"td")(65,"span",55),t._uU(66,"14/APR/1992"),t.qZA()(),t.TgZ(67,"td")(68,"span",55),t._uU(69,"jenny@gmail.com"),t.qZA()(),t.TgZ(70,"td")(71,"div")(72,"span",72),t._uU(73,"Inactive"),t.qZA(),t._UZ(74,"br"),t.TgZ(75,"small",66),t._uU(76,"Created on : 14/APR/2020"),t.qZA()()(),t.TgZ(77,"td")(78,"div",67)(79,"a",73)(80,"i",70),t._uU(81,"visibility"),t.qZA()()()()(),t.TgZ(82,"tr")(83,"td")(84,"div",58),t._UZ(85,"input",60),t.qZA()(),t.TgZ(86,"td")(87,"div",61)(88,"span",62),t._uU(89,"H"),t.qZA(),t.TgZ(90,"span",63),t._uU(91,"Harry Doolittle"),t.qZA()()(),t.TgZ(92,"td")(93,"span",55),t._uU(94,"Aida Bugg"),t.qZA()(),t.TgZ(95,"td")(96,"span",55),t._uU(97,"14/APR/1982"),t.qZA()(),t.TgZ(98,"td")(99,"span",55),t._uU(100,"harry@gmail.com"),t.qZA()(),t.TgZ(101,"td")(102,"div")(103,"span",71),t._uU(104,"Active"),t.qZA(),t._UZ(105,"br"),t.TgZ(106,"small",66),t._uU(107,"Created on : 14/APR/2022"),t.qZA()()(),t.TgZ(108,"td")(109,"div",67)(110,"a",73)(111,"i",70),t._uU(112,"visibility"),t.qZA()()()()(),t.TgZ(113,"tr")(114,"td")(115,"div",58),t._UZ(116,"input",60),t.qZA()(),t.TgZ(117,"td")(118,"div",61)(119,"span",62),t._uU(120,"K"),t.qZA(),t.TgZ(121,"span",63),t._uU(122,"Krene Doolittle"),t.qZA()()(),t.TgZ(123,"td")(124,"span",55),t._uU(125,"Dee End"),t.qZA()(),t.TgZ(126,"td")(127,"span",55),t._uU(128,"14/APR/1980"),t.qZA()(),t.TgZ(129,"td")(130,"span",55),t._uU(131,"krene@gmail.com"),t.qZA()(),t.TgZ(132,"td")(133,"div")(134,"span",71),t._uU(135,"Active"),t.qZA(),t._UZ(136,"br"),t.TgZ(137,"small",66),t._uU(138,"Created on : 14/APR/2022"),t.qZA()()(),t.TgZ(139,"td")(140,"div",67)(141,"a",73)(142,"i",70),t._uU(143,"visibility"),t.qZA()()()()(),t.TgZ(144,"tr")(145,"td")(146,"div",58),t._UZ(147,"input",60),t.qZA()(),t.TgZ(148,"td")(149,"div",61)(150,"span",62),t._uU(151,"K"),t.qZA(),t.TgZ(152,"span",63),t._uU(153,"Kriss Doolittle"),t.qZA()()(),t.TgZ(154,"td")(155,"span",55),t._uU(156,"Liza Doolittle"),t.qZA()(),t.TgZ(157,"td")(158,"span",55),t._uU(159,"14/APR/1979"),t.qZA()(),t.TgZ(160,"td")(161,"span",55),t._uU(162,"kriss@gmail.com"),t.qZA()(),t.TgZ(163,"td")(164,"div")(165,"span",72),t._uU(166,"Inactive"),t.qZA(),t._UZ(167,"br"),t.TgZ(168,"small",66),t._uU(169,"Created on : 14/APR/2020"),t.qZA()()(),t.TgZ(170,"td")(171,"div",67)(172,"a",73)(173,"i",70),t._uU(174,"visibility"),t.qZA()()()()(),t.TgZ(175,"tr")(176,"td")(177,"div",58),t._UZ(178,"input",60),t.qZA()(),t.TgZ(179,"td")(180,"div",61)(181,"span",62),t._uU(182,"D"),t.qZA(),t.TgZ(183,"span",63),t._uU(184,"Danial Doolittle"),t.qZA()()(),t.TgZ(185,"td")(186,"span",55),t._uU(187,"Colin Sik"),t.qZA()(),t.TgZ(188,"td")(189,"span",55),t._uU(190,"14/APR/1969"),t.qZA()(),t.TgZ(191,"td")(192,"span",55),t._uU(193,"danial@gmail.com"),t.qZA()(),t.TgZ(194,"td")(195,"div")(196,"span",72),t._uU(197,"Inactive"),t.qZA(),t._UZ(198,"br"),t.TgZ(199,"small",66),t._uU(200,"Created on : 14/APR/2020"),t.qZA()()(),t.TgZ(201,"td")(202,"div",67)(203,"a",73)(204,"i",70),t._uU(205,"visibility"),t.qZA()()()()(),t.TgZ(206,"tr")(207,"td")(208,"div",58),t._UZ(209,"input",60),t.qZA()(),t.TgZ(210,"td")(211,"div",61)(212,"span",62),t._uU(213,"D"),t.qZA(),t.TgZ(214,"span",63),t._uU(215,"Danial Doolittle"),t.qZA()()(),t.TgZ(216,"td")(217,"span",55),t._uU(218,"Mario Speedwagon"),t.qZA()(),t.TgZ(219,"td")(220,"span",55),t._uU(221,"14/APR/2002"),t.qZA()(),t.TgZ(222,"td")(223,"span",55),t._uU(224,"danial@gmail.com"),t.qZA()(),t.TgZ(225,"td")(226,"div")(227,"span",72),t._uU(228,"Inactive"),t.qZA(),t._UZ(229,"br"),t.TgZ(230,"small",66),t._uU(231,"Created on : 14/APR/2020"),t.qZA()()(),t.TgZ(232,"td")(233,"div",67)(234,"a",73)(235,"i",70),t._uU(236,"visibility"),t.qZA()()()()(),t.TgZ(237,"tr")(238,"td")(239,"div",58),t._UZ(240,"input",60),t.qZA()(),t.TgZ(241,"td")(242,"div",61)(243,"span",62),t._uU(244,"D"),t.qZA(),t.TgZ(245,"span",63),t._uU(246,"Danial Doolittle"),t.qZA()()(),t.TgZ(247,"td")(248,"span",55),t._uU(249,"Colin Sik"),t.qZA()(),t.TgZ(250,"td")(251,"span",55),t._uU(252,"14/APR/2004"),t.qZA()(),t.TgZ(253,"td")(254,"span",55),t._uU(255,"danial@gmail.com"),t.qZA()(),t.TgZ(256,"td")(257,"div")(258,"span",72),t._uU(259,"Inactive"),t.qZA(),t._UZ(260,"br"),t.TgZ(261,"small",66),t._uU(262,"Created on : 14/APR/2020"),t.qZA()()(),t.TgZ(263,"td")(264,"div",67)(265,"a",73)(266,"i",70),t._uU(267,"visibility"),t.qZA()()()()(),t.TgZ(268,"tr")(269,"td")(270,"div",58),t._UZ(271,"input",60),t.qZA()(),t.TgZ(272,"td")(273,"div",61)(274,"span",62),t._uU(275,"D"),t.qZA(),t.TgZ(276,"span",63),t._uU(277,"Danial Doolittle"),t.qZA()()(),t.TgZ(278,"td")(279,"span",55),t._uU(280,"Colin Sik"),t.qZA()(),t.TgZ(281,"td")(282,"span",55),t._uU(283,"14/APR/2002"),t.qZA()(),t.TgZ(284,"td")(285,"span",55),t._uU(286,"danial@gmail.com"),t.qZA()(),t.TgZ(287,"td")(288,"div")(289,"span",72),t._uU(290,"Inactive"),t.qZA(),t._UZ(291,"br"),t.TgZ(292,"small",66),t._uU(293,"Created on : 14/APR/2020"),t.qZA()()(),t.TgZ(294,"td")(295,"div",67)(296,"a",73)(297,"i",70),t._uU(298,"visibility"),t.qZA()()()()(),t.TgZ(299,"tr")(300,"td")(301,"div",58),t._UZ(302,"input",60),t.qZA()(),t.TgZ(303,"td")(304,"div",61)(305,"span",62),t._uU(306,"D"),t.qZA(),t.TgZ(307,"span",63),t._uU(308,"Danial Doolittle"),t.qZA()()(),t.TgZ(309,"td")(310,"span",55),t._uU(311,"Aida Bugg"),t.qZA()(),t.TgZ(312,"td")(313,"span",55),t._uU(314,"14/APR/1998"),t.qZA()(),t.TgZ(315,"td")(316,"span",55),t._uU(317,"danial@gmail.com"),t.qZA()(),t.TgZ(318,"td")(319,"div")(320,"span",71),t._uU(321,"Active"),t.qZA(),t._UZ(322,"br"),t.TgZ(323,"small",66),t._uU(324,"Created on : 14/APR/2020"),t.qZA()()(),t.TgZ(325,"td")(326,"div",67)(327,"a",73)(328,"i",70),t._uU(329,"visibility"),t.qZA()()()()(),t.TgZ(330,"tr")(331,"td")(332,"div",58),t._UZ(333,"input",60),t.qZA()(),t.TgZ(334,"td")(335,"div",61)(336,"span",62),t._uU(337,"D"),t.qZA(),t.TgZ(338,"span",63),t._uU(339,"Dee End"),t.qZA()()(),t.TgZ(340,"td")(341,"span",55),t._uU(342,"Aida Bugg"),t.qZA()(),t.TgZ(343,"td")(344,"span",55),t._uU(345,"14/APR/1997"),t.qZA()(),t.TgZ(346,"td")(347,"span",55),t._uU(348,"danial@gmail.com"),t.qZA()(),t.TgZ(349,"td")(350,"div")(351,"span",71),t._uU(352,"Active"),t.qZA(),t._UZ(353,"br"),t.TgZ(354,"small",66),t._uU(355,"Created on : 14/APR/2020"),t.qZA()()(),t.TgZ(356,"td")(357,"div",67)(358,"a",73)(359,"i",70),t._uU(360,"visibility"),t.qZA()()()()()()()()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("dtOptions",e.dtOptions)}}let N=(()=>{class n{constructor(e,i,a,o){this.dataService=e,this.router=i,this.utility=a,this.usr=o,this.loading=!1,this.id="myPatients",this.dtOptions={},this.masterSelected=!1}tabContent(e){this.id=e}ngOnInit(){this.getallpatiant(),this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}searchText(e){var i=e.target.value;$("#dataTables").DataTable().search(i).draw()}getallpatiant(){this.tabledata="",s().fire({title:"Loading....",showConfirmButton:!1,timer:2200}),this.usr.getUserDetails(!1)&&this.dataService.getallData(this.utility.apiData.userPatients.ApiUrl,!0).subscribe(a=>{if(a){let d=JSON.parse(a.toString()).sort((c,p)=>0-(c.dateCreated>p.dateCreated?-1:1));this.tabledata=d.reverse()}},a=>(s().fire("Unable to fetch data, please try again"),!1))}editpatiant(e){this.router.navigate(["/patients/patient-edit/"+e])}viewpatiant(e){this.router.navigate(["patients/patient-details/"+e])}deletepatiant(e){this.dataService.deletePatientData(this.utility.apiData.userPatients.ApiUrl,e).subscribe(a=>{s().fire("Patient deleted successfully"),this.getallpatiant()},a=>(s().fire("Unable to fetch data, please try again"),!1))}onSubmit(e){let i=this.utility.apiData.userPatients.ApiUrl,o=e.value.firstName.split(" ");""!=o[0]&&(i+="?firstName="+o[0]),o.length>1&&""!=o[1]&&(i+=""!=o[0]?"&lastName="+o[1]:"?lastName="+o[1]),""!=e.value.dateFrom&&(i+=""!=o[0]||o.length>1?"&dateFrom="+Date.parse(e.value.dateFrom):"?dateFrom="+Date.parse(e.value.dateFrom)),""!=e.value.dateTo&&(i+=""!=o[0]||""!=e.value.dateFrom?"&dateTo="+Date.parse(e.value.dateTo):"?dateTo="+Date.parse(e.value.dateTo)),this.dataService.getallData(i,!0).subscribe(d=>{if(d){let p=JSON.parse(d.toString()).sort((T,q)=>0-(T.dateCreated>q.dateCreated?-1:1));this.tabledata=p.reverse()}},d=>{404===d.status?s().fire("E-Mail ID does not exists,please signup to continue"):403===d.status?s().fire("Account Disabled,contact Dental-Live"):400===d.status?s().fire("Wrong Password,please try again"):401===d.status?s().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===d.status?s().fire(d.error):s().fire("Unable to fetch the data, please try again")})}checkUncheckAll(){for(var e=0;e<this.tabledata.length;e++)this.tabledata[e].isSelected=this.masterSelected}isAllSelected(){this.masterSelected=this.tabledata.every(function(e){return 1==e.isSelected})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.T),t.Y36(h.F0),t.Y36(u.t),t.Y36(b.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-patients-list"]],decls:75,vars:6,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"col-md-6","text-end"],["routerLink","/patients/patient-add",1,"btn","btn-default","btn-lg"],[1,"bx","bx-plus-circle"],[1,"row","align-items-center"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"my-2"],[1,"body1","card-title","mb-0"],[1,"d-flex","align-items-center","flex-wrap"],[1,"nav","nav-pills","nav-justified","tabview","me-3"],["href","javascruipt:void(0);",1,"nav-link",3,"click"],["role","group",1,"btn-group","me-2","my-2",2,"height","40px"],["type","button",1,"btn","btn-outline-light","border","text-gray","py-1","px-3"],[1,"bx","bx-download","fs-5","align-middle"],[1,"bx","bx-archive-out","fs-5","align-middle"],["data-bs-toggle","modal","data-bs-target","#filterModal",1,"btn","filter-btn","me-2","my-2"],[1,"bx","bx-filter-alt"],[1,"d-none","d-sm-inline-block","ms-2"],[1,"search","search-md"],[1,"bx","bx-search"],["type","text","placeholder","Search",1,"form-control",3,"keyup"],[1,"card-body","p-0","pb-3"],[4,"ngIf"],["id","filterModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","mainForm",3,"ngSubmit"],["f","ngForm"],[1,"modal-body"],[1,"row","gy-3"],[1,"search"],["type","text","ngModel","","name","firstName","id","firstName","placeholder","Search by Patients Name",1,"form-control"],[1,"form-label","body2","text-dark"],["type","date","name","dateFrom","ngModel","","id","dateFrom",1,"form-control"],["type","date","name","dateTo","ngModel","","id","dateTo",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default"],[1,"table-responsive"],["class","table table-hover table-nowrap align-middle","datatable","","id","dataTables",3,"dtOptions",4,"ngIf"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light","text-uppercase"],["data-orderable","false",2,"width","15px"],[1,"body2"],["data-orderable","false",1,"body2"],[4,"ngFor","ngForOf"],[1,"form-check","form-check-inline"],[1,"d-none"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","mt-2"],[1,"d-flex","align-items-center"],[1,"avatar-icon"],[1,"body2","ms-1"],["class","badge rounded-pill badge-success body2",4,"ngIf"],["class","badge rounded-pill badge-warning body2",4,"ngIf"],[1,"text-muted"],[1,"d-flex"],["href","javascript:void(0);",1,"me-2",3,"click"],[1,"material-icons","text-bright-blue"],[1,"material-icons","text-light-green"],[1,"badge","rounded-pill","badge-success","body2"],[1,"badge","rounded-pill","badge-warning","body2"],["routerLink","/patients/patient-details"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),t._UZ(3,"i",3),t._uU(4," Dashboard"),t.qZA()(),t.TgZ(5,"li",4),t._uU(6," Patients "),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"h3"),t._uU(10,"Patients"),t.qZA()(),t.TgZ(11,"div",7)(12,"a",8),t._UZ(13,"i",9),t._uU(14," Add Patient"),t.qZA()()(),t.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h5",16),t._uU(22,"List of Patients"),t.qZA()(),t.TgZ(23,"div",17)(24,"div",18)(25,"a",19),t.NdJ("click",function(){return i.tabContent("myPatients")}),t._uU(26,"My Patients"),t.qZA(),t.TgZ(27,"a",19),t.NdJ("click",function(){return i.tabContent("colleaguesPatients")}),t._uU(28,"Colleagues Patients"),t.qZA()(),t.TgZ(29,"div",20)(30,"button",21),t._UZ(31,"i",22),t.qZA(),t.TgZ(32,"button",21),t._UZ(33,"i",23),t.qZA()(),t.TgZ(34,"button",24),t._UZ(35,"i",25),t.TgZ(36,"span",26),t._uU(37,"Filter"),t.qZA()(),t.TgZ(38,"div",27),t._UZ(39,"i",28),t.TgZ(40,"input",29),t.NdJ("keyup",function(d){return i.searchText(d)}),t.qZA()()()()(),t.TgZ(41,"div",30),t.YNc(42,U,3,1,"div",31),t.YNc(43,P,361,1,"div",31),t.qZA()()()(),t.TgZ(44,"div",32)(45,"div",33)(46,"div",34)(47,"div",35)(48,"h5",36),t._uU(49,"Filter"),t.qZA(),t._UZ(50,"button",37),t.qZA(),t.TgZ(51,"form",38,39),t.NdJ("ngSubmit",function(){t.CHM(a);const d=t.MAs(52);return i.onSubmit(d)}),t.TgZ(53,"div",40)(54,"div",41)(55,"div",11)(56,"div",42),t._UZ(57,"i",28)(58,"input",43),t.qZA()(),t.TgZ(59,"div",11)(60,"label",44),t._uU(61,"Search by Date:"),t.qZA()(),t.TgZ(62,"div",6)(63,"label",44),t._uU(64,"From"),t.qZA(),t._UZ(65,"input",45),t.qZA(),t.TgZ(66,"div",6)(67,"label",44),t._uU(68,"To"),t.qZA(),t._UZ(69,"input",46),t.qZA()()(),t.TgZ(70,"div",47)(71,"button",48),t._uU(72,"Close"),t.qZA(),t.TgZ(73,"button",49),t._uU(74,"Apply"),t.qZA()()()()()()}2&e&&(t.xp6(25),t.ekj("active","myPatients"===i.id),t.xp6(2),t.ekj("active","colleaguesPatients"===i.id),t.xp6(15),t.Q6J("ngIf","myPatients"===i.id),t.xp6(1),t.Q6J("ngIf","colleaguesPatients"===i.id))},directives:[h.yS,m.O5,C.G,m.sg,r._Y,r.JL,r.F,r.Fj,r.JJ,r.On],pipes:[m.uU],styles:[".tabview[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:20px;border:1px solid #0070d2;padding:3px;box-shadow:0 4px 8px #0000001a;width:380px}.tabview[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:16px;font-family:Rubik;font-weight:400;color:#5d6a7e!important;padding:.3rem .8rem;border-radius:20px!important}.tabview[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff!important;background:#0070D2!important}@media (max-width:575px){.tabview[_ngcontent-%COMP%]{width:100%}}"]}),n})();function w(n,l){if(1&n&&t._UZ(0,"img",46),2&n){const e=t.oxw();t.s9C("src",e.patientImg,t.LSH)}}function S(n,l){if(1&n&&t._UZ(0,"img",46),2&n){const e=t.oxw();t.s9C("src",e.Img,t.LSH)}}function k(n,l){1&n&&t._UZ(0,"input",47)}function j(n,l){1&n&&t._UZ(0,"input",48)}function E(n,l){1&n&&(t.TgZ(0,"span",69),t._uU(1,"Active"),t.qZA())}function F(n,l){1&n&&(t.TgZ(0,"span",70),t._uU(1,"Inactive"),t.qZA())}function L(n,l){if(1&n&&(t.TgZ(0,"li",71)(1,"span",59),t._uU(2),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.userName.charAt(0))}}function J(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",56)(3,"span",57),t._uU(4),t.qZA(),t._UZ(5,"input",58),t.qZA()(),t.TgZ(6,"td")(7,"div")(8,"span",59),t._uU(9),t.qZA(),t.TgZ(10,"span",60),t._uU(11),t.qZA()()(),t.TgZ(12,"td")(13,"span",52),t._uU(14),t.qZA()(),t.TgZ(15,"td")(16,"div"),t.YNc(17,E,2,0,"span",61),t._UZ(18,"br"),t.YNc(19,F,2,0,"span",62),t._UZ(20,"br"),t.TgZ(21,"small",63),t._uU(22),t.ALo(23,"date"),t.qZA()()(),t.TgZ(24,"td")(25,"ul",64),t.YNc(26,L,3,1,"li",65),t.qZA()(),t.TgZ(27,"td")(28,"div",66)(29,"a",67),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(3).viewCase(o.caseId,o.patientId)}),t.TgZ(30,"i",68),t._uU(31,"visibility"),t.qZA()()()()()}if(2&n){const e=l.$implicit,i=l.index;t.xp6(4),t.Oqu(i),t.xp6(5),t.Oqu(e.patientName.charAt(0)),t.xp6(2),t.Oqu(e.patientName),t.xp6(3),t.Oqu(e.title),t.xp6(3),t.Q6J("ngIf",1==e.caseStatus),t.xp6(2),t.Q6J("ngIf",0==e.caseStatus),t.xp6(3),t.hij("Created on : ",t.xi3(23,8,e.dateCreated,"mediumDate"),""),t.xp6(4),t.Q6J("ngForOf",e.memberName)}}function Y(n,l){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,J,32,11,"tr",55),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.casedata)}}function R(n,l){if(1&n&&(t.TgZ(0,"table",49)(1,"thead",50)(2,"tr")(3,"th",51),t._uU(4,"\xa0 "),t.qZA(),t.TgZ(5,"th",52),t._uU(6,"PATIENT NAME"),t.qZA(),t.TgZ(7,"th",52),t._uU(8,"CASE TITLE"),t.qZA(),t.TgZ(9,"th",52),t._uU(10,"STATUS"),t.qZA(),t.TgZ(11,"th",52),t._uU(12,"MEMBERS"),t.qZA(),t.TgZ(13,"th",53),t._uU(14,"Actions"),t.qZA()()(),t.YNc(15,Y,2,1,"tbody",54),t.qZA()),2&n){const e=t.oxw();t.Q6J("dtOptions",e.dtOptions),t.xp6(15),t.Q6J("ngIf",0!=(null==e.casedata?null:e.casedata.length))}}let Q=(()=>{class n{constructor(e,i,a,o,d){this.dataService=e,this.utility=i,this.usr=a,this.router=o,this.route=d,this.dtOptions={},this.Img="assets/images/avatar3.png",this.caseImage=!1,this.refrernceNo="-",this.mobileNo="-",this.policyNo="-",this.insurance="-",this.module="patient",this.indexRow=0,this.paramPatientId=this.route.snapshot.paramMap.get("patientId")}ngOnInit(){this.getallpatiant(),this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}setcvImage(e){this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+e+"&module="+this.module+"&type=get",!0).subscribe(a=>{a&&(this.patientImg=a,this.caseImage=!0)},a=>{404===a.status?s().fire("E-Mail ID does not exists,please signup to continue"):403===a.status?s().fire("Account Disabled,contact Dental-Live"):400===a.status?s().fire("Wrong Password,please try again"):401===a.status?s().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===a.status?s().fire(a.error):s().fire("Unable to fetch the data, please try again")})}getallpatiant(){this.tabledata="",s().fire({title:"Loading....",showConfirmButton:!1,timer:2200}),this.getallcase();let e=this.utility.apiData.userPatients.ApiUrl,i=this.paramPatientId;""!=i&&(e+="?patientId="+i),this.dataService.getallData(e,!0).subscribe(a=>{a&&(this.tabledata=JSON.parse(a.toString()),this.tabledata.refId&&(this.refrernceNo=this.tabledata.refId),this.tabledata.phone&&(this.mobileNo=this.tabledata.phone),this.tabledata.insurance.policyno&&(this.policyNo=this.tabledata.insurance.policyno),this.tabledata.insurance.carrier&&(this.insurance=this.tabledata.insurance.carrier),setTimeout(()=>{this.tabledata.image&&this.setcvImage(this.tabledata.image)},1e3))},a=>{404===a.status?s().fire("E-Mail ID does not exists,please signup to continue"):403===a.status?s().fire("Account Disabled,contact Dental-Live"):400===a.status?s().fire("Wrong Password,please try again"):401===a.status?s().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===a.status?s().fire(a.error):s().fire("Unable to fetch the data, please try again")})}getallcase(){if(this.usr.getUserDetails(!1)){s().fire({title:"Loading....",showConfirmButton:!1,timer:3e3});let i=this.utility.apiData.userCases.ApiUrl,a=this.paramPatientId;""!=a&&(i+="?patientId="+a),this.dataService.getallData(i,!0).subscribe(o=>{if(o){let c=JSON.parse(o.toString());c.sort((T,q)=>T.dateUpdated>q.dateUpdated?-1:1);let p=c.slice(0,5);this.casedata=Array();for(var d=0;d<p.length;d++)this.casedata.push({id:d,patientName:p[d].patientName,title:p[d].title,caseStatus:p[d].caseStatus,dateCreated:p[d].dateCreated,memberName:"",patientId:p[d].patientId,caseId:p[d].caseId}),this.getCaseMemberList(p[d].caseId,d)}},o=>(s().fire("Unable to fetch data, please try again"),!1))}}getCaseMemberList(e,i){let a=this.usr.getUserDetails(!1),o=this.utility.apiData.userCaseInvites.ApiUrl;""!=e&&(o+="?caseId="+e),o+="&resourceOwner="+a.dentalId,this.dataService.getallData(o,!0).subscribe(d=>{if(d){let p=JSON.parse(d.toString());p.sort((T,q)=>T.dateUpdated>q.dateUpdated?-1:1),this.invitedatas=Array(),this.indexRow=0;for(var c=0;c<p.length;c++)this.invitedatas.push({id:this.indexRow,userName:""}),this.getuserdetailsall(p[c].invitedUserId,this.indexRow,i),this.indexRow++}},d=>{404===d.status?s().fire("E-Mail ID does not exists,please signup to continue"):403===d.status?s().fire("Account Disabled,contact Dental-Live"):400===d.status?s().fire("Wrong Password,please try again"):401===d.status?s().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===d.status?s().fire(d.error):s().fire("Unable to fetch the data, please try again")})}getuserdetailsall(e,i,a){if(this.usr.getUserDetails(!1)){let d=this.utility.apiData.userColleague.ApiUrl;""!=e&&(d+="?dentalId="+e);let c=this.invitedatas;this.dataService.getallData(d,!0).subscribe(p=>{if(p){let T=JSON.parse(p.toString());c[i].userName=T[0].accountfirstName+" "+T[0].accountlastName,i+1==c.length&&(this.casedata[a].memberName=c)}},p=>(s().fire("Unable to fetch data, please try again"),!1))}}searchText(e){var i=e.target.value;$("#dataTables").DataTable().search(i).draw()}addcases(){sessionStorage.setItem("checkPatient","1"),sessionStorage.setItem("patientId",this.paramPatientId),this.router.navigate(["cases/case-add"])}viewCase(e,i){this.router.navigate(["master/master-list/"+e+"/caseDetails"])}viewAllCase(e){this.router.navigate(["patients/patient-case-list/"+e])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.T),t.Y36(u.t),t.Y36(b.f),t.Y36(h.F0),t.Y36(h.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-patient-details"]],decls:97,vars:17,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/patients"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-12"],["id","heading1",1,"my-2","my-md-0"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapse1","aria-expanded","true","aria-controls","collapse1",1,"accordion-button","d-inline-flex"],[1,"row"],["id","accordionOverview",1,"accordion-overview"],[1,"accordion-item","shadow-sm","border-0"],["id","collapse1","aria-labelledby","heading1","data-bs-parent","#accordionOverview",1,"accordion-collapse","collapse","show"],[1,"accordion-body","mb-4",2,"box-shadow","0px 12px 22px rgba(203, 237, 253, 0.5)"],[1,"row","gx-2"],[1,"col-md-3","col-lg-3","col-xl-2"],[1,"profile-img","justify-content-center","p-md-2"],[1,"capture"],["alt","","class","mb-2 rounded-circle",3,"src",4,"ngIf"],[1,"col-md-9","col-lg-9","col-xl-10"],[1,"col-md-5"],[1,"mb-1","row"],[1,"col-sm-5","col-form-label","body2"],[1,"col-sm-7"],["type","text","readonly","",1,"form-control-plaintext","body2","text-muted",3,"value"],["type","text","readonly","","class","form-control-plaintext body2 text-muted","value","Male",4,"ngIf"],["type","text","readonly","","class","form-control-plaintext body2 text-muted","value","Female",4,"ngIf"],[1,"col-md-7"],[1,"row","align-items-center"],[1,"card","shadow-sm",2,"box-shadow","0px 12px 22px rgba(208, 210, 218, 0.15)"],[1,"card-header","border-bottom-0",2,"background-color","#ffff"],[1,"mt-2","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-2"],[1,"card-title","mb-0"],[1,"d-flex","flex-wrap","align-items-center"],["href","javascript:void(0);",1,"btn","btn-light","border","me-2","mb-2",3,"click"],["href","javascript:void(0);",1,"btn","btn-light-green","me-2","mb-2",3,"click"],[1,"bx","bx-briefcase-alt"],["routerLink","#",1,"btn","btn-pink","me-2","mb-2"],[1,"bx","bx-envelope"],["routerLink","#",1,"btn","btn-default","mb-2"],[1,"bx","bx-video"],[1,"card-body","p-0","pb-3"],[1,"table-responsive"],["class","table table-hover table-nowrap align-middle","datatable","","id","dataTables",3,"dtOptions",4,"ngIf"],["alt","",1,"mb-2","rounded-circle",3,"src"],["type","text","readonly","","value","Male",1,"form-control-plaintext","body2","text-muted"],["type","text","readonly","","value","Female",1,"form-control-plaintext","body2","text-muted"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light","text-uppercase"],["data-orderable","false",2,"width","15px"],[1,"body2"],["data-orderable","false",1,"body2"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"form-check","form-check-inline"],[1,"d-none"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","mt-2"],[1,"avatar-icon"],[1,"body2","ms-1"],["class","badge rounded-pill badge-success body2",4,"ngIf"],["class","badge rounded-pill badge-warning body2",4,"ngIf"],[1,"text-muted"],[1,"avatar-list"],["class","avatar-item",4,"ngFor","ngForOf"],[1,"d-flex"],["href","javascript:void(0);",3,"click"],[1,"material-icons","text-light-green"],[1,"badge","rounded-pill","badge-success","body2"],[1,"badge","rounded-pill","badge-warning","body2"],[1,"avatar-item"]],template:function(e,i){1&e&&(t.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),t._UZ(3,"i",3),t._uU(4," Dashboard"),t.qZA()(),t.TgZ(5,"li",1)(6,"a",4),t._uU(7,"Patients"),t.qZA()(),t.TgZ(8,"li",5),t._uU(9," Patient View "),t.qZA()(),t.TgZ(10,"div",6)(11,"div",7)(12,"h3",8),t._uU(13,"Patient Overview : "),t.TgZ(14,"button",9),t._uU(15),t.qZA()()()(),t.TgZ(16,"div",10)(17,"div",7)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18),t.YNc(26,w,1,1,"img",19),t.YNc(27,S,1,1,"img",19),t.qZA()()(),t.TgZ(28,"div",20)(29,"div",10)(30,"div",21)(31,"div",22)(32,"label",23),t._uU(33,"Patient ID"),t.qZA(),t.TgZ(34,"div",24),t._UZ(35,"input",25),t.qZA()(),t.TgZ(36,"div",22)(37,"label",23),t._uU(38,"Reference ID"),t.qZA(),t.TgZ(39,"div",24),t._UZ(40,"input",25),t.qZA()(),t.TgZ(41,"div",22)(42,"label",23),t._uU(43,"Date of Birth"),t.qZA(),t.TgZ(44,"div",24),t._UZ(45,"input",25),t.ALo(46,"date"),t.qZA()(),t.TgZ(47,"div",22)(48,"label",23),t._uU(49,"Gender "),t.qZA(),t.TgZ(50,"div",24),t.YNc(51,k,1,0,"input",26),t.YNc(52,j,1,0,"input",27),t.qZA()()(),t.TgZ(53,"div",28)(54,"div",22)(55,"label",23),t._uU(56,"Insurance Policy No."),t.qZA(),t.TgZ(57,"div",24),t._UZ(58,"input",25),t.qZA()(),t.TgZ(59,"div",22)(60,"label",23),t._uU(61,"Insurance Co."),t.qZA(),t.TgZ(62,"div",24),t._UZ(63,"input",25),t.qZA()(),t.TgZ(64,"div",22)(65,"label",23),t._uU(66,"Email"),t.qZA(),t.TgZ(67,"div",24),t._UZ(68,"input",25),t.qZA()(),t.TgZ(69,"div",22)(70,"label",23),t._uU(71,"Phone Number"),t.qZA(),t.TgZ(72,"div",24),t._UZ(73,"input",25),t.qZA()()()()()()()()()()()(),t.TgZ(74,"div",29)(75,"div",7)(76,"div",30)(77,"div",31)(78,"div",32)(79,"div",33)(80,"h5",34),t._uU(81,"Recent Cases"),t.qZA()(),t.TgZ(82,"div",35)(83,"a",36),t.NdJ("click",function(){return i.viewAllCase(i.tabledata.patientId)}),t._uU(84," View All "),t.qZA(),t.TgZ(85,"a",37),t.NdJ("click",function(){return i.addcases()}),t._UZ(86,"i",38),t._uU(87," Add Case "),t.qZA(),t.TgZ(88,"a",39),t._UZ(89,"i",40),t._uU(90," Mail "),t.qZA(),t.TgZ(91,"a",41),t._UZ(92,"i",42),t._uU(93," Video Conference "),t.qZA()()()(),t.TgZ(94,"div",43)(95,"div",44),t.YNc(96,R,16,2,"table",45),t.qZA()()()()()),2&e&&(t.xp6(15),t.AsE("",i.tabledata.firstName," ",i.tabledata.lastName,""),t.xp6(11),t.Q6J("ngIf",1==i.caseImage),t.xp6(1),t.Q6J("ngIf",0==i.caseImage),t.xp6(8),t.s9C("value",i.tabledata.patientId),t.xp6(5),t.s9C("value",i.refrernceNo),t.xp6(5),t.s9C("value",t.xi3(46,14,i.tabledata.dob,"dd/MM/yyyy")),t.xp6(6),t.Q6J("ngIf",0==i.tabledata.gender),t.xp6(1),t.Q6J("ngIf",1==i.tabledata.gender),t.xp6(6),t.s9C("value",i.policyNo),t.xp6(5),t.s9C("value",i.insurance),t.xp6(5),t.s9C("value",i.tabledata.email),t.xp6(5),t.s9C("value",i.mobileNo),t.xp6(23),t.Q6J("ngIf",i.casedata))},directives:[h.yS,m.O5,C.G,m.sg],pipes:[m.uU],styles:['button[_ngcontent-%COMP%]:focus{box-shadow:none}.page-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:after{content:"(+)";background-image:none;margin-left:10px;height:auto;color:#00d9cc}.page-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{content:"(-)";background-image:none;transform:rotate(0)}.page-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#0070d2;box-shadow:none}.page-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:600;background:transparent;padding:0;width:auto}']}),n})();var I=g(4580),O=g(995);function B(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",81)(1,"div",82),t._UZ(2,"img",83),t.qZA(),t.TgZ(3,"a",84),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeImage()}),t._uU(4,"Remove picture"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.s9C("src",e.patientImg,t.LSH)}}function H(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"label",18),t._uU(2,"Patient Image"),t.qZA(),t.TgZ(3,"input",85),t.NdJ("change",function(a){return t.CHM(e),t.oxw().loadFiles(a)}),t.qZA()()}}function G(n,l){if(1&n&&t._UZ(0,"textarea",86),2&n){const e=t.oxw();t.s9C("ngModel",e.tabledata.address.street)}}function V(n,l){1&n&&t._UZ(0,"textarea",87)}function W(n,l){1&n&&(t.ynx(0),t._uU(1,"Active"),t.BQk())}function z(n,l){1&n&&(t.ynx(0),t._uU(1,"Inactive"),t.BQk())}function K(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",92)(1,"div",93)(2,"label",94),t._uU(3),t.TgZ(4,"span",95),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"div",96)(7,"input",97),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"medication",a)}),t.qZA()()(),t.TgZ(8,"div",15)(9,"label",94),t._uU(10,"Dosage "),t.TgZ(11,"span",95),t._uU(12,"*"),t.qZA()(),t.TgZ(13,"div",98)(14,"input",97),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"dosage",a)}),t.qZA()(),t.TgZ(15,"label",94),t._uU(16,"Duration "),t.TgZ(17,"span",95),t._uU(18,"*"),t.qZA()(),t.TgZ(19,"div",98)(20,"input",97),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"duration",a)}),t.qZA()()(),t.TgZ(21,"div",15)(22,"div",99)(23,"div",15)(24,"label",94),t._uU(25,"Notes"),t.qZA(),t.TgZ(26,"div",96)(27,"textarea",100),t.NdJ("ngModel",function(){return t.CHM(e),t.oxw().$implicit.notes})("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"notes",a)}),t.qZA()()()()()()}if(2&n){const e=t.oxw(),i=e.index,a=e.$implicit;t.xp6(3),t.hij("Medication ",i+1," "),t.xp6(4),t.s9C("ngModel",a.medication),t.MGl("name","medication_",a.id,"")("id","medication_",a.id,""),t.xp6(7),t.s9C("ngModel",a.dosage),t.MGl("name","dosage_",a.id,"")("id","dosage_",a.id,""),t.xp6(6),t.s9C("ngModel",a.duration),t.MGl("name","duration_",a.id,"")("id","duration_",a.id,""),t.xp6(7),t.MGl("name","notes_",a.id,"")("id","notes_",a.id,"")}}function X(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",92)(1,"div",93)(2,"label",94),t._uU(3),t.qZA(),t.TgZ(4,"div",96)(5,"input",101),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"medication",a)}),t.qZA()()(),t.TgZ(6,"div",15)(7,"label",94),t._uU(8,"Dosage "),t.qZA(),t.TgZ(9,"div",98)(10,"input",101),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"dosage",a)}),t.qZA()(),t.TgZ(11,"label",94),t._uU(12,"Duration "),t.qZA(),t.TgZ(13,"div",98)(14,"input",101),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"duration",a)}),t.qZA()()(),t.TgZ(15,"div",15)(16,"div",99)(17,"div",15)(18,"label",94),t._uU(19,"Notes"),t.qZA(),t.TgZ(20,"div",96)(21,"textarea",102),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"notes",a)}),t.qZA()()()()()()}if(2&n){const e=t.oxw(),i=e.index,a=e.$implicit;t.xp6(3),t.hij("Medication ",i+1,""),t.xp6(2),t.s9C("ngModel",a.medication),t.MGl("name","medication_",a.id,"")("id","medication_",a.id,""),t.xp6(5),t.s9C("ngModel",a.dosage),t.MGl("name","dosage_",a.id,"")("id","dosage_",a.id,""),t.xp6(4),t.s9C("ngModel",a.duration),t.MGl("name","duration_",a.id,"")("id","duration_",a.id,""),t.xp6(7),t.s9C("ngModel",a.notes),t.MGl("name","notes_",a.id,"")("id","notes_",a.id,"")}}function tt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index;return t.oxw().removeMedication(a)}),t._UZ(1,"i",104),t.qZA()}}function et(n,l){if(1&n&&(t.ynx(0),t.YNc(1,K,28,12,"div",88),t.YNc(2,X,22,13,"ng-template",null,89,t.W1O),t.TgZ(4,"div",90),t.YNc(5,tt,2,0,"button",91),t.TgZ(6,"span"),t._uU(7,"\xa0"),t.qZA()(),t.BQk()),2&n){const e=l.$implicit,i=l.index,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.isRequired)("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",i>2)}}let it=(()=>{class n{constructor(e,i,a,o,d,c){this.dataService=e,this.router=i,this.utility=a,this.usr=o,this.utilitydev=d,this.route=c,this.saveActiveInactive=!1,this.patiantStatus=!1,this.jsonObj={firstName:"",lastName:"",email:"",residingState:"",refId:"",image:"",phone:"",city:"",isActive:!1,dob:0,address:{},notes:{},insurance:{},medication:Array(),gender:0,patientId:0},this.objAddress={street:""},this.objNote={note:""},this.maxDate=new Date,this.module="patient",this.patientImage="",this.medicationsArray1=[],this.medicationsArray=[{id:1,medication:"",dosage:"",duration:"",notes:"",isRequired:!1},{id:2,medication:"",dosage:"",duration:"",notes:"",isRequired:!1},{id:3,medication:"",dosage:"",duration:"",notes:"",isRequired:!1}],this.objMedicationLength=[{id:1},{id:2},{id:3}],this.attachmentFiles=[],this.paramPatientId=this.route.snapshot.paramMap.get("patientId")}onActiveInactiveChanged(e){this.saveActiveInactive=e,this.patiantStatus=e}ngOnInit(){this.getallpatiant()}getallpatiant(){this.tabledata="",this.objInsuranceview="",s().fire({title:"Loading....",showConfirmButton:!1,timer:2200});let e=this.utility.apiData.userPatients.ApiUrl,i=this.paramPatientId;""!=i&&(e+="?patientId="+i),this.dataService.getallData(e,!0).subscribe(a=>{if(a){if(this.tabledata=JSON.parse(a.toString()),this.patientImage=this.tabledata.image,this.saveActiveInactive=this.tabledata.isActive,this.tabledata.medication.length>0&&(this.objMedicationLength=Array()),this.objInsuranceview=this.tabledata.insurance,this.objInsurance=JSON.stringify(this.tabledata.insurance),this.tabledata.medication.length>0){this.objMedicationLength=Array(),this.medicationsArray=Array();for(var o=0;o<this.tabledata.medication.length;o++)this.objMedicationLength.push({id:o+1}),this.medicationsArray.push(""!=this.tabledata.medication[o].medication||""!=this.tabledata.medication[o].dosage||""!=this.tabledata.medication[o].duration||""!=this.tabledata.medication[o].notes?{id:o+1,medication:this.tabledata.medication[o].medication,dosage:this.tabledata.medication[o].dosage,duration:this.tabledata.medication[o].duration,notes:this.tabledata.medication[o].notes,isRequired:!0}:{id:o+1,medication:this.tabledata.medication[o].medication,dosage:this.tabledata.medication[o].dosage,duration:this.tabledata.medication[o].duration,notes:this.tabledata.medication[o].notes,isRequired:!1})}setTimeout(()=>{this.tabledata.image&&this.setcvImage(this.tabledata.image),this.setcvFast()},1e3)}},a=>{404===a.status?s().fire("E-Mail ID does not exists,please signup to continue"):403===a.status?s().fire("Account Disabled,contact Dental-Live"):400===a.status?s().fire("Wrong Password,please try again"):401===a.status?s().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===a.status?s().fire(a.error):s().fire("Unable to fetch the data, please try again")})}setcvFast(){this.cv.setCvfast(this.tabledata.notes)}setcvImage(e){this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+e+"&module="+this.module+"&type=get",!0).subscribe(a=>{a&&(this.patientImg=a)},a=>{404===a.status?s().fire("E-Mail ID does not exists,please signup to continue"):403===a.status?s().fire("Account Disabled,contact Dental-Live"):400===a.status?s().fire("Wrong Password,please try again"):401===a.status?s().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===a.status?s().fire(a.error):s().fire("Unable to fetch the data, please try again")})}getUniqueName(e){let i=0;return i>0&&(e=e.split(".")[0]+"_"+i+"."+e.split(".")[1]),i++,e}loadFiles(e){if(e.target.files.length>0){if(!["image","video","audio","pdf","msword","ms-excel"].some(a=>e.target.files[0].type.includes(a)))return void s().fire("File Extenion Not Allowed");this.attachmentFiles=Array(),this.attachmentFiles.push({name:this.getUniqueName(e.target.files[0].name),binaryData:e.target.files[0]})}}numberOnly(e){const i=e.which?e.which:e.keyCode;return!(i>31&&(i<48||i>57))}deletepatiant(e){this.dataService.deletePatientData(this.utility.apiData.userPatients.ApiUrl,e).subscribe(a=>{s().fire("Patient deleted successfully"),this.router.navigate(["patients/patients-list"])},a=>(s().fire("Unable to fetch data, please try again"),!1))}onSubmitInsurance(e){this.objInsurance=JSON.stringify(e.value)}onGetdateData(e){this.jsonObj.firstName=e.firstName,this.jsonObj.lastName=e.lastName,this.jsonObj.dob=Date.parse(e.dob),this.jsonObj.email=e.email,this.jsonObj.patientId=e.patientId,this.jsonObj.residingState=e.residingState,this.jsonObj.isActive=this.patiantStatus,e.refId&&(this.jsonObj.refId=e.refId),e.phone&&(this.jsonObj.phone=e.phone),e.city&&(this.jsonObj.city=e.city),e.address&&(this.objAddress.street=e.address,this.jsonObj.address=this.objAddress),(""!=this.cv.returnCvfast().text||this.cv.returnCvfast().links.length>0)&&(this.jsonObj.notes=this.cv.returnCvfast()),e.gender&&(this.jsonObj.gender=parseInt(e.gender)),this.patientImgdata&&(this.jsonObj.image=this.patientImgdata),this.jsonObj.insurance=JSON.parse(this.objInsurance),this.jsonObj.medication=this.medicationsArray,this.cv.processFiles(this.utility.apiData.userPatients.ApiUrl,this.jsonObj,!0,"Patient updated successfully","patients/patients-list","put","","notes")}removeImage(){this.patientImgdata="",this.patientImage=""}onSubmit(e){if(e.invalid)e.form.markAllAsTouched();else if(e.value.image){let i=this.attachmentFiles.map(a=>this.utilitydev.uploadBinaryData(a.name,a.binaryData,this.module));Promise.all(i).then(a=>{this.attachmentFiles=[],this.patientImgdata=a[0],this.onGetdateData(e.value)}).catch(a=>(console.log(a),!1))}else this.patientImgdata=this.patientImage,this.onGetdateData(e.value)}addMedication(){this.objMedicationLength.push({id:this.medicationsArray.length+1}),this.medicationsArray.push({medication:"",dosage:"",duration:"",notes:"",isRequired:!1})}removeMedication(e){this.medicationsArray.length>1&&this.medicationsArray.splice(e,1),this.objMedicationLength=Array();for(var i=0;i<this.medicationsArray.length;i++)this.objMedicationLength.push({id:i+1})}onSubmitMedication(e){if(e.invalid)e.form.markAllAsTouched();else{this.medicationsArray=Array();for(var i=0;i<this.objMedicationLength.length;i++)this.medicationsArray.push({medication:e.value["medication_"+this.objMedicationLength[i].id],dosage:e.value["dosage_"+this.objMedicationLength[i].id],duration:e.value["duration_"+this.objMedicationLength[i].id],notes:e.value["notes_"+this.objMedicationLength[i].id]})}}confirmBox(){s().fire({title:"Are you sure want to remove?",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#0070D2",cancelButtonColor:"#F7517F",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(e=>{e.value?s().fire("Deleted!","Your imaginary file has been deleted.","success"):e.dismiss===s().DismissReason.cancel&&s().fire("Cancelled","Your imaginary file is safe :)","error")})}addMedicationValidation(e,i,a){this.medicationsArray[e].isRequired=""!=this.medicationsArray[e].medication||""!=this.medicationsArray[e].dosage||""!=this.medicationsArray[e].duration||""!=this.medicationsArray[e].notes,"medication"==i&&(this.medicationsArray[e].medication=a.target.value),"dosage"==i&&(this.medicationsArray[e].dosage=a.target.value),"duration"==i&&(this.medicationsArray[e].duration=a.target.value),"notes"==i&&(this.medicationsArray[e].notes=a.target.value)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.T),t.Y36(h.F0),t.Y36(u.t),t.Y36(b.f),t.Y36(O.F),t.Y36(h.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-patient-edit"]],viewQuery:function(e,i){if(1&e&&t.Gf(I.x,5),2&e){let a;t.iGM(a=t.CRH())&&(i.cv=a.first)}},decls:176,vars:33,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/patients"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-md-10"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mt-2"],["id","mainForm",3,"ngSubmit"],["f","ngForm"],[1,"row"],[1,"col-md-6"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["type","text","value","Colin","required","","maxlength","40","name","firstName","id","firstName","readonly","",1,"form-control",3,"ngModel"],["type","text","value","Sik colin","maxlength","40","required","","name","lastName","id","lastName","readonly","",1,"form-control",3,"ngModel"],["name","gender","id","gender",1,"form-select",3,"ngModel"],["value",""],["value","0"],["value","1","selected",""],["type","date","max","2000-13-13","required","","name","dob","id","dob",1,"form-control",3,"ngModel","max"],["type","text","value","+14378861569","maxlength","10","minlength","10","name","phone","id","phone",1,"form-control",3,"ngModel","keypress"],["class","profile-img justify-content-center p-md-2 mt-3 text-center",4,"ngIf"],["class","mb-4",4,"ngIf"],["type","text","name","refId","id","refId","value","#2456789","readonly","",1,"form-control",3,"ngModel"],["type","email","required","","maxlength","150","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$","value","prerna.junejac@gmail.com","name","email","id","email","readonly","",1,"form-control",3,"ngModel"],["rows","2","class","form-control","name","address","id","address",3,"ngModel",4,"ngIf","ngIfElse"],["emptyaddress",""],["type","text","name","city","maxlength","100","id","city","value","Toronto",1,"form-control",3,"ngModel"],["type","text","name","residingState","maxlength","100","id","residingState","required","","value","Ontario",1,"form-control",3,"ngModel"],["type","hidden","name","patientId","maxlength","100","id","patientId","required","","value","Ontario",1,"form-control",3,"ngModel"],[1,"col-md-12","mb-2"],["type","submit",1,"btn","btn-default","mt-1","me-2","border-0"],["routerLink","/patients/patients-list",1,"btn","btn-pink","mt-1","me-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-light-green","mt-1","me-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#editMedicationModal",1,"btn","btn-dark","mt-1","me-2"],["type","button",1,"btn","btn-danger","mt-1","me-2","border-0",3,"click"],[1,"form-check","form-check-inline","form-switch","mt-1"],["type","checkbox","id","activeInactive",1,"form-check-input",3,"change"],["activeInactive",""],["for","activeInactive",1,"form-check-label","fs-6"],[4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],["id","insuranceForm",3,"ngSubmit"],["insuranceForm","ngForm"],[1,"modal-header"],["id","addInsuranceModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],[1,"form-label","body2"],["type","text","name","carrier","id","carrier",1,"form-control",3,"ngModel"],["type","text","name","employer","id","employer",1,"form-control",3,"ngModel"],["type","text","name","policyno","id","policyno",1,"form-control",3,"ngModel"],["type","text","name","group","id","group",1,"form-control",3,"ngModel"],["type","text","name","policyholder","id","policyholder",1,"form-control",3,"ngModel"],["type","date","name","policydate","id","policydate",1,"form-control",3,"ngModel"],["rows","2","name","noteinc","id","noteinc",1,"form-control",3,"ngModel"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default"],["id","editMedicationModal","tabindex","-1","aria-labelledby","editMedicationModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],["id","editMedicationModalLabel",1,"modal-title"],["id","medicationForm",3,"ngSubmit"],["medicationForm","ngForm"],[1,"repeatsec"],[4,"ngFor","ngForOf"],[1,"text-end","mb-3","add-button"],["type","button",1,"btn","btn-default","btn-sm","px-2",3,"click"],[1,"bx","bx-plus","me-0"],[1,"d-flex","flex-wrap","align-items-center","justify-content-start"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default","m-1",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","m-1"],[1,"profile-img","justify-content-center","p-md-2","mt-3","text-center"],[1,"capture"],["alt","",1,"mb-2",3,"src"],["href","javascript:void(0);",1,"body2","text-primary",3,"click"],["type","file","name","image","accept","image/*","id","image","ngModel","",1,"form-control",2,"line-height","2.2","background-color","#EFF3F7","border","2px dashed #AEB4BF",3,"change"],["rows","2","name","address","id","address",1,"form-control",3,"ngModel"],["rows","2","ngModel","","name","address","id","address",1,"form-control"],["class","repeatbox mb-3 p-3",4,"ngIf","ngIfElse"],["elseMedication",""],[1,"text-end","mb-3","remove-button"],["type","button","class","btn btn-pink btn-sm px-2",3,"click",4,"ngIf"],[1,"repeatbox","mb-3","p-3"],[1,"mb-3","row"],[1,"col-sm-4","col-lg-2","col-form-label"],[1,"text-danger"],[1,"col-sm-8","col-lg-10"],["type","text","required","","placeholder","",1,"form-control",3,"ngModel","name","id","keyup"],[1,"col-sm-8","col-lg-4","mb-3"],[1,"col-12"],["rows","2","placeholder","",1,"form-control",3,"name","id","ngModel","keyup"],["type","text","placeholder","",1,"form-control",3,"ngModel","name","id","keyup"],["rows","2","placeholder","",1,"form-control",3,"ngModel","name","id","keyup"],["type","button",1,"btn","btn-pink","btn-sm","px-2",3,"click"],[1,"bx","bx-trash","me-0"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),t._UZ(3,"i",3),t._uU(4," Dashboard"),t.qZA()(),t.TgZ(5,"li",1)(6,"a",4),t._uU(7,"Patients"),t.qZA()(),t.TgZ(8,"li",5),t._uU(9," Edit Patient "),t.qZA()(),t.TgZ(10,"div",6)(11,"div",7)(12,"h3"),t._uU(13,"Edit Patient"),t.qZA()()(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"div",7)(20,"form",13,14),t.NdJ("ngSubmit",function(){t.CHM(a);const d=t.MAs(21);return i.onSubmit(d)}),t.TgZ(22,"div",15)(23,"div",16)(24,"div",17)(25,"label",18),t._uU(26,"First Name"),t.qZA(),t._UZ(27,"input",19),t.qZA(),t.TgZ(28,"div",17)(29,"label",18),t._uU(30,"Last Name"),t.qZA(),t._UZ(31,"input",20),t.qZA(),t.TgZ(32,"div",17)(33,"label",18),t._uU(34,"Gender"),t.qZA(),t.TgZ(35,"div")(36,"select",21)(37,"option",22),t._uU(38,"Select Gender"),t.qZA(),t.TgZ(39,"option",23),t._uU(40,"Male"),t.qZA(),t.TgZ(41,"option",24),t._uU(42,"Female"),t.qZA()()()(),t.TgZ(43,"div",17)(44,"label",18),t._uU(45,"Date of Birth"),t.qZA(),t._UZ(46,"input",25),t.ALo(47,"date"),t.ALo(48,"date"),t.qZA(),t.TgZ(49,"div",17)(50,"label",18),t._uU(51,"Phone Number"),t.qZA(),t.TgZ(52,"input",26),t.NdJ("keypress",function(d){return i.numberOnly(d)}),t.qZA()()(),t.TgZ(53,"div",16),t.YNc(54,B,5,1,"div",27),t.YNc(55,H,4,0,"div",28),t.TgZ(56,"div",17)(57,"label",18),t._uU(58,"Reference ID"),t.qZA(),t._UZ(59,"input",29),t.qZA(),t.TgZ(60,"div",17)(61,"label",18),t._uU(62,"Email"),t.qZA(),t._UZ(63,"input",30),t.qZA(),t.TgZ(64,"div",17)(65,"label",18),t._uU(66,"Address"),t.qZA(),t.YNc(67,G,1,1,"textarea",31),t.YNc(68,V,1,0,"ng-template",null,32,t.W1O),t.qZA()()(),t.TgZ(70,"div",15)(71,"div",16)(72,"div",17)(73,"label",18),t._uU(74,"City"),t.qZA(),t._UZ(75,"input",33),t.qZA()(),t.TgZ(76,"div",16)(77,"div",17)(78,"label",18),t._uU(79,"State/Province"),t.qZA(),t._UZ(80,"input",34)(81,"input",35),t.qZA()(),t.TgZ(82,"div",7)(83,"div",17)(84,"label",18),t._uU(85,"Notes"),t.qZA(),t._UZ(86,"app-cvfast"),t.qZA()()(),t.TgZ(87,"div",15)(88,"div",36)(89,"button",37),t._uU(90," Save "),t.qZA(),t.TgZ(91,"a",38),t._uU(92," Cancel "),t.qZA(),t.TgZ(93,"a",39),t._uU(94," Edit Insurance "),t.qZA(),t.TgZ(95,"a",40),t._uU(96," Edit Medication "),t.qZA(),t.TgZ(97,"button",41),t.NdJ("click",function(){return i.deletepatiant(i.tabledata.patientId)}),t._uU(98," Delete "),t.qZA(),t.TgZ(99,"div",42)(100,"input",43,44),t.NdJ("change",function(){t.CHM(a);const d=t.MAs(101);return i.onActiveInactiveChanged(d.checked)}),t.qZA(),t.TgZ(102,"label",45),t.YNc(103,W,2,0,"ng-container",46),t.YNc(104,z,2,0,"ng-container",46),t.qZA()()()()()()()()()()(),t.TgZ(105,"div",47)(106,"div",48)(107,"div",49)(108,"form",50,51),t.NdJ("ngSubmit",function(){t.CHM(a);const d=t.MAs(109);return i.onSubmitInsurance(d)}),t.TgZ(110,"div",52)(111,"h6",53),t._uU(112,"Edit Insurance"),t.qZA(),t._UZ(113,"button",54),t.qZA(),t.TgZ(114,"div",55)(115,"div",15)(116,"div",7)(117,"div",56)(118,"label",57),t._uU(119,"Insurance Carrier Name"),t.qZA(),t._UZ(120,"input",58),t.qZA()(),t.TgZ(121,"div",7)(122,"div",56)(123,"label",57),t._uU(124,"Employer"),t.qZA(),t._UZ(125,"input",59),t.qZA()(),t.TgZ(126,"div",7)(127,"div",56)(128,"label",57),t._uU(129,"Insurance Policy No"),t.qZA(),t._UZ(130,"input",60),t.qZA()(),t.TgZ(131,"div",7)(132,"div",56)(133,"label",57),t._uU(134,"Group"),t.qZA(),t._UZ(135,"input",61),t.qZA()(),t.TgZ(136,"div",7)(137,"div",56)(138,"label",57),t._uU(139,"Policy Holder"),t.qZA(),t._UZ(140,"input",62),t.qZA()(),t.TgZ(141,"div",7)(142,"div",56)(143,"label",57),t._uU(144,"Effective Date"),t.qZA(),t._UZ(145,"input",63),t.qZA()(),t.TgZ(146,"div",7)(147,"div",56)(148,"label",57),t._uU(149,"Notes"),t.qZA(),t._UZ(150,"textarea",64),t.qZA()()()(),t.TgZ(151,"div",65)(152,"button",66),t._uU(153,"Close"),t.qZA(),t.TgZ(154,"button",67),t._uU(155,"Save"),t.qZA()()()()()(),t.TgZ(156,"div",68)(157,"div",69)(158,"div",49)(159,"div",52)(160,"h6",70),t._uU(161,"Edit Medication"),t.qZA(),t._UZ(162,"button",54),t.qZA(),t.TgZ(163,"div",55)(164,"form",71,72),t.NdJ("ngSubmit",function(){t.CHM(a);const d=t.MAs(165);return i.onSubmitMedication(d)}),t.TgZ(166,"section",73),t.YNc(167,et,8,3,"ng-container",74),t.TgZ(168,"div",75)(169,"button",76),t.NdJ("click",function(){return i.addMedication()}),t._UZ(170,"i",77),t.qZA()()(),t.TgZ(171,"div",78)(172,"button",79),t._uU(173,"Save"),t.qZA(),t.TgZ(174,"button",80),t._uU(175,"Cancel"),t.qZA()()()()()()()}if(2&e){const a=t.MAs(69),o=t.MAs(165);t.xp6(27),t.s9C("ngModel",i.tabledata.firstName),t.xp6(4),t.s9C("ngModel",i.tabledata.lastName),t.xp6(5),t.s9C("ngModel",i.tabledata.gender),t.xp6(10),t.s9C("ngModel",t.xi3(47,27,i.tabledata.dob,"yyyy-MM-dd")),t.s9C("max",t.xi3(48,30,i.maxDate,"yyyy-MM-dd")),t.xp6(6),t.s9C("ngModel",i.tabledata.phone),t.xp6(2),t.Q6J("ngIf",i.patientImage),t.xp6(1),t.Q6J("ngIf",""==i.patientImage),t.xp6(4),t.s9C("ngModel",i.tabledata.refId),t.xp6(4),t.s9C("ngModel",i.tabledata.email),t.xp6(4),t.Q6J("ngIf",i.tabledata.address)("ngIfElse",a),t.xp6(8),t.s9C("ngModel",i.tabledata.city),t.xp6(5),t.s9C("ngModel",i.tabledata.residingState),t.xp6(1),t.s9C("ngModel",i.tabledata.patientId),t.xp6(19),t.uIk("checked",!0===i.saveActiveInactive||null),t.xp6(3),t.Q6J("ngIf",1==i.saveActiveInactive),t.xp6(1),t.Q6J("ngIf",0==i.saveActiveInactive),t.xp6(16),t.s9C("ngModel",i.objInsuranceview.carrier),t.xp6(5),t.s9C("ngModel",i.objInsuranceview.employer),t.xp6(5),t.s9C("ngModel",i.objInsuranceview.policyno),t.xp6(5),t.s9C("ngModel",i.objInsuranceview.group),t.xp6(5),t.s9C("ngModel",i.objInsuranceview.policyholder),t.xp6(5),t.s9C("ngModel",i.objInsuranceview.policydate),t.xp6(5),t.s9C("ngModel",i.objInsuranceview.noteinc),t.xp6(17),t.Q6J("ngForOf",i.medicationsArray),t.xp6(5),t.Q6J("disabled",!o.form.valid)}},directives:[h.yS,r._Y,r.JL,r.F,r.Fj,r.Q7,r.nD,r.JJ,r.On,r.EJ,r.YN,r.Kr,r.wO,m.O5,r.c5,I.x,m.sg],pipes:[m.uU],styles:[".repeatbox[_ngcontent-%COMP%]{background:#F3F6FF;border:1px solid #DDE4EB;border-radius:10px}.repeatsec[_ngcontent-%COMP%]   .repeatbox[_ngcontent-%COMP%]:nth-child(5) + .remove-button[_ngcontent-%COMP%]{display:none}.repeatsec[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{position:absolute;right:70px;bottom:64px}.repeatsec[_ngcontent-%COMP%]   .repeatbox[_ngcontent-%COMP%]:nth-child(5) + .remove-button[_ngcontent-%COMP%] + .add-button[_ngcontent-%COMP%]{position:relative;right:0px;bottom:0px}"]}),n})();function at(n,l){1&n&&(t.TgZ(0,"span",68),t._uU(1,"Active"),t.qZA())}function nt(n,l){1&n&&(t.TgZ(0,"span",69),t._uU(1,"Inactive"),t.qZA())}function ot(n,l){if(1&n&&(t.TgZ(0,"li",70)(1,"span",58),t._uU(2),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.userName.charAt(0))}}function dt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",55)(3,"span",56),t._uU(4),t.qZA(),t._UZ(5,"input",57),t.qZA()(),t.TgZ(6,"td")(7,"div")(8,"span",58),t._uU(9),t.qZA(),t.TgZ(10,"span",59),t._uU(11),t.qZA()()(),t.TgZ(12,"td")(13,"span",51),t._uU(14),t.qZA()(),t.TgZ(15,"td")(16,"div"),t.YNc(17,at,2,0,"span",60),t._UZ(18,"br"),t.YNc(19,nt,2,0,"span",61),t._UZ(20,"br"),t.TgZ(21,"small",62),t._uU(22),t.ALo(23,"date"),t.qZA()()(),t.TgZ(24,"td")(25,"ul",63),t.YNc(26,ot,3,1,"li",64),t.qZA()(),t.TgZ(27,"td")(28,"div",65)(29,"a",66),t.NdJ("click",function(){const o=t.CHM(e).$implicit;return t.oxw(3).viewCase(o.caseId,o.patientId)}),t.TgZ(30,"i",67),t._uU(31,"visibility"),t.qZA()()()()()}if(2&n){const e=l.$implicit,i=l.index;t.xp6(4),t.Oqu(i),t.xp6(5),t.Oqu(e.patientName.charAt(0)),t.xp6(2),t.Oqu(e.patientName),t.xp6(3),t.Oqu(e.title),t.xp6(3),t.Q6J("ngIf",1==e.caseStatus),t.xp6(2),t.Q6J("ngIf",0==e.caseStatus),t.xp6(3),t.hij("Created on : ",t.xi3(23,8,e.dateCreated,"mediumDate"),""),t.xp6(4),t.Q6J("ngForOf",e.memberName)}}function st(n,l){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,dt,32,11,"tr",54),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.casedata)}}function lt(n,l){if(1&n&&(t.TgZ(0,"table",48)(1,"thead",49)(2,"tr")(3,"th",50),t._uU(4,"\xa0 "),t.qZA(),t.TgZ(5,"th",51),t._uU(6,"PATIENT NAME"),t.qZA(),t.TgZ(7,"th",51),t._uU(8,"CASE TITLE"),t.qZA(),t.TgZ(9,"th",51),t._uU(10,"STATUS"),t.qZA(),t.TgZ(11,"th",51),t._uU(12,"MEMBERS"),t.qZA(),t.TgZ(13,"th",52),t._uU(14,"Actions"),t.qZA()()(),t.YNc(15,st,2,1,"tbody",53),t.qZA()),2&n){const e=t.oxw();t.Q6J("dtOptions",e.dtOptions),t.xp6(15),t.Q6J("ngIf",0!=(null==e.casedata?null:e.casedata.length))}}let rt=(()=>{class n{constructor(e,i,a,o,d){this.dataService=e,this.utility=i,this.usr=a,this.router=o,this.route=d,this.dtOptions={},this.indexRow=0,this.paramPatientId=this.route.snapshot.paramMap.get("patientId")}ngOnInit(){this.getallcase(),this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}searchText(e){var i=e.target.value;$("#dataTables").DataTable().search(i).draw()}viewCase(e,i){this.router.navigate(["master/master-list/"+e+"/caseDetails"])}getallcase(){if(this.usr.getUserDetails(!1)){s().fire({title:"Loading....",showConfirmButton:!1,timer:3e3});let i=this.utility.apiData.userCases.ApiUrl,a=this.paramPatientId;""!=a&&(i+="?patientId="+a),this.dataService.getallData(i,!0).subscribe(o=>{if(o){let c=JSON.parse(o.toString());c.sort((p,T)=>p.dateUpdated>T.dateUpdated?-1:1),this.casedata=Array();for(var d=0;d<c.length;d++)this.casedata.push({id:d,patientName:c[d].patientName,title:c[d].title,caseStatus:c[d].caseStatus,dateCreated:c[d].dateCreated,memberName:"",patientId:c[d].patientId,caseId:c[d].caseId}),this.getCaseMemberList(c[d].caseId,d)}},o=>(s().fire("Unable to fetch data, please try again"),!1))}}getCaseMemberList(e,i){let a=this.usr.getUserDetails(!1),o=this.utility.apiData.userCaseInvites.ApiUrl;""!=e&&(o+="?caseId="+e),o+="&resourceOwner="+a.dentalId,this.dataService.getallData(o,!0).subscribe(d=>{if(d){let p=JSON.parse(d.toString());p.sort((T,q)=>T.dateUpdated>q.dateUpdated?-1:1),this.invitedatas=Array(),this.indexRow=0;for(var c=0;c<p.length;c++)this.invitedatas.push({id:this.indexRow,userName:""}),this.getuserdetailsall(p[c].invitedUserId,this.indexRow,i),this.indexRow++}},d=>{404===d.status?s().fire("E-Mail ID does not exists,please signup to continue"):403===d.status?s().fire("Account Disabled,contact Dental-Live"):400===d.status?s().fire("Wrong Password,please try again"):401===d.status?s().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===d.status?s().fire(d.error):s().fire("Unable to fetch the data, please try again")})}getuserdetailsall(e,i,a){if(this.usr.getUserDetails(!1)){let d=this.utility.apiData.userColleague.ApiUrl;""!=e&&(d+="?dentalId="+e);let c=this.invitedatas;this.dataService.getallData(d,!0).subscribe(p=>{if(p){let T=JSON.parse(p.toString());c[i].userName=T[0].accountfirstName+" "+T[0].accountlastName,i+1==c.length&&(this.casedata[a].memberName=c)}},p=>(s().fire("Unable to fetch data, please try again"),!1))}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.T),t.Y36(u.t),t.Y36(b.f),t.Y36(h.F0),t.Y36(h.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-patient-case-list"]],decls:87,vars:1,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/patients"],["routerLink","/patients/patient-details"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"text-primary"],[1,"col-md-6","text-end"],["routerLink","/cases/case-add",1,"btn","btn-default"],[1,"bx","bx-briefcase-alt"],[1,"row","align-items-center"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"my-2"],[1,"body1","card-title","mb-0"],[1,"d-flex","align-items-center","flex-wrap"],["data-bs-toggle","modal","data-bs-target","#filterModal",1,"btn","filter-btn","me-2","my-2"],[1,"bx","bx-filter-alt"],[1,"d-none","d-sm-inline-block","ms-2"],[1,"search","search-md"],[1,"bx","bx-search"],["type","text","placeholder","Search",1,"form-control",3,"keyup"],[1,"card-body","p-0","pb-3"],[1,"table-responsive"],["class","table table-hover table-nowrap align-middle","datatable","","id","dataTables",3,"dtOptions",4,"ngIf"],["id","filterModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","gy-3"],["placeholder","search",1,"form-select"],["disabled","","selected",""],[1,"search"],["type","text","placeholder","Search by Patients name",1,"form-control"],["type","text","placeholder","Search by case name",1,"form-control"],[1,"form-label","body2","text-dark"],["type","date",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-default"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light","text-uppercase"],["data-orderable","false",2,"width","15px"],[1,"body2"],["data-orderable","false",1,"body2"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"form-check","form-check-inline"],[1,"d-none"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","mt-2"],[1,"avatar-icon"],[1,"body2","ms-1"],["class","badge rounded-pill badge-success body2",4,"ngIf"],["class","badge rounded-pill badge-warning body2",4,"ngIf"],[1,"text-muted"],[1,"avatar-list"],["class","avatar-item",4,"ngFor","ngForOf"],[1,"d-flex"],["href","javascript:void(0);",3,"click"],[1,"material-icons","text-light-green"],[1,"badge","rounded-pill","badge-success","body2"],[1,"badge","rounded-pill","badge-warning","body2"],[1,"avatar-item"]],template:function(e,i){1&e&&(t.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),t._UZ(3,"i",3),t._uU(4," Dashboard"),t.qZA()(),t.TgZ(5,"li",1)(6,"a",4),t._uU(7,"Patients"),t.qZA()(),t.TgZ(8,"li",1)(9,"a",5),t._uU(10,"Patient View"),t.qZA()(),t.TgZ(11,"li",6),t._uU(12," Patient Cases "),t.qZA()(),t.TgZ(13,"div",7)(14,"div",8)(15,"h3"),t._uU(16,"Diana > "),t.TgZ(17,"span",9),t._uU(18," Cases"),t.qZA()()(),t.TgZ(19,"div",10)(20,"a",11),t._UZ(21,"i",12),t._uU(22," Add Case"),t.qZA()()(),t.TgZ(23,"div",13)(24,"div",14)(25,"div",15)(26,"div",16)(27,"div",17)(28,"div",18)(29,"h5",19),t._uU(30,"List of Cases"),t.qZA()(),t.TgZ(31,"div",20)(32,"button",21),t._UZ(33,"i",22),t.TgZ(34,"span",23),t._uU(35,"Filter"),t.qZA()(),t.TgZ(36,"div",24),t._UZ(37,"i",25),t.TgZ(38,"input",26),t.NdJ("keyup",function(o){return i.searchText(o)}),t.qZA()()()()(),t.TgZ(39,"div",27)(40,"div",28),t.YNc(41,lt,16,2,"table",29),t.qZA()()()()(),t.TgZ(42,"div",30)(43,"div",31)(44,"div",32)(45,"div",33)(46,"h5",34),t._uU(47,"Filter"),t.qZA(),t._UZ(48,"button",35),t.qZA(),t.TgZ(49,"div",36)(50,"div",37)(51,"div",14)(52,"select",38)(53,"option",39),t._uU(54,"Sort By"),t.qZA(),t.TgZ(55,"option"),t._uU(56,"Patients"),t.qZA(),t.TgZ(57,"option"),t._uU(58,"Cases"),t.qZA(),t.TgZ(59,"option"),t._uU(60,"Last modified"),t.qZA(),t.TgZ(61,"option"),t._uU(62,"Date created"),t.qZA()()(),t.TgZ(63,"div",14)(64,"div",40),t._UZ(65,"i",25)(66,"input",41),t.qZA()(),t.TgZ(67,"div",14)(68,"div",40),t._UZ(69,"i",25)(70,"input",42),t.qZA()(),t.TgZ(71,"div",14)(72,"label",43),t._uU(73,"Search by Date:"),t.qZA()(),t.TgZ(74,"div",8)(75,"label",43),t._uU(76,"From"),t.qZA(),t._UZ(77,"input",44),t.qZA(),t.TgZ(78,"div",8)(79,"label",43),t._uU(80,"To"),t.qZA(),t._UZ(81,"input",44),t.qZA()()(),t.TgZ(82,"div",45)(83,"button",46),t._uU(84,"Close"),t.qZA(),t.TgZ(85,"button",47),t._uU(86,"Apply"),t.qZA()()()()()),2&e&&(t.xp6(41),t.Q6J("ngIf",i.casedata))},directives:[h.yS,m.O5,C.G,m.sg,r.YN,r.Kr],pipes:[m.uU],styles:[""]}),n})();function ct(n,l){1&n&&(t.ynx(0),t._uU(1,"Active"),t.BQk())}function ut(n,l){1&n&&(t.ynx(0),t._uU(1,"Inactive"),t.BQk())}function pt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",86)(1,"div",87)(2,"label",88),t._uU(3),t.TgZ(4,"span",19),t._uU(5,"*"),t.qZA()(),t.TgZ(6,"div",89)(7,"input",90),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"medication",a)}),t.qZA()()(),t.TgZ(8,"div",15)(9,"label",88),t._uU(10,"Dosage "),t.TgZ(11,"span",19),t._uU(12,"*"),t.qZA()(),t.TgZ(13,"div",91)(14,"input",90),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"dosage",a)}),t.qZA()(),t.TgZ(15,"label",88),t._uU(16,"Duration "),t.TgZ(17,"span",19),t._uU(18,"*"),t.qZA()(),t.TgZ(19,"div",91)(20,"input",90),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"duration",a)}),t.qZA()()(),t.TgZ(21,"div",15)(22,"div",92)(23,"div",15)(24,"label",88),t._uU(25,"Notes"),t.qZA(),t.TgZ(26,"div",89)(27,"textarea",93),t.NdJ("ngModel",function(){return t.CHM(e),t.oxw().$implicit.notes})("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"notes",a)}),t.qZA()()()()()()}if(2&n){const e=t.oxw(),i=e.index,a=e.$implicit;t.xp6(3),t.hij("Medication ",i+1," "),t.xp6(4),t.s9C("ngModel",a.medication),t.MGl("name","medication_",a.id,"")("id","medication_",a.id,""),t.xp6(7),t.s9C("ngModel",a.dosage),t.MGl("name","dosage_",a.id,"")("id","dosage_",a.id,""),t.xp6(6),t.s9C("ngModel",a.duration),t.MGl("name","duration_",a.id,"")("id","duration_",a.id,""),t.xp6(7),t.MGl("name","notes_",a.id,"")("id","notes_",a.id,"")}}function mt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",86)(1,"div",87)(2,"label",88),t._uU(3),t.qZA(),t.TgZ(4,"div",89)(5,"input",94),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"medication",a)}),t.qZA()()(),t.TgZ(6,"div",15)(7,"label",88),t._uU(8,"Dosage "),t.qZA(),t.TgZ(9,"div",91)(10,"input",94),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"dosage",a)}),t.qZA()(),t.TgZ(11,"label",88),t._uU(12,"Duration "),t.qZA(),t.TgZ(13,"div",91)(14,"input",94),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"duration",a)}),t.qZA()()(),t.TgZ(15,"div",15)(16,"div",92)(17,"div",15)(18,"label",88),t._uU(19,"Notes"),t.qZA(),t.TgZ(20,"div",89)(21,"textarea",95),t.NdJ("keyup",function(a){t.CHM(e);const o=t.oxw().index;return t.oxw().addMedicationValidation(o,"notes",a)}),t.qZA()()()()()()}if(2&n){const e=t.oxw(),i=e.index,a=e.$implicit;t.xp6(3),t.hij("Medication ",i+1,""),t.xp6(2),t.s9C("ngModel",a.medication),t.MGl("name","medication_",a.id,"")("id","medication_",a.id,""),t.xp6(5),t.s9C("ngModel",a.dosage),t.MGl("name","dosage_",a.id,"")("id","dosage_",a.id,""),t.xp6(4),t.s9C("ngModel",a.duration),t.MGl("name","duration_",a.id,"")("id","duration_",a.id,""),t.xp6(7),t.s9C("ngModel",a.notes),t.MGl("name","notes_",a.id,"")("id","notes_",a.id,"")}}function gt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",96),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index;return t.oxw().removeMedication(a)}),t._UZ(1,"i",97),t.qZA()}}function _t(n,l){if(1&n&&(t.ynx(0),t.YNc(1,pt,28,12,"div",82),t.YNc(2,mt,22,13,"ng-template",null,83,t.W1O),t.TgZ(4,"div",84),t.YNc(5,gt,2,0,"button",85),t.TgZ(6,"span"),t._uU(7,"\xa0"),t.qZA()(),t.BQk()),2&n){const e=l.$implicit,i=l.index,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.isRequired)("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",i>2)}}let bt=(()=>{class n{constructor(e,i,a,o,d){this.dataService=e,this.router=i,this.utility=a,this.utilitydev=o,this.usr=d,this.saveActiveInactive=!0,this.patiantStatus=!0,this.isRequired=!0,this.maxDate=new Date,this.medicationsArray=[],this.medications=[{id:1,medication:"",dosage:"",duration:"",notes:"",isRequired:!1},{id:2,medication:"",dosage:"",duration:"",notes:"",isRequired:!1},{id:3,medication:"",dosage:"",duration:"",notes:"",isRequired:!1}],this.jsonObj={firstName:"",lastName:"",email:"",residingState:"",refId:"",image:"",phone:"",city:"",isActive:!1,dob:0,address:{},notes:{},insurance:{},medication:Array(),gender:0},this.objAddress={street:""},this.objNote={note:""},this.inProcess=!1,this.Insurance="",this.Medication="",this.module="patient",this.attachmentFiles=[],this.objMedicationLength=[{id:1},{id:2},{id:3},{id:4},{id:5}]}onActiveInactiveChanged(e){this.saveActiveInactive=e,this.patiantStatus=e}ngOnInit(){}numberOnly(e){const i=e.which?e.which:e.keyCode;return!(i>31&&(i<48||i>57))}onSubmitInsurance(e){""!=e.value.carrier||""!=e.value.employer||""!=e.value.policyno||""!=e.value.group||""!=e.value.policyholder||""!=e.value.policydate||""!=e.value.noteinc?(this.objInsurance=JSON.stringify(e.value),this.Insurance="1"):this.Insurance=""}onSubmitMedication(e){if(e.invalid)e.form.markAllAsTouched();else{this.Medication="1",this.medicationsArray=Array();for(var i=0;i<this.objMedicationLength.length;i++)this.medicationsArray.push({medication:e.value["medication_"+this.objMedicationLength[i].id],dosage:e.value["dosage_"+this.objMedicationLength[i].id],duration:e.value["duration_"+this.objMedicationLength[i].id],notes:e.value["notes_"+this.objMedicationLength[i].id]})}}getUniqueName(e){let i=0;return i>0&&(e=e.split(".")[0]+"_"+i+"."+e.split(".")[1]),i++,e}loadFiles(e){if(e.target.files.length>0){if(!["image","video","audio","pdf","msword","ms-excel"].some(a=>e.target.files[0].type.includes(a)))return void s().fire("File Extenion Not Allowed");this.attachmentFiles=Array(),this.attachmentFiles.push({name:this.getUniqueName(e.target.files[0].name),binaryData:e.target.files[0]})}}onGetdateData(e){this.jsonObj.firstName=e.firstName,this.jsonObj.lastName=e.lastName,this.jsonObj.dob=Date.parse(e.dob),this.jsonObj.email=e.email,this.jsonObj.residingState=e.residingState,this.jsonObj.isActive=this.patiantStatus,e.refId&&(this.jsonObj.refId=e.refId),e.phone&&(this.jsonObj.phone=e.phone),e.city&&(this.jsonObj.city=e.city),e.address&&(this.objAddress.street=e.address,this.jsonObj.address=this.objAddress),(""!=this.cv.returnCvfast().text||this.cv.returnCvfast().links.length>0)&&(this.jsonObj.notes=this.cv.returnCvfast()),e.gender&&(this.jsonObj.gender=parseInt(e.gender)),e.insurance&&(this.jsonObj.insurance=JSON.parse(this.objInsurance)),e.medication&&(this.jsonObj.medication=this.medicationsArray),e.image&&(this.jsonObj.image=this.PatientImg),this.cv.processFiles(this.utility.apiData.userPatients.ApiUrl,this.jsonObj,!0,"Patient added successfully","patients/patients-list","post","","notes")}onSubmit(e){if(e.invalid)e.form.markAllAsTouched();else if(e.value.image){let i=this.attachmentFiles.map(a=>this.utilitydev.uploadBinaryData(a.name,a.binaryData,this.module));Promise.all(i).then(a=>{this.attachmentFiles=[],this.PatientImg=a[0],this.onGetdateData(e.value)}).catch(a=>(console.log(a),!1))}else this.onGetdateData(e.value)}addMedication(){this.objMedicationLength.push({id:this.medications.length+1}),this.medications.push({id:this.medications.length+1,medication:"",dosage:"",duration:"",notes:"",isRequired:!1})}removeMedication(e){this.objMedicationLength.splice(e,1),this.medications.length>1&&this.medications.splice(e,1)}addMedicationValidation(e,i,a){this.medications[e].isRequired=""!=this.medications[e].medication||""!=this.medications[e].dosage||""!=this.medications[e].duration||""!=this.medications[e].notes,"medication"==i&&(this.medications[e].medication=a.target.value),"dosage"==i&&(this.medications[e].dosage=a.target.value),"duration"==i&&(this.medications[e].duration=a.target.value),"notes"==i&&(this.medications[e].notes=a.target.value)}logValue(){console.log(this.medications)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.T),t.Y36(h.F0),t.Y36(u.t),t.Y36(O.F),t.Y36(b.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-patient-add"]],viewQuery:function(e,i){if(1&e&&t.Gf(I.x,5),2&e){let a;t.iGM(a=t.CRH())&&(i.cv=a.first)}},decls:191,vars:11,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/patients"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-12"],[1,"row","pt-2"],[1,"col-md-10"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mt-2"],["id","mainForm",3,"ngSubmit"],["f","ngForm"],[1,"row"],[1,"col-md-6"],[1,"mb-4"],[1,"form-label","body2","text-dark"],[1,"text-danger"],["type","text","required","","maxlength","40","ngModel","","name","firstName","id","firstName",1,"form-control"],["type","text","required","","maxlength","40","ngModel","","name","lastName","id","lastName",1,"form-control"],["type","text","maxlength","30","ngModel","","name","refId","id","refId",1,"form-control"],["type","file","name","image","accept","image/*","id","image","ngModel","",1,"form-control",2,"line-height","2.2","background-color","#EFF3F7","border","2px dashed #AEB4BF",3,"change"],["name","gender","ngModel","0","id","gender",1,"form-select"],["value","0"],["value","1"],["type","date","required","","name","dob","ngModel","","id","dob",1,"form-control",3,"max"],["type","email","maxlength","150","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$","ngModel","","required","","name","email","id","email",1,"form-control"],["type","tel","maxlength","10","minlength","10","name","phone","ngModel","","id","phone",1,"form-control",3,"keypress"],["rows","2","ngModel","","name","address","id","address",1,"form-control"],["type","text","ngModel","","name","city","maxlength","100","id","city",1,"form-control"],["type","text","required","","ngModel","","name","residingState","maxlength","100","id","residingState",1,"form-control"],["type","hidden","ngModel","","name","notes","id","notes",1,"form-control"],["cvfast",""],["type","hidden","name","medication","id","medication",1,"form-control",3,"ngModel"],["type","hidden","name","insurance","id","insurance",1,"form-control",3,"ngModel"],["type","hidden","name","patiantStatus","id","patiantStatus",1,"form-control",3,"ngModel"],[1,"col-md-12","mb-2"],["type","submit",1,"btn","btn-default","mt-1","me-2"],["routerLink","/patients/patients-list",1,"btn","btn-pink","mt-1","me-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#addInsuranceModal",1,"btn","btn-light-green","mt-1","me-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#addMedicationModal",1,"btn","btn-dark","mt-1","me-2"],[1,"form-check","form-check-inline","form-switch","mt-2"],["type","checkbox","checked","","id","activeInactive",1,"form-check-input",3,"change"],["activeInactive",""],["for","activeInactive",1,"form-check-label","fs-6"],[4,"ngIf"],["id","addInsuranceModal","tabindex","-1","aria-labelledby","addInsuranceModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],["id","insuranceForm",3,"ngSubmit"],["insuranceForm","ngForm"],[1,"modal-header"],["id","addInsuranceModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],[1,"form-label","body2"],["type","text","ngModel","","name","carrier","id","carrier",1,"form-control"],["type","text","ngModel","","name","employer","id","employer",1,"form-control"],["type","text","ngModel","","name","policyno","id","policyno",1,"form-control"],["type","text","ngModel","","name","group","id","group",1,"form-control"],["type","text","ngModel","","name","policyholder","id","policyholder",1,"form-control"],["type","date","ngModel","","name","policydate","id","policydate",1,"form-control"],["rows","2","ngModel","","name","noteinc","id","noteinc",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default"],["id","addMedicationModal","tabindex","-1","aria-labelledby","addMedicationModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],["id","addMedicationModalLabel",1,"modal-title"],["id","medicationForm",3,"ngSubmit"],["medicationForm","ngForm"],[1,"repeatsec"],[4,"ngFor","ngForOf"],[1,"text-end","mb-3","add-button"],["type","button",1,"btn","btn-default","btn-sm","px-2",3,"click"],[1,"bx","bx-plus","me-0"],[1,"d-flex","flex-wrap","align-items-center","justify-content-start"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default","m-1",3,"disabled"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","m-1"],["class","repeatbox mb-3 p-3",4,"ngIf","ngIfElse"],["elseMedication",""],[1,"text-end","mb-3","remove-button"],["type","button","class","btn btn-pink btn-sm px-2",3,"click",4,"ngIf"],[1,"repeatbox","mb-3","p-3"],[1,"mb-3","row"],[1,"col-sm-4","col-lg-2","col-form-label"],[1,"col-sm-8","col-lg-10"],["type","text","required","","placeholder","",1,"form-control",3,"ngModel","name","id","keyup"],[1,"col-sm-8","col-lg-4","mb-3"],[1,"col-12"],["rows","2","placeholder","",1,"form-control",3,"name","id","ngModel","keyup"],["type","text","placeholder","",1,"form-control",3,"ngModel","name","id","keyup"],["rows","2","placeholder","",1,"form-control",3,"ngModel","name","id","keyup"],["type","button",1,"btn","btn-pink","btn-sm","px-2",3,"click"],[1,"bx","bx-trash","me-0"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),t._UZ(3,"i",3),t._uU(4," Dashboard"),t.qZA()(),t.TgZ(5,"li",1)(6,"a",4),t._uU(7,"Patients"),t.qZA()(),t.TgZ(8,"li",5),t._uU(9," Add Patient "),t.qZA()(),t.TgZ(10,"div",6)(11,"div",7)(12,"h3"),t._uU(13,"Patient Details"),t.qZA()()(),t.TgZ(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"div",7)(20,"form",13,14),t.NdJ("ngSubmit",function(){t.CHM(a);const d=t.MAs(21);return i.onSubmit(d)}),t.TgZ(22,"div",15)(23,"div",16)(24,"div",17)(25,"label",18),t._uU(26,"First Name "),t.TgZ(27,"span",19),t._uU(28,"*"),t.qZA()(),t._UZ(29,"input",20),t.qZA()(),t.TgZ(30,"div",16)(31,"div",17)(32,"label",18),t._uU(33,"Last Name "),t.TgZ(34,"span",19),t._uU(35,"*"),t.qZA()(),t._UZ(36,"input",21),t.qZA()(),t.TgZ(37,"div",16)(38,"div",17)(39,"label",18),t._uU(40,"Reference ID"),t.qZA(),t._UZ(41,"input",22),t.qZA()(),t.TgZ(42,"div",16)(43,"div",17)(44,"label",18),t._uU(45,"Patient Image"),t.qZA(),t.TgZ(46,"input",23),t.NdJ("change",function(d){return i.loadFiles(d)}),t.qZA()()(),t.TgZ(47,"div",16)(48,"div",17)(49,"label",18),t._uU(50,"Gender"),t.qZA(),t.TgZ(51,"div")(52,"select",24)(53,"option",25),t._uU(54,"Male"),t.qZA(),t.TgZ(55,"option",26),t._uU(56,"Female"),t.qZA()()()()(),t.TgZ(57,"div",16)(58,"div",17)(59,"label",18),t._uU(60,"DOB "),t.TgZ(61,"span",19),t._uU(62,"*"),t.qZA()(),t._UZ(63,"input",27),t.ALo(64,"date"),t.qZA()(),t.TgZ(65,"div",16)(66,"div",17)(67,"label",18),t._uU(68,"Email "),t.TgZ(69,"span",19),t._uU(70,"*"),t.qZA()(),t._UZ(71,"input",28),t.qZA()(),t.TgZ(72,"div",16)(73,"div",17)(74,"label",18),t._uU(75,"Phone Number"),t.qZA(),t.TgZ(76,"input",29),t.NdJ("keypress",function(d){return i.numberOnly(d)}),t.qZA()()(),t.TgZ(77,"div",16)(78,"div",17)(79,"label",18),t._uU(80,"Address"),t.qZA(),t._UZ(81,"textarea",30),t.qZA()(),t.TgZ(82,"div",16)(83,"div",17)(84,"label",18),t._uU(85,"City"),t.qZA(),t._UZ(86,"input",31),t.qZA()(),t.TgZ(87,"div",16)(88,"div",17)(89,"label",18),t._uU(90,"State/Province "),t.TgZ(91,"span",19),t._uU(92,"*"),t.qZA()(),t._UZ(93,"input",32),t.qZA()(),t.TgZ(94,"div",7)(95,"div",17)(96,"label",18),t._uU(97,"Notes"),t.qZA(),t._UZ(98,"input",33)(99,"app-cvfast",null,34)(101,"input",35)(102,"input",36)(103,"input",37),t.qZA()()(),t.TgZ(104,"div",15)(105,"div",38)(106,"button",39),t._uU(107," Save "),t.qZA(),t.TgZ(108,"button",40),t._uU(109," Cancel "),t.qZA(),t.TgZ(110,"a",41),t._uU(111," Add Insurance "),t.qZA(),t.TgZ(112,"a",42),t._uU(113," Add Medication "),t.qZA(),t.TgZ(114,"div",43)(115,"input",44,45),t.NdJ("change",function(){t.CHM(a);const d=t.MAs(116);return i.onActiveInactiveChanged(d.checked)}),t.qZA(),t.TgZ(117,"label",46),t.YNc(118,ct,2,0,"ng-container",47),t.YNc(119,ut,2,0,"ng-container",47),t.qZA()()()()()()()()()()(),t.TgZ(120,"div",48)(121,"div",49)(122,"div",50)(123,"form",51,52),t.NdJ("ngSubmit",function(){t.CHM(a);const d=t.MAs(124);return i.onSubmitInsurance(d)}),t.TgZ(125,"div",53)(126,"h6",54),t._uU(127,"Add Insurance"),t.qZA(),t._UZ(128,"button",55),t.qZA(),t.TgZ(129,"div",56)(130,"div",15)(131,"div",7)(132,"div",57)(133,"label",58),t._uU(134,"Insurance Carrier Name"),t.qZA(),t._UZ(135,"input",59),t.qZA()(),t.TgZ(136,"div",7)(137,"div",57)(138,"label",58),t._uU(139,"Employer"),t.qZA(),t._UZ(140,"input",60),t.qZA()(),t.TgZ(141,"div",7)(142,"div",57)(143,"label",58),t._uU(144,"Insurance Policy No"),t.qZA(),t._UZ(145,"input",61),t.qZA()(),t.TgZ(146,"div",7)(147,"div",57)(148,"label",58),t._uU(149,"Group"),t.qZA(),t._UZ(150,"input",62),t.qZA()(),t.TgZ(151,"div",7)(152,"div",57)(153,"label",58),t._uU(154,"Policy Holder"),t.qZA(),t._UZ(155,"input",63),t.qZA()(),t.TgZ(156,"div",7)(157,"div",57)(158,"label",58),t._uU(159,"Effective Date"),t.qZA(),t._UZ(160,"input",64),t.qZA()(),t.TgZ(161,"div",7)(162,"div",57)(163,"label",58),t._uU(164,"Notes"),t.qZA(),t._UZ(165,"textarea",65),t.qZA()()()(),t.TgZ(166,"div",66)(167,"button",67),t._uU(168,"Close"),t.qZA(),t.TgZ(169,"button",68),t._uU(170,"Save"),t.qZA()()()()()(),t.TgZ(171,"div",69)(172,"div",70)(173,"div",50)(174,"div",53)(175,"h6",71),t._uU(176,"Add Medication"),t.qZA(),t._UZ(177,"button",55),t.qZA(),t.TgZ(178,"div",56)(179,"form",72,73),t.NdJ("ngSubmit",function(){t.CHM(a);const d=t.MAs(180);return i.onSubmitMedication(d)}),t.TgZ(181,"section",74),t.YNc(182,_t,8,3,"ng-container",75),t.TgZ(183,"div",76)(184,"button",77),t.NdJ("click",function(){return i.addMedication()}),t._UZ(185,"i",78),t.qZA()()(),t.TgZ(186,"div",79)(187,"button",80),t._uU(188,"Save"),t.qZA(),t.TgZ(189,"button",81),t._uU(190,"Cancel"),t.qZA()()()()()()()}if(2&e){const a=t.MAs(116),o=t.MAs(180);t.xp6(63),t.s9C("max",t.xi3(64,8,i.maxDate,"yyyy-MM-dd")),t.xp6(38),t.s9C("ngModel",i.Medication),t.xp6(1),t.s9C("ngModel",i.Insurance),t.xp6(1),t.s9C("ngModel",i.patiantStatus),t.xp6(15),t.Q6J("ngIf",a.checked),t.xp6(1),t.Q6J("ngIf",!a.checked),t.xp6(63),t.Q6J("ngForOf",i.medications),t.xp6(5),t.Q6J("disabled",!o.form.valid)}},directives:[h.yS,r._Y,r.JL,r.F,r.Fj,r.Q7,r.nD,r.JJ,r.On,r.EJ,r.YN,r.Kr,r.c5,r.wO,I.x,h.rH,m.O5,m.sg],pipes:[m.uU],styles:[".repeatbox[_ngcontent-%COMP%]{background:#F3F6FF;border:1px solid #DDE4EB;border-radius:10px}.repeatsec[_ngcontent-%COMP%]   .repeatbox[_ngcontent-%COMP%]:nth-child(5) + .remove-button[_ngcontent-%COMP%]{display:none}.repeatsec[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{position:absolute;right:70px;bottom:64px}.repeatsec[_ngcontent-%COMP%]   .repeatbox[_ngcontent-%COMP%]:nth-child(5) + .remove-button[_ngcontent-%COMP%] + .add-button[_ngcontent-%COMP%]{position:relative;right:0px;bottom:0px}"]}),n})();var ht=g(8231);const ft=[{path:"",component:Z,children:[{path:"",redirectTo:"patients-list",pathMatch:"full"},{path:"patients-list",component:N},{path:"patient-details/:patientId",component:Q},{path:"patient-edit/:patientId",component:it},{path:"patient-case-list/:patientId",component:rt},{path:"patient-add",component:bt}]}];let Zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.ez,r.u5,ht.bd,h.Bz.forChild(ft),C.T,r.UX]]}),n})()},5415:(D,M,g)=>{g.d(M,{G:()=>h,T:()=>C});var m=g(5e3),h=function(){function t(Z,_,s){this.el=Z,this.vcr=_,this.renderer=s,this.dtOptions={}}return t.prototype.ngOnInit=function(){var Z=this;this.dtTrigger?this.dtTrigger.subscribe(function(_){Z.displayTable(_)}):this.displayTable(null)},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(Z){var _=this;Z&&(this.dtOptions=Z),this.dtInstance=new Promise(function(s,f){Promise.resolve(_.dtOptions).then(function(u){0===Object.keys(u).length&&0===$("tbody tr",_.el.nativeElement).length?f("Both the table and dtOptions cannot be empty"):setTimeout(function(){var v={rowCallback:function(x,A,y){if(u.columns){var U=u.columns;_.applyNgPipeTransform(x,U),_.applyNgRefTemplate(x,U,A)}u.rowCallback&&u.rowCallback(x,A,y)}};v=Object.assign({},u,v),_.dt=$(_.el.nativeElement).DataTable(v),s(_.dt)})})})},t.prototype.applyNgPipeTransform=function(Z,_){_.filter(function(f){return f.ngPipeInstance&&!f.ngTemplateRef}).forEach(function(f){var u=f.ngPipeInstance,b=_.findIndex(function(y){return y.data===f.data}),v=Z.childNodes.item(b),x=$(v).text(),A=u.transform(x);$(v).text(A)})},t.prototype.applyNgRefTemplate=function(Z,_,s){var f=this;_.filter(function(b){return b.ngTemplateRef&&!b.ngPipeInstance}).forEach(function(b){var v=b.ngTemplateRef,x=v.ref,A=v.context,y=_.findIndex(function(w){return w.data===b.data}),U=Z.childNodes.item(y);$(U).html("");var P=Object.assign({},A,null==A?void 0:A.userData,{adtData:s}),N=f.vcr.createEmbeddedView(x,P);f.renderer.appendChild(U,N.rootNodes[0])})},t.\u0275fac=function(_){return new(_||t)(m.Y36(m.SBq),m.Y36(m.s_b),m.Y36(m.Qsj))},t.\u0275dir=m.lG2({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),r=g(9808),C=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(_){return new(_||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[r.ez]]}),t}()}}]);