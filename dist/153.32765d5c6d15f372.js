"use strict";(self.webpackChunkDentalLive_dev=self.webpackChunkDentalLive_dev||[]).push([[153],{926:(Y,w,g)=>{g.r(w),g.d(w,{ReferralModule:()=>Za});var v=g(9808),T=g(1879),N=g(5415),A=g(4376),e=g(5e3);let q=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-referral"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},directives:[T.lC],encapsulation:2}),a})();var S=g(1373),n=g.n(S),b=g(9114),c=g(2290),f=g(3762),_=g(9506),x=g(6270),u=g(2382);function F(a,o){1&a&&e._UZ(0,"ngx-shimmer-loading",47),2&a&&e.Q6J("width","100%")("height","50px")("margin","20px")}function I(a,o){if(1&a&&(e.ynx(0,44),e._UZ(1,"div",45),e.YNc(2,F,1,3,"ngx-shimmer-loading",46),e.BQk()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.shimmer(10).fill(1))}}function m(a,o){if(1&a&&(e.TgZ(0,"a",61)(1,"i",62),e._uU(2,"edit"),e.qZA()()),2&a){const t=e.oxw().$implicit;e.MGl("routerLink","/referrals/referral-edit/",t.referralId,"")}}function D(a,o){if(1&a&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",56),e._uU(4),e.qZA(),e.TgZ(5,"span",53),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"span",53),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span",56),e._uU(12),e.qZA(),e.TgZ(13,"span",53),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"td")(17,"span",53),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span",53),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"div",57)(24,"a",58)(25,"i",59),e._uU(26,"visibility"),e.qZA()(),e.YNc(27,m,3,1,"a",60),e.qZA()()()),2&a){const t=o.$implicit,i=o.index,s=e.oxw(3);e.xp6(4),e.Oqu(i),e.xp6(2),e.Oqu(t.memberName),e.xp6(3),e.Oqu(t.title),e.xp6(3),e.Oqu(t.dateCreated),e.xp6(2),e.Oqu(e.xi3(15,9,t.dateCreated,"mediumDate")),e.xp6(4),e.Oqu(t.patientName),e.xp6(3),e.Oqu(t.caseTitle),e.xp6(3),e.MGl("routerLink","/referrals/referral-details/",t.referralId,""),e.xp6(3),e.Q6J("ngIf",t.resourceOwner==s.userDeatils.emailAddress)}}function y(a,o){if(1&a&&(e.TgZ(0,"table",51)(1,"thead",52)(2,"tr")(3,"th",53),e._uU(4,"ASSIGNED TO"),e.qZA(),e.TgZ(5,"th",53),e._uU(6,"REFERRAL TITLE"),e.qZA(),e.TgZ(7,"th",53),e._uU(8,"CREATED DATE"),e.qZA(),e.TgZ(9,"th",53),e._uU(10,"PATIENT NAME"),e.qZA(),e.TgZ(11,"th",53),e._uU(12,"CASE TITLE"),e.qZA(),e.TgZ(13,"th",54),e._uU(14,"Actions"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,D,28,12,"tr",55),e.qZA()()),2&a){const t=e.oxw(2);e.Q6J("dtOptions",t.dtOptions),e.xp6(16),e.Q6J("ngForOf",t.tabledata)}}function M(a,o){if(1&a&&(e.TgZ(0,"div",48)(1,"div",49),e.YNc(2,y,17,2,"table",50),e.qZA()()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.tabledata)}}let E=(()=>{class a{constructor(t,i,s,l){this.dataService=t,this.router=i,this.utility=s,this.usr=l,this.isLoadingData=!0,this.shimmer=Array,this.isCount=0,this.dtOptions={},this.masterSelected=!1}ngOnInit(){sessionStorage.removeItem("referralTabActive"),this.userDeatils=this.usr.getUserDetails(!1),sessionStorage.setItem("checkCase",""),sessionStorage.setItem("caseId",""),sessionStorage.setItem("checkmilestoneidref",""),sessionStorage.setItem("backurl","/referrals/referral-list"),this.getallreferrals(),this.getCaseDetails(),this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}searchText(t){var i=t.target.value;$("#dataTables").DataTable().search(i).draw()}getallreferrals(){if(this.usr.getUserDetails(!1)){let i=this.utility.apiData.userReferrals.ApiUrl,s=sessionStorage.getItem("caseId");""!=s&&(i+="?caseId="+s),this.dataService.getallData(i,!0).subscribe(l=>{if(l){this.GetAllData=JSON.parse(l.toString()),this.GetAllData.sort((r,p)=>r.dateCreated>p.dateCreated?-1:1),"0"==this.GetAllData.length&&(this.isLoadingData=!1),this.tabledata=Array();for(var d=0;d<this.GetAllData.length;d++)this.tabledata.push({id:d,resourceOwner:this.GetAllData[d].resourceOwner,dateCreated:this.GetAllData[d].dateCreated,presentStatus:this.GetAllData[d].presentStatus,startdate:this.GetAllData[d].startdate,referralId:this.GetAllData[d].referralId,patientName:"",caseId:this.GetAllData[d].caseId,patientId:this.GetAllData[d].patientId,toothguide:this.GetAllData[d].toothguide,enddate:this.GetAllData[d].enddate,notes:this.GetAllData[d].notes,dateUpdated:this.GetAllData[d].dateUpdated,milestoneId:this.GetAllData[d].milestoneId,title:this.GetAllData[d].title,caseTitle:"",memberName:""}),this.getcasedtls(this.GetAllData[d].caseId,this.GetAllData[d].members,d);this.tabledata.sort((r,p)=>r.dateCreated>p.dateCreated?-1:1)}},l=>(404===l.status?n()("No referral found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}getcasedtls(t,i,s){if(this.usr.getUserDetails(!1)){let d=this.utility.apiData.userCases.ApiUrl;d+="?caseId="+t,this.dataService.getallData(d,!0).subscribe(r=>{if(r){let p=JSON.parse(r.toString());this.tabledata[s].caseTitle=p.title,this.tabledata[s].patientName=p.patientName,this.getuserdetailsall(i,s).then(h=>{this.GetAllData.length==this.isCount&&(this.isLoadingData=!1)},h=>{this.GetAllData.length==this.isCount&&(this.isLoadingData=!1)})}},r=>(this.getuserdetailsall(i,s).then(p=>{this.GetAllData.length==s+1&&(this.isLoadingData=!1)},p=>{this.GetAllData.length==s+1&&(this.isLoadingData=!1)}),404===r.status?n()("No referral found"):403===r.status?n()("You are unauthorized to access the data"):400===r.status?n()("Invalid data provided, please try again"):401===r.status?n()("You are unauthorized to access the page"):409===r.status?n()("Duplicate data entered"):405===r.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===r.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}getCaseDetails(){if(this.detailsdata="",this.usr.getUserDetails(!1)){let i=this.utility.apiData.userCases.ApiUrl,s=sessionStorage.getItem("caseId");""!=s&&(i+="?caseId="+s),this.dataService.getallData(i,!0).subscribe(l=>{l&&(this.detailsdata=JSON.parse(l.toString()))},l=>(404===l.status?n()("No referral found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}onSubmit(t){this.isCount=0,this.isLoadingData=!0;let i=this.utility.apiData.userReferrals.ApiUrl;""!=t.value.referral_title&&null!=t.value.referral_title&&(i+="?title="+t.value.referral_title),""!=t.value.dateFrom&&null!=t.value.dateFrom&&(i+=""!=t.value.referral_title&&null!=t.value.referral_title?"&dateFrom="+Date.parse(t.value.dateFrom):"?dateFrom="+Date.parse(t.value.dateFrom)),""!=t.value.dateTo&&null!=t.value.dateTo&&(i+=""!=t.value.dateFrom&&null!=t.value.dateFrom||""!=t.value.referral_title&&null!=t.value.referral_title?"&dateTo="+Date.parse(t.value.dateTo):"?dateTo="+Date.parse(t.value.dateTo)),this.dataService.getallData(i,!0).subscribe(s=>{if(s){this.GetAllData=JSON.parse(s.toString()),this.GetAllData.sort((d,r)=>d.dateCreated>r.dateCreated?-1:1),"0"==this.GetAllData.length&&(this.isLoadingData=!1),this.tabledata=Array();for(var l=0;l<this.GetAllData.length;l++)this.tabledata.push({id:l,resourceOwner:this.GetAllData[l].resourceOwner,dateCreated:this.GetAllData[l].dateCreated,presentStatus:this.GetAllData[l].presentStatus,startdate:this.GetAllData[l].startdate,referralId:this.GetAllData[l].referralId,patientName:"",caseId:this.GetAllData[l].caseId,patientId:this.GetAllData[l].patientId,toothguide:this.GetAllData[l].toothguide,enddate:this.GetAllData[l].enddate,notes:this.GetAllData[l].notes,dateUpdated:this.GetAllData[l].dateUpdated,milestoneId:this.GetAllData[l].milestoneId,title:this.GetAllData[l].title,caseTitle:"",memberName:""}),this.getcasedtls(this.GetAllData[l].caseId,this.GetAllData[l].members,l);this.tabledata.sort((d,r)=>d.dateCreated>r.dateCreated?-1:1),t.resetForm()}},s=>(t.resetForm(),404===s.status?n()("No referral found"):403===s.status?n()("You are unauthorized to access the data"):400===s.status?n()("Invalid data provided, please try again"):401===s.status?n()("You are unauthorized to access the page"):409===s.status?n()("Duplicate data entered"):405===s.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===s.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}getuserdetailsall(t,i){return new Promise((s,l)=>{if(this.usr.getUserDetails(!1)){let p="",h=0;for(var r=0;r<t.length;r++){let Z=this.utility.apiData.userColleague.ApiUrl;""!=t&&(Z+="?dentalId="+t[r]),this.dataService.getallData(Z,!0).subscribe(C=>{if(C){h++;let R=JSON.parse(C.toString());if(R.length>0){let U=R[0].accountfirstName+" "+R[0].accountlastName;p+=p?" , "+U:U,h==t.length&&(this.tabledata[i].memberName=p,this.isCount++,s(!0))}}},C=>(s(!0),404===C.status?n()("No referral found"):403===C.status?n()("You are unauthorized to access the data"):400===C.status?n()("Invalid data provided, please try again"):401===C.status?n()("You are unauthorized to access the page"):409===C.status?n()("Duplicate data entered"):405===C.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===C.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(b.T),e.Y36(T.F0),e.Y36(c.t),e.Y36(f.f))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-referral-list"]],decls:64,vars:2,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"col-md-6","text-end"],["routerLink","/referrals/referral-add/0",1,"btn","btn-default","my-1","me-2"],["aria-hidden","true",1,"bx","bx-plus-circle","me-2"],[1,"row","align-items-center"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"my-2"],[1,"body1","card-title","mb-0"],[1,"d-flex","align-items-center","flex-wrap"],["data-bs-toggle","modal","data-bs-target","#filterModal",1,"btn","filter-btn","me-2","my-2"],[1,"bx","bx-filter-alt"],[1,"d-none","d-sm-inline-block","ms-2"],[1,"search","search-md"],[1,"bx","bx-search"],["type","text","placeholder","Search",1,"form-control",3,"keyup"],["class","mt-3",4,"ngIf"],["class","card-body p-0 pb-3",4,"ngIf"],["id","filterModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","mainForm",3,"ngSubmit"],["f","ngForm"],[1,"modal-body"],[1,"row","gy-3"],[1,"search"],["type","text","name","referral_title","ngModel","","id","referral_title","placeholder","Search by Referral Title",1,"form-control"],[1,"form-label","body2","text-dark"],["type","date","ngModel","","name","dateFrom","id","dateFrom",1,"form-control"],["type","date","ngModel","","name","dateTo","id","dateTo",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default"],[1,"mt-3"],[1,"mt-5","w-100"],["style","margin-top: 1.5em;display: block;transition: all 1s;","class","vh-100",3,"width","height","margin",4,"ngFor","ngForOf"],[1,"vh-100",2,"margin-top","1.5em","display","block","transition","all 1s",3,"width","height","margin"],[1,"card-body","p-0","pb-3"],[1,"table-responsive"],["class","table table-hover table-nowrap align-middle","datatable","","id","dataTables",3,"dtOptions",4,"ngIf"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light","text-uppercase"],[1,"body2"],["data-orderable","false",1,"body2"],[4,"ngFor","ngForOf"],[1,"d-none"],[1,"d-flex"],["tippy","View","placement","top",3,"routerLink"],[1,"material-icons","text-light-green"],["tippy","Edit","placement","top","class","me-1",3,"routerLink",4,"ngIf"],["tippy","Edit","placement","top",1,"me-1",3,"routerLink"],[1,"material-icons","text-bright-blue"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6," Referral "),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"h3"),e._uU(10,"Referral"),e.qZA()(),e.TgZ(11,"div",7)(12,"a",8),e._UZ(13,"i",9),e._uU(14,"Add Referral"),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h5",16),e._uU(22,"List of Referral"),e.qZA()(),e.TgZ(23,"div",17)(24,"button",18),e._UZ(25,"i",19),e.TgZ(26,"span",20),e._uU(27,"Filter"),e.qZA()(),e.TgZ(28,"div",21),e._UZ(29,"i",22),e.TgZ(30,"input",23),e.NdJ("keyup",function(d){return i.searchText(d)}),e.qZA()()()()(),e.YNc(31,I,3,1,"ng-container",24),e.YNc(32,M,3,1,"div",25),e.qZA()()(),e.TgZ(33,"div",26)(34,"div",27)(35,"div",28)(36,"div",29)(37,"h5",30),e._uU(38,"Filter"),e.qZA(),e._UZ(39,"button",31),e.qZA(),e.TgZ(40,"form",32,33),e.NdJ("ngSubmit",function(){e.CHM(s);const d=e.MAs(41);return i.onSubmit(d)}),e.TgZ(42,"div",34)(43,"div",35)(44,"div",11)(45,"div",36),e._UZ(46,"i",22)(47,"input",37),e.qZA()(),e.TgZ(48,"div",11)(49,"label",38),e._uU(50,"Search by Date:"),e.qZA()(),e.TgZ(51,"div",6)(52,"label",38),e._uU(53,"From"),e.qZA(),e._UZ(54,"input",39),e.qZA(),e.TgZ(55,"div",6)(56,"label",38),e._uU(57,"To"),e.qZA(),e._UZ(58,"input",40),e.qZA()()(),e.TgZ(59,"div",41)(60,"button",42),e._uU(61,"Close"),e.qZA(),e.TgZ(62,"button",43),e._uU(63,"Apply"),e.qZA()()()()()()}2&t&&(e.xp6(31),e.Q6J("ngIf",i.isLoadingData),e.xp6(1),e.Q6J("ngIf",!i.isLoadingData))},directives:[T.yS,v.O5,v.sg,_.w,N.G,x.$o,u._Y,u.JL,u.F,u.Fj,u.JJ,u.On],pipes:[v.uU],styles:[""]}),a})();g(5827);const L=["notes"];function P(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"18"),e.qZA())}function Q(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"1"),e.qZA())}function j(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"17"),e.qZA())}function H(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"2"),e.qZA())}function z(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"16"),e.qZA())}function B(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"3"),e.qZA())}function V(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"15"),e.qZA())}function W(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"4"),e.qZA())}function X(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"14"),e.qZA())}function K(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"5"),e.qZA())}function ee(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"13"),e.qZA())}function te(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"6"),e.qZA())}function ae(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"12"),e.qZA())}function ie(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"7"),e.qZA())}function se(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"11"),e.qZA())}function ne(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"8"),e.qZA())}function le(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"21"),e.qZA())}function oe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"9"),e.qZA())}function re(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"22"),e.qZA())}function de(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"10"),e.qZA())}function pe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"23"),e.qZA())}function ce(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"11"),e.qZA())}function ue(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"24"),e.qZA())}function me(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"12"),e.qZA())}function ge(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"25"),e.qZA())}function he(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"13"),e.qZA())}function fe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"26"),e.qZA())}function _e(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"14"),e.qZA())}function ve(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"27"),e.qZA())}function be(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"15"),e.qZA())}function Te(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"28"),e.qZA())}function Ze(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"16"),e.qZA())}function xe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"38"),e.qZA())}function Ae(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"17"),e.qZA())}function ye(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"37"),e.qZA())}function Ce(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"18"),e.qZA())}function Ue(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"36"),e.qZA())}function Ne(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"19"),e.qZA())}function Ie(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"35"),e.qZA())}function De(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"20"),e.qZA())}function qe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"34"),e.qZA())}function we(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"21"),e.qZA())}function Me(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"33"),e.qZA())}function Re(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"22"),e.qZA())}function Se(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"32"),e.qZA())}function Oe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"23"),e.qZA())}function Ge(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"31"),e.qZA())}function Fe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"24"),e.qZA())}function Je(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"41"),e.qZA())}function Ye(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"25"),e.qZA())}function ke(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"42"),e.qZA())}function Ee(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"26"),e.qZA())}function Le(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"43"),e.qZA())}function Pe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"27"),e.qZA())}function Qe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"44"),e.qZA())}function je(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"28"),e.qZA())}function He(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"45"),e.qZA())}function ze(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"29"),e.qZA())}function Be(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"46"),e.qZA())}function Ve(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"30"),e.qZA())}function $e(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"47"),e.qZA())}function We(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"31"),e.qZA())}function Xe(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"48"),e.qZA())}function Ke(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"32"),e.qZA())}function et(a,o){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.getToothName(t.activeAssignedTeeth))}}function tt(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1," ,"),e.qZA())}function at(a,o){if(1&a&&(e.TgZ(0,"span"),e.YNc(1,tt,2,0,"span",17),e._uU(2),e.qZA()),2&a){const t=o.$implicit,i=o.index,s=e.oxw();e.xp6(1),e.Q6J("ngIf",i>0),e.xp6(1),e.hij(" ",s.getToothName(t),"")}}function it(a,o){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Oqu(t.getToothName(t.activeAssignedTeeth))}}function st(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1," ,"),e.qZA())}function nt(a,o){if(1&a&&(e.TgZ(0,"span"),e.YNc(1,st,2,0,"span",17),e._uU(2),e.qZA()),2&a){const t=o.$implicit,i=o.index,s=e.oxw();e.xp6(1),e.Q6J("ngIf",i>0),e.xp6(1),e.hij(" ",s.getToothName(t),"")}}function lt(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"i",106),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().deleteSelection(s.key)}),e.qZA()}}function ot(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"No notes"),e.qZA())}function rt(a,o){1&a&&(e.TgZ(0,"span"),e._uU(1,"No selections"),e.qZA())}function dt(a,o){if(1&a&&(e.TgZ(0,"li",107)(1,"small"),e._uU(2),e.qZA()()),2&a){const t=o.$implicit,i=e.oxw(2);e.xp6(2),e.hij(" ",i.getCheckboxName(t)," ")}}function pt(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",97)(2,"a",98),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().clickTeeth(null,l.key)}),e.TgZ(3,"h6",99),e._UZ(4,"i",100),e._uU(5),e.qZA()(),e.YNc(6,lt,1,0,"i",101),e.qZA(),e.TgZ(7,"div",102)(8,"small",103),e._uU(9,"Notes"),e.qZA(),e.TgZ(10,"small",104),e.YNc(11,ot,2,0,"span",17),e._uU(12),e.qZA(),e.TgZ(13,"small",103),e._uU(14,"Selections"),e.qZA(),e.YNc(15,rt,2,0,"span",17),e.YNc(16,dt,3,1,"li",105),e.qZA()()}if(2&a){const t=o.$implicit,i=e.oxw();e.Tol(i.activeAssignedTeeth==t.key?"bg-info bg-gradient border rounded p-2 mb-1":"border rounded p-2 mb-1"),e.xp6(2),e.MGl("href","#sel_",t.key,"",e.LSH),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",i.activeAssignedTeeth),e.xp6(1),e.MGl("id","sel_",t.key,""),e.xp6(4),e.Q6J("ngIf",!t.notes),e.xp6(1),e.Oqu(t.notes),e.xp6(3),e.Q6J("ngIf",!t.selctions||0==t.selctions.length),e.xp6(1),e.Q6J("ngForOf",t.selctions)}}const ct=function(a){return{disabled:a}};let O=(()=>{class a{constructor(t){this.location=t,this.referralObject={Endodontics:{"Consultation for":["Pulp Exposure","Vital","Necrotic","Emergency treatment provided","Patient has discomfort please evaluate","Post space required"],"Bridge cemented":["Temporary","Permanently"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},"Oral Surgery":{"Consultation for":["Extraction","3rd Molar Extractions","Exposure (s) of teeth","Impacted teeth/tooth","Orthognathic surgery","Oral pathology","Biopsy","Dental Implants","Bone grafting","TMJ Assessment/Diagnosis","Socket Grafting","Sinus Grafting","Cone Beam CT","Treatment Planning","Anesthesia and or Sedation","Corrective Jaw Surgery","Trauma","Fracture"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},Prosthodontist:{"Consultation for":["Comprehensive Prosthodontics Evaluation","Complete Dentures","Partial Dentures","Implant supported overdenture","Redo prosthesis: Fixed/Removable","Crowns and Bridges","Dental Implants","Broken Prosthesis","Ill-fitting prosthesis","Fractured implant parts or components","Tooth wear","TMJ Assessment","Esthetic treatment","Smile Make over","Full Mouth Rehabilitation","Congenitally Missing teeth"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},Orthodontist:{"Consultation for":["Comprehensive Prosthodontics Evaluation","Early or Interceptive Orthodontic Treatment","Pre-prosthetic Orthodontic Treatment","Intrusion","Extrusion","Up righting","Implant site development","Lost Retainer","Debonded fixed retainer","Growth cessation Assessment","Crowding","Spaces Issues","Malocclusion","Cephalograms Tracing/Assessment"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},Periodontist:{"Consultation for":["Comprehensive Periodontist Evaluation","Periodontal Disease","Functional crown lengthening","Esthetic crown lengthening","Gingival Recession","Soft tissue Grafting","Hard tissue Grafting","Extraction(s)","Dental Implant(s)","Sinus Grafting","Trauma from Occlusion","Occlusal Trauma"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},Pediodontist:{"Consultation for":["Comprehensive Pedodontic Evaluation","\uf09a Treatment"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]}},this.isFdi=!1,this.selectionCount=0,this.liCount=0,this.showLabel=!1,this.activeAssignedTeeth=null,this.selectedTeeths=[],this.selectedTeethsNames=[],this.toothGuide={},this.toothGuideArray=[]}ngOnInit(){}ngAfterViewInit(){this.populateListRecurse(this.referralObject,"tree")}populateListRecurse(t,i){var s,l,d;for(const r in t){const p=t[r];this.selectionCount=this.selectionCount+1;let h=document.createElement("h6");h.textContent=r,null===(s=document.getElementById(i))||void 0===s||s.appendChild(h);let Z=document.createElement("ul");if(Z.setAttribute("id","ul#"+this.selectionCount),null===(l=document.getElementById(i))||void 0===l||l.appendChild(Z),"object"!=typeof p||Array.isArray(p))for(let C=0;C<p.length;C++){this.liCount=this.liCount+1;const R=p[C];let U=document.createElement("li");null===(d=document.getElementById("ul#"+this.selectionCount))||void 0===d||d.appendChild(U),U.innerHTML="<div class='form-check'><input class='form-check-input' type = 'checkbox' value='d"+this.liCount+"' id = 'd"+this.liCount+"'><label class='form-check-label' for= 'd"+this.liCount+"' >"+R+"</label></div>"}else this.populateListRecurse(p,"ul#"+this.selectionCount)}}hoverTeeth(t,i){let s=document.getElementById("rhovmap");if(s){let l=s,d=l.getContext("2d");if(!d||(d.clearRect(0,0,l.width,l.height),!i))return;let r=t.target.getAttribute("coords").split(",");d.fillStyle="rgba(0, 0, 0, 0.5)",d.beginPath(),d.curve(r,1),d.closePath(),d.fill()}}getToothName(t){return document.querySelector("."+t.trim()+" label")?document.querySelector("."+t.trim()+" label").innerHTML:null}getCheckboxName(t){let i="";if(document.querySelector("label[for="+t+"]")){i=document.querySelector("label[for="+t+"]").innerHTML;let s=document.getElementById(t);for(;s.parentNode;)"UL"==s.nodeName&&(i=s.previousSibling.innerHTML+" --\x3e "+i),s=s.parentNode}return i}clickTeeth(t,i=null){i||(i=t.target.getAttribute("id")),this.resetListandTeeths(),this.activeAssignedTeeth&&(this.selectedTeeths=[]),this.selectedTeethsNames=[],this.toothGuide[i]?(this.selectedTeeths=[],this.selectedTeethsNames=[],this.activeAssignedTeeth=i,this.redrawGuide("rcurrmap",[this.activeAssignedTeeth],"rgba(255, 255, 0, 0.9)"),this.notes.nativeElement.value=this.toothGuide[i].notes,this.toothGuide[i].selections.forEach(s=>{document.getElementById(s).checked=!0,document.getElementById(s).classList.add("showNode","active");let l=document.getElementById(s);for(;l.parentNode;)"UL"==l.nodeName&&(l.classList.add("showNode","active"),l.previousSibling.classList.add("showNode","active")),l.classList.contains("selectionTree")&&l.classList.add("showNode","active"),l=l.parentNode})):(this.activeAssignedTeeth=null,this.selectedTeeths.includes(i)?this.selectedTeeths=this.selectedTeeths.filter(s=>s!==i):this.selectedTeeths.push(i)),this.redrawGuide("rclkmap",this.selectedTeeths,"rgba(0, 0, 0, .9)")}resetListandTeeths(){document.querySelectorAll("input[type=checkbox]").forEach(t=>t.checked=!1),document.querySelectorAll(".showNode").forEach(t=>t.classList.remove("showNode","active")),this.redrawGuide("rcurrmap",[],"rgba(255, 255, 0, 0.9)"),this.notes.nativeElement.value=""}getToothGuideAsArray(){let t=[];return Object.entries(this.toothGuide).forEach(([i,s])=>{t.push({name:this.getToothName(i),selctions:s.selections,notes:s.notes,key:i})}),this.toothGuideArray=t,t}getToothGuide(){return this.toothGuide}setToothGuide(t){this.toothGuide=t,this.resetListandTeeths(),this.selectedTeeths=[],this.activeAssignedTeeth=null,this.redrawGuide("rassgmap",Object.keys(this.toothGuide),"rgba(0, 255, 0, 0.7)")}addNotes(t){let i=t.target.value;this.activeAssignedTeeth&&this.toothGuide[this.activeAssignedTeeth]?this.toothGuide[this.activeAssignedTeeth].notes=i:(this.selectedTeeths.forEach(s=>{this.toothGuide[s]||(this.toothGuide[s]={selections:[],notes:""}),this.toothGuide[s].notes=i}),1==this.selectedTeeths.length&&(this.activeAssignedTeeth=this.selectedTeeths[0])),this.redrawGuide("rassgmap",Object.keys(this.toothGuide),"rgba(0, 255, 0, 0.7)")}addSelections(t){var i,s,l;if("checkbox"==(null===(i=null==t?void 0:t.target)||void 0===i?void 0:i.type))this.activeAssignedTeeth&&this.toothGuide[this.activeAssignedTeeth]?t.target.checked?(this.toothGuide[this.activeAssignedTeeth].selections.push(t.target.value),this.loopSeelctionParent(t.target)):(this.toothGuide[this.activeAssignedTeeth].selections=this.toothGuide[this.activeAssignedTeeth].selections.filter(r=>r!==t.target.getAttribute("id")),0==this.toothGuide[this.activeAssignedTeeth].selections.length&&delete this.toothGuide[this.activeAssignedTeeth]):(t.target.checked?(this.selectedTeeths.forEach(r=>{this.toothGuide[r]||(this.toothGuide[r]={selections:[],notes:""}),this.toothGuide[r].selections.push(t.target.value)}),this.loopSeelctionParent(t.target)):this.selectedTeeths.forEach(r=>{this.toothGuide[r]&&(this.toothGuide[r].selections=this.toothGuide[r].selections.filter(p=>p!==t.target.getAttribute("id"))),0==this.toothGuide[r].selections.length&&delete this.toothGuide[r]}),1==this.selectedTeeths.length&&(this.activeAssignedTeeth=this.selectedTeeths[0],this.redrawGuide("rcurrmap",[this.activeAssignedTeeth],"rgba(255, 255, 0, 0.9)"))),this.redrawGuide("rassgmap",Object.keys(this.toothGuide),"rgba(0, 255, 0, 0.7)");else{let r=(t.path||t.composedPath&&t.composedPath())[0].nextSibling;"h6"==(null===(s=null==r?void 0:r.previousSibling)||void 0===s?void 0:s.localName)&&(null===(l=r.previousSibling)||void 0===l||l.classList.toggle("showNode")),null==r||r.classList.toggle("showNode")}}loopSeelctionParent(t){for(;t.parentNode;)(t.classList.contains("showNode")||t.classList.contains("selectionTree"))&&t.classList.add("active"),t=t.parentNode}deleteSelection(t){sweetAlert({title:"Do you want to delete this selection?",icon:"warning",buttons:["No,don't delete","Yes,delete tooth"],dangerMode:!0}).then(i=>{i&&t&&(delete this.toothGuide[t],this.resetListandTeeths(),this.activeAssignedTeeth=null,this.selectedTeeths=[],this.redrawGuide("rassgmap",Object.keys(this.toothGuide),"rgba(0, 255, 0, 0.8)"),this.redrawGuide("rclkmap",this.selectedTeeths,"rgba(0, 0, 0, .9)"))})}redrawGuide(t,i,s){let d=document.getElementById(t),r=d.getContext("2d");r.clearRect(0,0,d.width,d.height),i.forEach(p=>{let h=document.getElementById(p).getAttribute("coords").split(",");r.fillStyle=s,r.beginPath(),r.curve(h,1),r.closePath(),r.fill()}),this.getToothGuideAsArray()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v.Ye))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-referral-guide"]],viewQuery:function(t,i){if(1&t&&e.Gf(L,5),2&t){let s;e.iGM(s=e.CRH())&&(i.notes=s.first)}},decls:236,vars:73,consts:[[1,"row","my-4","mx-2",2,"background","rgb(255, 255, 255)"],[1,"col-lg-7","flex-grow-1",2,"width","520px","overflow","hidden"],["id","toothGuide"],[1,"text-end","position-absolute","mx-2",2,"left","0px","top","13px","right","10px"],[1,"float-start"],[1,"me-3"],["type","radio","name","numberingSystem","id","hideNumbers","checked","",1,"form-check-input",3,"change"],["for","hideNumbers",1,"form-check-label","ms-2"],["type","radio","name","numberingSystem","id","isFdi",1,"form-check-input",3,"change"],["for","isFdi",1,"form-check-label","ms-2"],["type","radio","name","numberingSystem","id","isUniversal",1,"form-check-input",3,"change"],["for","isUniversal",1,"form-check-label","ms-2"],[1,"mapshell",2,"position","relative","min-width","480px","min-height","480px"],["type","text","name","summary","id","summth"],["width","480","height","480","src","../../../../../assets/images/toothfinal.jpg"],[1,"adth","rdtntn",3,"hidden"],[1,"idth1",2,"left","8.3em","top","14em"],[4,"ngIf"],[1,"idth2",2,"left","9em","top","11.1em"],[1,"idth3",2,"left","9.8em","top","8.1em"],[1,"idth4",2,"left","10.6em","top","5.8em"],[1,"idth5",2,"left","11.6em","top","3.9em"],[1,"idth6",2,"left","13.2em","top","2.3em"],[1,"idth7",2,"left","15.2em","top","1em"],[1,"idth8",2,"left","17.7em","top","0.4em"],[1,"idth9",2,"left","20.5em","top","0.5em"],[1,"idth10",2,"left","22.9em","top","1.3em"],[1,"idth11",2,"left","24.7em","top","2.8em"],[1,"idth12",2,"left","25.8em","top","4.6em"],[1,"idth13",2,"left","26.5em","top","6.5em"],[1,"idth14",2,"left","27.1em","top","8.8em"],[1,"idth15",2,"left","27.7em","top","11.7em"],[1,"idth16",2,"left","28em","top","14.5em"],[1,"idth17",2,"left","27.7em","top","21em"],[1,"idth18",2,"left","26.9em","top","23.9em"],[1,"idth19",2,"left","25.7em","top","26.5em"],[1,"idth20",2,"left","24.5em","top","28.7em"],[1,"idth21",2,"left","23.4em","top","30.5em"],[1,"idth22",2,"left","22em","top","32.1em"],[1,"idth23",2,"left","20.3em","top","33.3em"],[1,"idth24",2,"left","18.5em","top","33.8em"],[1,"idth25",2,"left","16.5em","top","33.8em"],[1,"idth26",2,"left","14.6em","top","33.2em"],[1,"idth27",2,"left","13.1em","top","31.9em"],[1,"idth28",2,"left","11.6em","top","30.3em"],[1,"idth29",2,"left","10.6em","top","28.5em"],[1,"idth30",2,"left","9.6em","top","26.3em"],[1,"idth31",2,"left","8.7em","top","23.5em"],[1,"idth32",2,"left","7.8em","top","20.8em"],["width","480","height","480","id","rclkmap"],["width","480","height","480","id","rassgmap"],["width","480","height","480","id","rhovmap"],["width","480","height","480","id","rcurrmap"],["width","480","height","480","src","../../../../../assets/images/toothfinal.jpg","id","rmap12","usemap","#rtoothimgMap",2,"position","relative","opacity","0"],["id","rtooth_map","name","rtoothimgMap",3,"mouseleave","mouseover","click"],["id","idth1","shape","poly","coords","116,219,128,218,137,208,137,202,137,194,129,188,120,186,112,184,105,183,96,187,94,196,93,203,95,209,104,215,110,218,116"],["id","idth2","shape","poly","coords","111,147,103,151,99,162,100,172,105,178,114,183,123,186,131,189,141,186,145,178,147,168,144,157,133,152,124,148,117,147"],["id","idth3","shape","poly","coords","114,113,110,122,110,130,112,140,118,145,126,148,134,152,143,154,151,152,155,144,159,136,158,126,155,120,151,120,147,115,137,111,131,110,126,110,119,111"],["id","idth4","shape","poly","coords","128,91,124,96,124,102,127,108,136,110,142,112,146,115,154,115,163,113,167,107,168,102,164,94,154,91,148,88,140,86,135,88"],["id","idth5","shape","poly","coords","154,61,144,66,137,74,140,83,148,87,160,93,171,91,180,85,177,74,171,68,167,67,159,62"],["id","idth6","shape","poly","coords","179,38,171,40,162,46,155,53,157,59,162,62,168,67,172,69,177,72,185,71,191,69,193,62,191,53,190,47,184,42"],["id","idth7","shape","poly","coords","207,22,201,24,193,26,188,29,184,35,186,43,193,49,200,54,209,55,216,49,217,40,216,31,211,26"],["id","idth8","shape","poly","coords","249,15,239,13,231,13,222,14,215,16,214,26,218,33,221,42,226,47,234,49,241,48,248,43,252,38,252,27"],["id","idth9","shape","poly","coords","290,22,287,19,277,17,267,15,259,14,253,17,252,23,253,33,255,41,261,47,270,50,277,48,284,43,287,36,289,30"],["id","idth10","shape","poly","coords","316,36,309,30,302,27,295,26,289,31,286,44,287,52,292,55,300,57,307,56,313,49,317,44"],["id","idth11","shape","poly","coords","336,49,327,45,319,44,313,51,308,58,305,64,308,71,313,76,320,77,327,74,332,70,341,67,342,60,340,55"],["id","idth12","shape","poly","coords","359,84,354,75,346,71,341,68,333,71,329,75,321,77,316,85,318,94,324,98,332,99,342,96,349,94,356,90"],["id","idth13","shape","poly","coords","368,105,362,100,355,95,345,96,335,99,328,101,323,108,326,116,333,123,341,123,352,120,363,117,368,113"],["id","idth14","shape","poly","coords","380,136,377,124,364,119,354,120,339,124,329,128,328,139,331,152,334,157,342,160,347,160,354,158,366,154,373,151,378,144",1,"rsel"],["id","idth15","shape","poly","coords","388,169,385,163,377,157,370,154,362,156,349,160,339,166,337,175,339,179,341,187,346,194,352,196,363,194,373,191,381,185,386,178"],["id","idth16","shape","poly","coords","390,212,388,203,384,195,376,192,366,195,352,196,343,200,341,207,344,210,343,218,347,224,352,227,363,226,373,226,384,221,387,217"],["id","idth17","shape","poly","coords","365,277,352,276,346,279,341,286,340,290,342,299,347,304,353,306,362,308,372,305,380,300,383,291,378,284,372,278"],["id","idth18","shape","poly","coords","374,327,370,317,365,311,356,308,345,307,337,310,333,317,330,324,330,333,333,339,338,341,345,344,353,345,362,342,370,338"],["id","idth19","shape","poly","coords","356,354,351,347,340,345,332,343,325,345,320,348,319,354,315,363,316,370,321,374,328,378,339,380,349,377,356,376,358,370,361,364,359,359"],["id","idth20","shape","poly","coords","336,400,341,393,338,386,333,381,329,378,321,374,313,376,306,383,304,390,308,396,313,400,322,403,329,402"],["id","idth21","shape","poly","coords","325,419,321,407,316,402,306,399,298,399,291,404,288,409,292,415,298,421,303,426,315,424,320,422"],["id","idth22","shape","poly","coords","276,426,277,433,278,440,283,444,292,443,301,440,304,432,301,425,295,420,286,419,280,420,275,423"],["id","idth23","shape","poly","coords","256,456,267,454,276,450,281,446,276,440,271,434,263,434,257,437,256,447","data-rarr","","data-rsumm",""],["id","idth24","shape","poly","coords","230,458,239,460,250,459,256,457,253,447,249,441,244,439,238,443,233,452","data-rarr","","data-rsumm",""],["id","idth25","shape","poly","coords","205,455,214,459,219,460,227,460,231,454,230,446,226,439,221,437,215,442,207,448","data-rarr","","data-rsumm",""],["id","idth26","shape","poly","coords","184,437,181,444,187,447,194,451,199,454,205,454,206,444,208,437,206,432,201,430,194,430,188,433"],["id","idth27","shape","poly","coords","180,416,168,418,163,419,159,425,162,431,166,438,176,439,184,436,188,429,191,424,188,417"],["id","idth28","shape","poly","coords","151,397,144,403,142,414,151,422,160,422,167,417,174,413,177,404,173,399,166,396,156,396"],["id","idth29","shape","poly","coords","155,373,143,372,134,375,129,380,127,390,130,398,141,399,148,398,159,392,162,381,159,377"],["id","idth30","shape","poly","coords","146,341,132,339,125,339,115,342,112,349,108,357,112,367,121,374,131,376,144,370,153,365,156,359,153,349"],["id","idth31","shape","poly","coords","128,304,116,304,104,309,98,314,97,323,100,329,104,338,113,341,124,340,134,336,140,330,142,319,136,310"],["id","idth32","shape","poly","coords","91,279,90,287,91,292,94,298,101,303,108,304,114,303,125,300,130,293,128,285,125,278,119,273,106,272,98,275"],[1,"col-lg-3","mt-4","mt-md-0","mx-auto","mw-custom","border-start","border-3",2,"max-width","25em",3,"ngClass"],[1,"fw-bold","mt-3"],[4,"ngFor","ngForOf"],["id","tree",1,"selectionTree","mb-4","border","rounded","p-2",3,"click"],[1,"mb-4"],[1,"fw-bold"],["rows","3",1,"d-block","w-100","p-2","border-0","rounded",2,"background-color","#efefef",3,"input"],["notes",""],[1,"col-lg-2","mt-4","mt-md-0","mx-auto","mw-custom","border-start","border-3",2,"max-width","25em"],[3,"class",4,"ngFor","ngForOf"],[1,"flex","align-items-center"],["data-bs-toggle","collapse","role","button",3,"href","click"],[1,"d-inline",2,"color","black"],[1,"bx","bx-plus"],["class","me-2 mt-1 bx bxs-trash float-end",3,"click",4,"ngIf"],[1,"collapse","show","border-top","py-2","my-1",3,"id"],[1,"fw-bold","d-block"],[1,"d-block"],["class","py-1",4,"ngFor","ngForOf"],[1,"me-2","mt-1","bx","bxs-trash","float-end",3,"click"],[1,"py-1"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5)(6,"input",6),e.NdJ("change",function(){return i.showLabel=!1}),e.qZA(),e.TgZ(7,"label",7),e._uU(8," No label "),e.qZA()(),e.TgZ(9,"span",5)(10,"input",8),e.NdJ("change",function(){return i.isFdi=!1,i.showLabel=!0}),e.qZA(),e.TgZ(11,"label",9),e._uU(12," Universal "),e.qZA()(),e.TgZ(13,"span")(14,"input",10),e.NdJ("change",function(){return i.isFdi=!0,i.showLabel=!0}),e.qZA(),e.TgZ(15,"label",11),e._uU(16," FDI "),e.qZA()()()(),e.TgZ(17,"div",12),e._UZ(18,"input",13)(19,"img",14),e.TgZ(20,"ul",15)(21,"li",16),e.YNc(22,P,2,0,"span",17),e.YNc(23,Q,2,0,"span",17),e.TgZ(24,"label"),e._uU(25,"(R)Third Molar"),e.qZA()(),e.TgZ(26,"li",18),e.YNc(27,j,2,0,"span",17),e.YNc(28,H,2,0,"span",17),e.TgZ(29,"label"),e._uU(30,"(R)Second Molar"),e.qZA()(),e.TgZ(31,"li",19),e.YNc(32,z,2,0,"span",17),e.YNc(33,B,2,0,"span",17),e.TgZ(34,"label"),e._uU(35,"(R)First Molar"),e.qZA()(),e.TgZ(36,"li",20),e.YNc(37,V,2,0,"span",17),e.YNc(38,W,2,0,"span",17),e.TgZ(39,"label"),e._uU(40,"(R)Second Bicuspid"),e.qZA()(),e.TgZ(41,"li",21),e.YNc(42,X,2,0,"span",17),e.YNc(43,K,2,0,"span",17),e.TgZ(44,"label"),e._uU(45,"(R)First Bicuspid"),e.qZA()(),e.TgZ(46,"li",22),e.YNc(47,ee,2,0,"span",17),e.YNc(48,te,2,0,"span",17),e.TgZ(49,"label"),e._uU(50,"(R)cuspid"),e.qZA()(),e.TgZ(51,"li",23),e.YNc(52,ae,2,0,"span",17),e.YNc(53,ie,2,0,"span",17),e.TgZ(54,"label"),e._uU(55,"(R)Lateral Incisor"),e.qZA()(),e.TgZ(56,"li",24),e.YNc(57,se,2,0,"span",17),e.YNc(58,ne,2,0,"span",17),e.TgZ(59,"label"),e._uU(60,"(R)Central Incisor"),e.qZA()(),e.TgZ(61,"li",25),e.YNc(62,le,2,0,"span",17),e.YNc(63,oe,2,0,"span",17),e.TgZ(64,"label"),e._uU(65,"(L)Central Incisor"),e.qZA()(),e.TgZ(66,"li",26),e.YNc(67,re,2,0,"span",17),e.YNc(68,de,2,0,"span",17),e.TgZ(69,"label"),e._uU(70,"(L)Lateral Incisor"),e.qZA()(),e.TgZ(71,"li",27),e.YNc(72,pe,2,0,"span",17),e.YNc(73,ce,2,0,"span",17),e.TgZ(74,"label"),e._uU(75,"(L)cuspid"),e.qZA()(),e.TgZ(76,"li",28),e.YNc(77,ue,2,0,"span",17),e.YNc(78,me,2,0,"span",17),e.TgZ(79,"label"),e._uU(80,"(L)First Bicuspid"),e.qZA()(),e.TgZ(81,"li",29),e.YNc(82,ge,2,0,"span",17),e.YNc(83,he,2,0,"span",17),e.TgZ(84,"label"),e._uU(85,"(L)Second Bicuspid"),e.qZA()(),e.TgZ(86,"li",30),e.YNc(87,fe,2,0,"span",17),e.YNc(88,_e,2,0,"span",17),e.TgZ(89,"label"),e._uU(90,"(L)First Molar"),e.qZA()(),e.TgZ(91,"li",31),e.YNc(92,ve,2,0,"span",17),e.YNc(93,be,2,0,"span",17),e.TgZ(94,"label"),e._uU(95,"(L)Second Molar"),e.qZA()(),e.TgZ(96,"li",32),e.YNc(97,Te,2,0,"span",17),e.YNc(98,Ze,2,0,"span",17),e.TgZ(99,"label"),e._uU(100,"(L)Third Molar"),e.qZA()(),e.TgZ(101,"li",33),e.YNc(102,xe,2,0,"span",17),e.YNc(103,Ae,2,0,"span",17),e.TgZ(104,"label"),e._uU(105,"(L)Third Molar"),e.qZA()(),e.TgZ(106,"li",34),e.YNc(107,ye,2,0,"span",17),e.YNc(108,Ce,2,0,"span",17),e.TgZ(109,"label"),e._uU(110,"(L)Second Molar"),e.qZA()(),e.TgZ(111,"li",35),e.YNc(112,Ue,2,0,"span",17),e.YNc(113,Ne,2,0,"span",17),e.TgZ(114,"label"),e._uU(115,"(L)First Molar"),e.qZA()(),e.TgZ(116,"li",36),e.YNc(117,Ie,2,0,"span",17),e.YNc(118,De,2,0,"span",17),e.TgZ(119,"label"),e._uU(120,"(L)Second Bicuspid"),e.qZA()(),e.TgZ(121,"li",37),e.YNc(122,qe,2,0,"span",17),e.YNc(123,we,2,0,"span",17),e.TgZ(124,"label"),e._uU(125,"(L)First Bicuspid"),e.qZA()(),e.TgZ(126,"li",38),e.YNc(127,Me,2,0,"span",17),e.YNc(128,Re,2,0,"span",17),e.TgZ(129,"label"),e._uU(130,"(L)cuspid"),e.qZA()(),e.TgZ(131,"li",39),e.YNc(132,Se,2,0,"span",17),e.YNc(133,Oe,2,0,"span",17),e.TgZ(134,"label"),e._uU(135,"(L)Lateral Incisor"),e.qZA()(),e.TgZ(136,"li",40),e.YNc(137,Ge,2,0,"span",17),e.YNc(138,Fe,2,0,"span",17),e.TgZ(139,"label"),e._uU(140,"(L)Central Incisor"),e.qZA()(),e.TgZ(141,"li",41),e.YNc(142,Je,2,0,"span",17),e.YNc(143,Ye,2,0,"span",17),e.TgZ(144,"label"),e._uU(145,"(R)Central Incisor"),e.qZA()(),e.TgZ(146,"li",42),e.YNc(147,ke,2,0,"span",17),e.YNc(148,Ee,2,0,"span",17),e.TgZ(149,"label"),e._uU(150,"(R)Lateral Incisor"),e.qZA()(),e.TgZ(151,"li",43),e.YNc(152,Le,2,0,"span",17),e.YNc(153,Pe,2,0,"span",17),e.TgZ(154,"label"),e._uU(155,"(R)cuspid"),e.qZA()(),e.TgZ(156,"li",44),e.YNc(157,Qe,2,0,"span",17),e.YNc(158,je,2,0,"span",17),e.TgZ(159,"label"),e._uU(160,"(R)First Bicuspid"),e.qZA()(),e.TgZ(161,"li",45),e.YNc(162,He,2,0,"span",17),e.YNc(163,ze,2,0,"span",17),e.TgZ(164,"label"),e._uU(165,"(R)Second Bicuspid"),e.qZA()(),e.TgZ(166,"li",46),e.YNc(167,Be,2,0,"span",17),e.YNc(168,Ve,2,0,"span",17),e.TgZ(169,"label"),e._uU(170,"(R)First Molar"),e.qZA()(),e.TgZ(171,"li",47),e.YNc(172,$e,2,0,"span",17),e.YNc(173,We,2,0,"span",17),e.TgZ(174,"label"),e._uU(175,"(R)Second Molar"),e.qZA()(),e.TgZ(176,"li",48),e.YNc(177,Xe,2,0,"span",17),e.YNc(178,Ke,2,0,"span",17),e.TgZ(179,"label"),e._uU(180,"(R)Third Molar"),e.qZA()()(),e._UZ(181,"canvas",49)(182,"canvas",50)(183,"canvas",51)(184,"canvas",52)(185,"img",53),e.TgZ(186,"map",54),e.NdJ("mouseleave",function(l){return i.hoverTeeth(l,!1)})("mouseover",function(l){return i.hoverTeeth(l,!0)})("click",function(l){return i.clickTeeth(l)}),e._UZ(187,"area",55)(188,"area",56)(189,"area",57)(190,"area",58)(191,"area",59)(192,"area",60)(193,"area",61)(194,"area",62)(195,"area",63)(196,"area",64)(197,"area",65)(198,"area",66)(199,"area",67)(200,"area",68)(201,"area",69)(202,"area",70)(203,"area",71)(204,"area",72)(205,"area",73)(206,"area",74)(207,"area",75)(208,"area",76)(209,"area",77)(210,"area",78)(211,"area",79)(212,"area",80)(213,"area",81)(214,"area",82)(215,"area",83)(216,"area",84)(217,"area",85)(218,"area",86),e.qZA()()()(),e.TgZ(219,"div",87)(220,"h6",88),e._uU(221,"Tooth selections for "),e.YNc(222,et,2,1,"span",17),e.YNc(223,at,3,2,"span",89),e.qZA(),e.TgZ(224,"div",90),e.NdJ("click",function(l){return i.addSelections(l)}),e.qZA(),e.TgZ(225,"div",91)(226,"h6",92),e._uU(227," Tooth notes for "),e.YNc(228,it,2,1,"span",17),e.YNc(229,nt,3,2,"span",89),e.qZA(),e.TgZ(230,"textarea",93,94),e.NdJ("input",function(l){return i.addNotes(l)}),e.qZA()()(),e.TgZ(232,"div",95)(233,"h6",88),e._uU(234,"Selections summary"),e.qZA(),e.YNc(235,pt,17,11,"div",96),e.qZA()()),2&t&&(e.xp6(20),e.Q6J("hidden",!i.showLabel),e.xp6(2),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(4),e.Q6J("ngIf",i.isFdi),e.xp6(1),e.Q6J("ngIf",!i.isFdi),e.xp6(41),e.Q6J("ngClass",e.VKq(71,ct,!i.activeAssignedTeeth&&0==i.selectedTeeths.length)),e.xp6(3),e.Q6J("ngIf",i.activeAssignedTeeth),e.xp6(1),e.Q6J("ngForOf",i.selectedTeeths),e.xp6(5),e.Q6J("ngIf",i.activeAssignedTeeth),e.xp6(1),e.Q6J("ngForOf",i.selectedTeeths),e.xp6(6),e.Q6J("ngForOf",i.toothGuideArray))},directives:[v.O5,v.mk,v.sg],styles:['.selectionTree{background:#EEEEEE;overflow:auto;max-height:400px}.selectionTree h6,.selectionTree label{cursor:pointer}.disabled{cursor:not-allowed;pointer-events:none;opacity:.5}.selectionTree ul{display:none;animation-name:slidein;animation-duration:.3s;animation-fill-mode:forwards;transform-origin:top;background:rgba(12,128,128,.1);border-left:solid .8em rgba(12,128,128,.1);padding:1em;margin-bottom:2em;margin-left:-1em;list-style:none}.selectionTree h6{margin:1.2em 0;font-weight:700;color:#444f65}.selectionTree ul li{text-transform:unset;display:inline-block;width:calc(100% - 3.5em);cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transition:all .3s;transition-timing-function:ease-in;margin:1em;color:#444f65;font-weight:600}.selectionTree ul li label{margin-left:.4em}.selectionTree h6:before{content:"+";margin-right:1em}.selectionTree ul.showNode{display:block}h6.showNode:before{content:"-";margin-right:1em}#toothGuide{text-align:center;position:relative;padding:4em;overflow:auto}.mapshell *{position:absolute;top:0}area{cursor:pointer}.adth{position:absolute;list-style:none;width:480px;height:calc(480px - 2.2em);left:12px;margin:auto;right:0;padding:0;bottom:0;top:8px;transform:scale(1.03)}.bx{cursor:pointer}.adth li{position:absolute;text-align:center;font-size:.9em;color:#fff;background:rgba(0,0,0,.7);width:2em;border-radius:50%;line-height:2em;transform:scale(.6);transition:transform .2s;height:2em}.adth li span{text-align:center;font-size:.9em;width:100%;height:100%;position:absolute;top:0;left:0;margin:auto}.adth li label{color:#000;font-family:Roboto-Black;position:absolute;left:-10em;text-align:center;line-height:1.2em;width:10em;background:rgba(255,255,255,.5);border-radius:4px;top:0;bottom:0;margin:auto;height:1.6em;padding:.3em .3em .3em 1em;font-size:1.2em}.adth li:nth-child(n+9) label{left:2em}.adth li:nth-child(n+25) label{left:-10em}.adth li:nth-child(6) label,.adth li:nth-child(12) label{top:-.5em}.adth li:nth-child(7) label,.adth li:nth-child(10) label{top:-1em}.adth li:nth-child(26) label,.adth li:nth-child(23) label{top:1em}.adth li:nth-child(27) label,.adth li:nth-child(22) label{top:.5em}.adth li:nth-child(8) label,.adth li:nth-child(9) label{top:-5em}.adth li:nth-child(24) label,.adth li:nth-child(25) label{top:5em}@keyframes slidein{0%{transform:scaleY(0);opacity:0}to{transform:scaleY(1);opacity:1}}@media only screen and (max-width: 768px){.mw-custom{max-width:none!important}}\n'],encapsulation:2}),a})();var G=g(5436),k=g(995);function ut(a,o){1&a&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"lottie-player",20),e.TgZ(3,"h6",21),e._uU(4,"Processing request....please wait, don't close this page"),e.qZA()()())}function mt(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"ng-select",57),e.NdJ("ngModel",function(){return e.CHM(t),e.oxw(2).casesName})("change",function(s){return e.CHM(t),e.oxw(2).selectEvent(s)}),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("items",t.allcases)("editableSearchTerm",!0)}}function gt(a,o){if(1&a&&e._UZ(0,"input",58),2&a){const t=e.oxw(2);e.s9C("ngModel",t.casesName)}}function ht(a,o){if(1&a&&(e.TgZ(0,"div",59)(1,"div",60)(2,"div",61),e._UZ(3,"img",62),e.TgZ(4,"div",63)(5,"div")(6,"h5",64),e._uU(7),e.qZA(),e.TgZ(8,"h6",65),e._uU(9),e.qZA()(),e.TgZ(10,"div")(11,"button",66),e._UZ(12,"i",67),e._uU(13," Add"),e.qZA()()()()()()),2&a){const t=o.item;e.xp6(3),e.Q6J("src",t.avatar,e.LSH),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.emailAddress)}}function ft(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"span",68),e._UZ(1,"img",69),e._uU(2),e.qZA(),e.TgZ(3,"span",70),e.NdJ("click",function(){const s=e.CHM(t);return s.clear(s.item)}),e._uU(4,"\xd7"),e.qZA()}if(2&a){const t=o.item;e.xp6(1),e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",t.name,"")}}function _t(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1,"Referal to should not be blank!"),e.qZA())}function vt(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1," Due date should be greater than start to date"),e.qZA())}function bt(a,o){1&a&&(e.TgZ(0,"span",71),e._uU(1," Tooth guide should not be blank!"),e.qZA())}function Tt(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",19)(2,"div",23)(3,"div",24)(4,"div",18)(5,"div",25)(6,"h5",26),e._uU(7,"Add Referral"),e.qZA()(),e.TgZ(8,"div",27)(9,"a",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e._uU(10,"Back "),e.qZA()()()(),e.TgZ(11,"div",29)(12,"div",30)(13,"div",19)(14,"div",18)(15,"div",31)(16,"div",32)(17,"label",33),e._uU(18,"Case Title "),e.qZA(),e.YNc(19,mt,1,2,"ng-select",34),e.YNc(20,gt,1,1,"input",35),e.qZA()(),e.TgZ(21,"div",31)(22,"div",32)(23,"label",33),e._uU(24,"Referred To "),e.qZA(),e.TgZ(25,"div",36),e._UZ(26,"i",37),e.TgZ(27,"ng-select",38),e.NdJ("ngModel",function(){return e.CHM(t),e.oxw().selectedCity})("change",function(s){return e.CHM(t),e.oxw().selectEvents(s)}),e.YNc(28,ht,14,3,"ng-template",39),e.YNc(29,ft,5,2,"ng-template",40),e.qZA()(),e.YNc(30,_t,2,0,"span",41),e.qZA()(),e.TgZ(31,"div",31)(32,"div",32)(33,"label",33),e._uU(34,"Title "),e.qZA(),e._UZ(35,"input",42),e.qZA()(),e.TgZ(36,"div",31)(37,"div",32)(38,"label",33),e._uU(39,"Start Date"),e.qZA(),e._UZ(40,"input",43),e.ALo(41,"date"),e.qZA()(),e.TgZ(42,"div",31)(43,"div",32)(44,"label",33),e._uU(45,"Due Date"),e.qZA(),e._UZ(46,"input",44),e.ALo(47,"date"),e.qZA(),e.YNc(48,vt,2,0,"span",41),e.qZA(),e.TgZ(49,"div",19)(50,"div",45)(51,"label",33),e._uU(52,"Notes"),e.qZA(),e._UZ(53,"app-cvfast"),e.qZA()(),e.TgZ(54,"div",46),e._UZ(55,"app-referral-guide",null,47),e.YNc(57,bt,2,0,"span",41),e.qZA()()()()()()(),e.TgZ(58,"div",48),e._UZ(59,"input",49)(60,"input",50)(61,"input",51)(62,"input",52)(63,"input",53),e.TgZ(64,"button",54),e._UZ(65,"i",55),e._uU(66," Send Referral "),e.qZA(),e.TgZ(67,"a",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e._uU(68,"Cancel "),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(19),e.Q6J("ngIf","0"==t.checkCase),e.xp6(1),e.Q6J("ngIf","0"!=t.checkCase),e.xp6(7),e.Q6J("items",t.allMember)("multiple",!0)("hideSelected",!0),e.xp6(3),e.Q6J("ngIf",1==t.isvalidRefereTo),e.xp6(10),e.s9C("min",e.xi3(41,15,t.minDate,"yyyy-MM-dd")),e.xp6(6),e.s9C("min",e.xi3(47,18,t.minDate,"yyyy-MM-dd")),e.xp6(2),e.Q6J("ngIf",1==t.isvalidDate),e.xp6(9),e.Q6J("ngIf",1==t.isvalidToothGuide),e.xp6(2),e.s9C("ngModel",1),e.xp6(1),e.s9C("ngModel",t.caseid),e.xp6(1),e.s9C("ngModel",t.patientid),e.xp6(1),e.s9C("ngModel",t.milestoneid),e.xp6(1),e.s9C("ngModel",t.patientName)}}let Zt=(()=>{class a{constructor(t,i,s,l,d,r,p){this.location=t,this.dataService=i,this.router=s,this.utility=l,this.utilitydev=d,this.usr=r,this.route=p,this.allMember=[],this.allMemberEmail=[],this.allMemberName=[],this.selectedCity="",this.parmCaseId="",this.allcases=[],this.caseid="",this.patientid="",this.casesName="",this.patientName="",this.milestoneid=sessionStorage.getItem("checkmilestoneidref"),this.checkCase="",this.jsonObj={caseId:"",patientId:"",milestoneId:"",title:"",notes:{},toothguide:{},startdate:0,enddate:0,presentStatus:0},this.minDate=new Date,this.isvalidDate=!1,this.isvalidToothGuide=!1,this.isvalidRefereTo=!1,this.parmCaseId=this.route.snapshot.paramMap.get("caseId"),this.checkCase=this.route.snapshot.paramMap.get("caseId")}back(){this.location.back()}ngOnInit(){this.getCaseDetails(),this.getAllCases()}onSubmitReferral(t){let i=JSON.stringify(this.orders.getToothGuide());if(this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.enddate),this.isvalidToothGuide=2==i.length,this.isvalidRefereTo=0==this.allMemberEmail.length,t.invalid||1==this.isvalidDate||1==this.isvalidToothGuide||1==this.isvalidRefereTo)return n()("Please enter values for the mandatory fields"),void t.form.markAllAsTouched();this.sending=!0,this.onGetalldata(t.value)}onGetalldata(t){this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,t.milestoneid&&(this.jsonObj.milestoneId=t.milestoneid),this.jsonObj.title=this.removeHTML(t.title),this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.enddate=Date.parse(t.enddate),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.members=this.allMemberEmail,this.jsonObj.toothguide=this.orders.getToothGuide(),(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObj.notes=this.cvfastval.returnCvfast());const i=sessionStorage.getItem("backurl");this.cvfastval.processFiles(this.utility.apiData.userReferrals.ApiUrl,this.jsonObj,!0,"Referral added successfully",i,"post","","notes","","Referal title already exists.").then(s=>{this.sending=!1},s=>{this.sending=!1})}getAllMembers(t){if(this.usr.getUserDetails(!1)){let s=this.utility.apiData.userCaseInvites.ApiUrl;""!=t&&(s+="?caseId="+t),s+="&presentStatus=1",this.dataService.getallData(s,!0).subscribe(l=>{if(l){let r=JSON.parse(l.toString());r.sort((p,h)=>p.dateUpdated>h.dateUpdated?-1:1),this.allMember=Array();for(var d=0;d<r.length;d++)this.allMember.push({id:d,avatar:"",emailAddress:"",name:"",memberid:""}),this.getuserdetailsall(r[d].invitedUserMail,d)}},l=>{404===l.status?n()("No referral found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}}selectEvents(t){this.allMemberEmail=Array(),this.allMemberName=Array();for(var i=0;i<t.length;i++)this.allMemberEmail.push(t[i].memberid),this.allMemberName.push(t[i].name),this.isvalidRefereTo=!1}getuserdetailsall(t,i){if(this.usr.getUserDetails(!1)){let l=this.utility.apiData.userColleague.ApiUrl;""!=t&&(l+="?emailAddress="+t),this.dataService.getallData(l,!0).subscribe(d=>{if(d){let r=JSON.parse(d.toString()),p="";p=null!=r.imageSrc?"https://dentallive-accounts.s3-us-west-2.amazonaws.com/"+r.imageSrc:"assets/images/users.png",this.allMember[i].name=r.accountfirstName+" "+r.accountlastName,this.allMember[i].emailAddress=r.emailAddress,this.allMember[i].avatar=p,this.allMember[i].memberid=r.dentalId}},d=>(404===d.status?n()("No referral found"):403===d.status?n()("You are unauthorized to access the data"):400===d.status?n()("Invalid data provided, please try again"):401===d.status?n()("You are unauthorized to access the page"):409===d.status?n()("Duplicate data entered"):405===d.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===d.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}getAllCases(){this.usr.getUserDetails(!1)&&(this.sending=!0,this.dataService.getallData(this.utility.apiData.userCases.ApiUrl,!0).subscribe(s=>{if(s){this.tabledataAll=JSON.parse(s.toString()),this.allcases=Array();for(var l=0;l<this.tabledataAll.length;l++)if(1==this.tabledataAll[l].caseStatus){let d=this.tabledataAll[l].title;this.allcases.push({value:this.tabledataAll[l].caseId,caseId:this.tabledataAll[l].caseId,patientName:this.tabledataAll[l].patientName,patientId:this.tabledataAll[l].patientId,name:d,label:d})}this.sending=!1}},s=>(404===s.status?n()("No referral found"):403===s.status?n()("You are unauthorized to access the data"):400===s.status?n()("Invalid data provided, please try again"):401===s.status?n()("You are unauthorized to access the page"):409===s.status?n()("Duplicate data entered"):405===s.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===s.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1)))}selectEvent(t){this.caseid=t.caseId,this.patientid=t.patientId,this.patientName=t.patientName,this.casesName=t.name,this.getAllMembers(t.caseId)}getCaseDetails(){if(this.usr.getUserDetails(!1)){let i=this.utility.apiData.userCases.ApiUrl,s=this.parmCaseId;0!=s&&(this.sending=!0,i+="?caseId="+s,this.dataService.getallData(i,!0).subscribe(l=>{l&&(this.tabledata=JSON.parse(l.toString()),this.casesName=this.tabledata.title,this.patientName=this.tabledata.patientName,this.caseid=this.tabledata.caseId,this.patientid=this.tabledata.patientId,this.getAllMembers(this.tabledata.caseId),this.sending=!1)},l=>{404===l.status?n()("No referral found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")}))}}removeHTML(t){if(""!=t&&"undefined"!=t&&null!=t){var i=document.createElement("DIV");return i.innerHTML=t,i.textContent||i.innerText||""}return""}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v.Ye),e.Y36(b.T),e.Y36(T.F0),e.Y36(c.t),e.Y36(k.F),e.Y36(f.f),e.Y36(T.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-referral-add"]],viewQuery:function(t,i){if(1&t&&(e.Gf(G.x,5),e.Gf(O,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.cvfastval=s.first),e.iGM(s=e.CRH())&&(i.orders=s.first)}},decls:24,vars:4,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/referrals/referral-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],["class","row",4,"ngIf"],["id","referralForm",3,"ngSubmit"],["referralForm","ngForm"],["class","row align-items-center pt-2",4,"ngIf"],[1,"row"],[1,"col-md-12"],["src","https://assets6.lottiefiles.com/packages/lf20_fhsx0ijl/lottie/collections-feature.json","background","transparent","speed","1","loop","","autoplay","",1,"mt-3","m-auto",2,"width","300px","height","300px"],[1,"text-center","mt-5"],[1,"row","align-items-center","pt-2"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],[1,"col-md-4"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["required","true","placeholder","Select","name","caseName","id","caseName",3,"items","editableSearchTerm","ngModel","change",4,"ngIf"],["type","text","readonly","","class","form-control","placeholder","Enter Title here","name","caseName","id","caseName","ngModel","","required","",3,"ngModel",4,"ngIf"],[1,"search","search-md","search-filter","search-filter-sm"],[1,"bx","bx-search"],["bindLabel","name","bindValue","name","required","",3,"items","multiple","hideSelected","ngModel","change"],["ng-option-tmp",""],["ng-label-tmp",""],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],["type","text","placeholder","Enter Title here","name","title","id","title","ngModel","","required","",1,"form-control"],["type","date","name","startdate","id","startdate","ngModel","","required","",1,"form-control",3,"min"],["type","date","name","enddate","id","enddate","ngModel","","required","",1,"form-control",3,"min"],[1,"mb-3"],[1,"col-12"],["orders",""],[1,"col-md-12","mt-3"],["type","hidden","name","presentStatus","id","presentStatus",3,"ngModel"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","milestoneid","id","milestoneid",3,"ngModel"],["type","hidden","name","patientName","id","patientName",3,"ngModel"],["type","submit",1,"btn","btn-default","me-2"],[1,"bx","bx-send"],["href","javascript:void(0);",1,"btn","btn-secondary","me-2",3,"click"],["required","true","placeholder","Select","name","caseName","id","caseName",3,"items","editableSearchTerm","ngModel","change"],["type","text","readonly","","placeholder","Enter Title here","name","caseName","id","caseName","ngModel","","required","",1,"form-control",3,"ngModel"],[1,"card","card-lists"],[1,"card-body","p-0"],[1,"d-flex","align-items-center"],[1,"rounded-circle","me-2","img-thumbnail","shadow-sm",2,"height","50px","width","50px",3,"src"],[1,"d-flex","align-items-center","justify-content-between","search-list-content"],["ngOptionHighlight","search",1,"card-title",2,"white-space","normal"],[1,"card-subtitle","text-muted",2,"white-space","normal","word-wrap","anywhere"],["type","button",1,"btn","btn-outline-primary","btn-sm","ms-2"],[1,"bx","bx-user-plus"],[1,"ng-value-label"],["width","20px","height","20px",1,"rounded-circle","me-1",3,"src"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[2,"color","#F7517F","font-weight","bold"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Referral"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Add Referral "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14),e.TgZ(15,"span",10),e._uU(16),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.YNc(20,ut,5,0,"div",14),e.TgZ(21,"form",15,16),e.NdJ("ngSubmit",function(){e.CHM(s);const d=e.MAs(22);return i.onSubmitReferral(d)}),e.YNc(23,Tt,69,21,"div",17),e.qZA()}2&t&&(e.xp6(14),e.hij("",i.patientName," "),e.xp6(2),e.Oqu(i.casesName),e.xp6(4),e.Q6J("ngIf",i.sending),e.xp6(3),e.Q6J("ngIf",!i.sending))},directives:[T.yS,v.O5,u._Y,u.JL,u.F,A.w9,u.Q7,u.JJ,u.On,u.Fj,A.ir,A.mR,G.x,O],pipes:[v.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.search-filter-sm[_ngcontent-%COMP%]   .search-list-content[_ngcontent-%COMP%]{width:calc(100% - 30px)}.search-filter-sm[_ngcontent-%COMP%]   .card-lists[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:14px}.search-filter-sm[_ngcontent-%COMP%]   .card-lists[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .search-filter-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:12px}.search-filter-sm[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:2px 8px}"]}),a})(),xt=(()=>{class a{constructor(t){this.location=t,this.dtOptions={}}back(){this.location.back()}ngOnInit(){this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}searchText(t){var i=t.target.value;$("#dataTables").DataTable().search(i).draw()}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v.Ye))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-referral-add-members"]],decls:280,vars:1,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/referral"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"row"],[1,"col-md-6","align-self-center"],["aria-label","breadcrumb",1,"my-2"],[1,"breadcrumb","fw-bold","mb-0"],["href","javascript:void(0);",2,"color","#5D6A7E",3,"click"],["routerLink","/referrals/referral-add",2,"color","#5D6A7E"],["aria-current","page",1,"breadcrumb-item","active",2,"color","#011A3E"],[1,"card-body","p-0","pb-4"],[1,"table-responsive"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light"],[2,"text-transform","uppercase"],[2,"width","15px"],[1,"form-check","form-check-inline","mb-0",2,"min-height","auto"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],[1,"body2"],[1,"form-check","form-check-inline"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","mt-2"],[1,"d-flex","mt-1"],["alt","...","src","assets/images/image2.png",1,"avatar","avatar-sm","rounded-circle"],[1,"ps-2"],[1,"body2","d-block"],[1,"bx","bxs-home","me-1","text-gray"],[2,"vertical-align","middle"],[1,"d-flex"],["routerLink","#",1,"me-2"],[1,"material-icons","text-bright-blue"],["routerLink","#"],[1,"material-icons","text-light-green"],["alt","...","src","assets/images/image.png",1,"avatar","avatar-sm","rounded-circle"],[1,"card","mt-3",2,"box-shadow","0px 5px 5px rgba(0, 0, 0, 0.1)","background","linear-gradient(97.53deg, #0070D2 -3.56%, #B0A1E9 51.67%, #E6FBFD 90.62%)"],[1,"card-body"],[1,"row","mt-2"],[1,"mb-3"],[1,"form-label","body2","text-light"],["placeholder","Enter text here","id","floatingTextarea2",1,"form-control",2,"height","100px"],[1,"col-md-12","mt-3"],[1,"btn","btn-default"],["aria-hidden","true",1,"bx","bx-paper-plane"]],template:function(t,i){1&t&&(e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Referral"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Referral Add Members "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14,"Diana Hiden "),e.TgZ(15,"span",10),e._uU(16,"Root Canal Treatment"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.TgZ(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"nav",20)(27,"ol",21)(28,"li",1)(29,"a",22),e.NdJ("click",function(){return i.back()}),e._uU(30,"Back "),e.qZA()(),e.TgZ(31,"li",1)(32,"a",23),e._uU(33,"Add Referral"),e.qZA()(),e.TgZ(34,"li",24),e._uU(35,"Add Members"),e.qZA()()()(),e._UZ(36,"div",7),e.qZA()(),e.TgZ(37,"div",25)(38,"div",26)(39,"table",27)(40,"thead",28)(41,"tr",29)(42,"th",30)(43,"div",31),e._UZ(44,"input",32),e.qZA()(),e.TgZ(45,"th",33),e._uU(46,"MEMBER NAME"),e.qZA(),e.TgZ(47,"th",33),e._uU(48,"MEMBER TYPE"),e.qZA(),e.TgZ(49,"th",33),e._uU(50,"EDUCATION"),e.qZA(),e.TgZ(51,"th",33),e._uU(52,"LOCATION"),e.qZA(),e.TgZ(53,"th",33),e._uU(54,"ACTIONS"),e.qZA()()(),e.TgZ(55,"tbody")(56,"tr")(57,"td")(58,"div",34),e._UZ(59,"input",35),e.qZA()(),e.TgZ(60,"td")(61,"div",36),e._UZ(62,"img",37),e.TgZ(63,"div",38)(64,"span",39),e._uU(65,"Colin"),e.qZA(),e.TgZ(66,"span",39),e._uU(67,"General Dentist"),e.qZA()()()(),e.TgZ(68,"td")(69,"span",33),e._UZ(70,"i",40),e._uU(71," Home "),e.qZA()(),e.TgZ(72,"td")(73,"span",33),e._uU(74,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(75,"td",41)(76,"span",33),e._uU(77,"Canada"),e.qZA()(),e.TgZ(78,"td")(79,"div",42)(80,"a",43)(81,"i",44),e._uU(82,"edit "),e.qZA()(),e.TgZ(83,"a",45)(84,"i",46),e._uU(85,"visibility"),e.qZA()()()()(),e.TgZ(86,"tr")(87,"td")(88,"div",34),e._UZ(89,"input",35),e.qZA()(),e.TgZ(90,"td")(91,"div",42),e._UZ(92,"img",47),e.TgZ(93,"div",38)(94,"span",39),e._uU(95,"Simon Sais"),e.qZA(),e.TgZ(96,"span",39),e._uU(97,"General Dentist"),e.qZA()()()(),e.TgZ(98,"td")(99,"span",33),e._UZ(100,"i",40),e._uU(101,"Home "),e.qZA()(),e.TgZ(102,"td")(103,"span",33),e._uU(104,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(105,"td",41)(106,"span",33),e._uU(107,"Canada "),e.qZA()(),e.TgZ(108,"td")(109,"div",42)(110,"a",43)(111,"i",44),e._uU(112,"edit "),e.qZA()(),e.TgZ(113,"a",45)(114,"i",46),e._uU(115,"visibility"),e.qZA()()()()(),e.TgZ(116,"tr")(117,"td")(118,"div",34),e._UZ(119,"input",35),e.qZA()(),e.TgZ(120,"td")(121,"div",42),e._UZ(122,"img",37),e.TgZ(123,"div",38)(124,"span",39),e._uU(125,"Mario Speedwagon"),e.qZA(),e.TgZ(126,"span",39),e._uU(127,"General Dentist"),e.qZA()()()(),e.TgZ(128,"td")(129,"span",33),e._UZ(130,"i",40),e._uU(131,"Home "),e.qZA()(),e.TgZ(132,"td")(133,"span",33),e._uU(134,"BDS/DDS/DMD"),e.qZA()(),e.TgZ(135,"td",41)(136,"span",33),e._uU(137,"Canada"),e.qZA()(),e.TgZ(138,"td")(139,"div",42)(140,"a",43)(141,"i",44),e._uU(142,"edit "),e.qZA()(),e.TgZ(143,"a",45)(144,"i",46),e._uU(145,"visibility"),e.qZA()()()()(),e.TgZ(146,"tr")(147,"td")(148,"div",34),e._UZ(149,"input",35),e.qZA()(),e.TgZ(150,"td")(151,"div",36),e._UZ(152,"img",47),e.TgZ(153,"div",38)(154,"span",39),e._uU(155,"Colin"),e.qZA(),e.TgZ(156,"span",39),e._uU(157,"General Dentist"),e.qZA()()()(),e.TgZ(158,"td")(159,"span",33),e._UZ(160,"i",40),e._uU(161,"Home "),e.qZA()(),e.TgZ(162,"td")(163,"span",33),e._uU(164,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(165,"td",41)(166,"span",33),e._uU(167,"Canada"),e.qZA()(),e.TgZ(168,"td")(169,"div",42)(170,"a",43)(171,"i",44),e._uU(172,"edit "),e.qZA()(),e.TgZ(173,"a",45)(174,"i",46),e._uU(175,"visibility"),e.qZA()()()()(),e.TgZ(176,"tr")(177,"td")(178,"div",34),e._UZ(179,"input",35),e.qZA()(),e.TgZ(180,"td")(181,"div",42),e._UZ(182,"img",37),e.TgZ(183,"div",38)(184,"span",39),e._uU(185,"Liza Doolittle"),e.qZA(),e.TgZ(186,"span",39),e._uU(187,"Specialist"),e.qZA()()()(),e.TgZ(188,"td")(189,"span",33),e._UZ(190,"i",40),e._uU(191,"Home "),e.qZA()(),e.TgZ(192,"td")(193,"span",33),e._uU(194,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(195,"td",41)(196,"span",33),e._uU(197,"Canada "),e.qZA()(),e.TgZ(198,"td")(199,"div",42)(200,"a",43)(201,"i",44),e._uU(202,"edit "),e.qZA()(),e.TgZ(203,"a",45)(204,"i",46),e._uU(205,"visibility"),e.qZA()()()()(),e.TgZ(206,"tr")(207,"td")(208,"div",34),e._UZ(209,"input",35),e.qZA()(),e.TgZ(210,"td")(211,"div",42),e._UZ(212,"img",47),e.TgZ(213,"div",38)(214,"span",39),e._uU(215,"Colin"),e.qZA(),e.TgZ(216,"span",39),e._uU(217,"General Dentist"),e.qZA()()()(),e.TgZ(218,"td")(219,"span",33),e._UZ(220,"i",40),e._uU(221,"Home "),e.qZA()(),e.TgZ(222,"td")(223,"span",33),e._uU(224,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(225,"td",41)(226,"span",33),e._uU(227,"Canada "),e.qZA()(),e.TgZ(228,"td")(229,"div",42)(230,"a",43)(231,"i",44),e._uU(232,"edit "),e.qZA()(),e.TgZ(233,"a",45)(234,"i",46),e._uU(235,"visibility"),e.qZA()()()()(),e.TgZ(236,"tr")(237,"td")(238,"div",34),e._UZ(239,"input",35),e.qZA()(),e.TgZ(240,"td")(241,"div",42),e._UZ(242,"img",37),e.TgZ(243,"div",38)(244,"span",39),e._uU(245,"Aida Bugg"),e.qZA(),e.TgZ(246,"span",39),e._uU(247,"Specialist"),e.qZA()()()(),e.TgZ(248,"td")(249,"span",33),e._UZ(250,"i",40),e._uU(251,"Home "),e.qZA()(),e.TgZ(252,"td")(253,"span",33),e._uU(254,"BDS/DDS/DMD"),e.qZA()(),e.TgZ(255,"td",41)(256,"span",33),e._uU(257,"Canada"),e.qZA()(),e.TgZ(258,"td")(259,"div",42)(260,"a",43)(261,"i",44),e._uU(262,"edit "),e.qZA()(),e.TgZ(263,"a",45)(264,"i",46),e._uU(265,"visibility"),e.qZA()()()()()()()()()(),e.TgZ(266,"div",48)(267,"div",49)(268,"div",50)(269,"div",15)(270,"div",18)(271,"div",15)(272,"div",51)(273,"label",52),e._uU(274,"Invitation Notes"),e.qZA(),e._UZ(275,"textarea",53),e.qZA()(),e.TgZ(276,"div",54)(277,"button",55),e._UZ(278,"i",56),e._uU(279," Send Invite "),e.qZA()()()()()()()()()),2&t&&(e.xp6(39),e.Q6J("dtOptions",i.dtOptions))},directives:[T.yS,N.G],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}"]}),a})();var J=g(8259);const At=["videoPlayer"];function yt(a,o){if(1&a&&(e.TgZ(0,"div",42)(1,"div",43)(2,"h3",44),e._uU(3),e.TgZ(4,"span",45),e._uU(5),e.qZA(),e.TgZ(6,"div",46),e._UZ(7,"div",47),e.qZA()()()()),2&a){const t=e.oxw();e.xp6(3),e.hij("",t.detailsdata.patientName," "),e.xp6(2),e.Oqu(t.detailsdata.title)}}function Ct(a,o){1&a&&e._UZ(0,"ngx-shimmer-loading",51),2&a&&e.Q6J("width","100%")("height","50px")("margin","20px")}function Ut(a,o){if(1&a&&(e.ynx(0,48),e._UZ(1,"div",49),e.YNc(2,Ct,1,3,"ngx-shimmer-loading",50),e.BQk()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.shimmer(10).fill(1))}}function Nt(a,o){if(1&a&&(e.TgZ(0,"div",57),e._UZ(1,"input",58),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.s9C("value",t.tabledata.title)}}function It(a,o){if(1&a&&(e.TgZ(0,"div",70),e._UZ(1,"input",71),e.ALo(2,"date"),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.s9C("value",e.xi3(2,1,t.tabledata.startdate,"mediumDate"))}}function Dt(a,o){if(1&a&&(e.TgZ(0,"div",70),e._UZ(1,"input",71),e.ALo(2,"date"),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.s9C("value",e.xi3(2,1,t.tabledata.enddate,"mediumDate"))}}function qt(a,o){if(1&a&&(e.TgZ(0,"div",55)(1,"label",72),e._uU(2,"Notes"),e.qZA(),e.TgZ(3,"div",73)(4,"div",74)(5,"div",52)(6,"p",75),e._uU(7),e.qZA()()()()()),2&a){const t=e.oxw(2);e.xp6(7),e.hij(" ",t.removeHTML(t.tabledata.notes.text)," ")}}function wt(a,o){if(1&a&&(e.TgZ(0,"a",82),e._UZ(1,"img",83),e.qZA()),2&a){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(1),e.s9C("src",t.ImageUrl,e.LSH)}}function Mt(a,o){if(1&a&&(e.TgZ(0,"a",82),e._UZ(1,"img",84),e._uU(2),e.qZA()),2&a){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(2),e.Oqu(t.imgName)}}function Rt(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"video",85,86),e.NdJ("play",function(){return e.CHM(t),e.oxw(4).video()}),e._UZ(2,"source",87),e.qZA()}if(2&a){const t=e.oxw().$implicit;e.xp6(2),e.s9C("src",t.ImageUrl,e.LSH)}}function St(a,o){if(1&a&&(e.TgZ(0,"div",77)(1,"div",78)(2,"div",79),e._uU(3," \xa0"),e.YNc(4,wt,2,2,"a",80),e.YNc(5,Mt,3,2,"a",80),e.YNc(6,Rt,3,1,"video",81),e.qZA()()()),2&a){const t=o.$implicit;e.xp6(4),e.Q6J("ngIf","png"==t.imgName.split(".").pop()||"jpg"==t.imgName.split(".").pop()||"jpeg"==t.imgName.split(".").pop()||"gif"==t.imgName.split(".").pop()||"PNG"==t.imgName.split(".").pop()||"JPG"==t.imgName.split(".").pop()||"JPEG"==t.imgName.split(".").pop()||"GIF"==t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","png"!=t.imgName.split(".").pop()&&"jpg"!=t.imgName.split(".").pop()&&"jpeg"!=t.imgName.split(".").pop()&&"gif"!=t.imgName.split(".").pop()&&"PNG"!=t.imgName.split(".").pop()&&"JPG"!=t.imgName.split(".").pop()&&"JPEG"!=t.imgName.split(".").pop()&&"GIF"!=t.imgName.split(".").pop()&&"mp4"!=t.imgName.split(".").pop()&&"MP4"!=t.imgName.split(".").pop()&&"3gp"!=t.imgName.split(".").pop()&&"3GP"!=t.imgName.split(".").pop()&&"avi"!=t.imgName.split(".").pop()&&"AVI"!=t.imgName.split(".").pop()&&"wmv"!=t.imgName.split(".").pop()&&"WMV"!=t.imgName.split(".").pop()&&"mov"!=t.imgName.split(".").pop()&&"MOV"!=t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","mp4"==t.imgName.split(".").pop()||"MP4"==t.imgName.split(".").pop()||"3gp"==t.imgName.split(".").pop()||"3GP"==t.imgName.split(".").pop()||"avi"==t.imgName.split(".").pop()||"AVI"==t.imgName.split(".").pop()||"wmv"==t.imgName.split(".").pop()||"WMV"==t.imgName.split(".").pop()||"mov"==t.imgName.split(".").pop()||"MOV"==t.imgName.split(".").pop())}}function Ot(a,o){if(1&a&&(e.TgZ(0,"div",55)(1,"label",64),e._uU(2,"Assets : "),e.qZA(),e.TgZ(3,"div",73)(4,"div",14),e.YNc(5,St,7,3,"div",76),e.qZA()()()),2&a){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.attachmentFiles)}}function Gt(a,o){1&a&&(e.TgZ(0,"button",88),e._UZ(1,"i",89),e._uU(2," Update Due Date "),e.qZA())}function Ft(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",52)(2,"div",53)(3,"div",11)(4,"div",14)(5,"div",54)(6,"div",55)(7,"label",56),e._uU(8,"Assigned To"),e.qZA(),e.TgZ(9,"div",57),e._UZ(10,"input",58),e.qZA()()(),e.TgZ(11,"div",54)(12,"div",55)(13,"label",56),e._uU(14,"Title"),e.qZA(),e.YNc(15,Nt,2,1,"div",59),e.qZA()(),e.TgZ(16,"div",60)(17,"label",61),e._uU(18,"Start Date"),e.qZA(),e.YNc(19,It,3,4,"div",62),e.qZA(),e.TgZ(20,"div",60)(21,"label",61),e._uU(22,"Due Date"),e.qZA(),e.YNc(23,Dt,3,4,"div",62),e.qZA(),e.TgZ(24,"div",11),e.YNc(25,qt,8,1,"div",63),e.qZA(),e.TgZ(26,"div",11),e.YNc(27,Ot,6,1,"div",63),e.qZA(),e.TgZ(28,"div",11)(29,"div",55)(30,"label",64),e._uU(31,"Tooth Guide : "),e.qZA(),e.TgZ(32,"div",65)(33,"div",14),e._UZ(34,"app-referral-guide",null,66),e.qZA()()()()()()(),e.TgZ(36,"div",14)(37,"div",67),e.YNc(38,Gt,3,0,"button",68),e.TgZ(39,"a",69),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e._uU(40,"Cancel"),e.qZA()()()()()}if(2&a){const t=e.oxw();e.xp6(10),e.s9C("value",t.referalmembersName),e.xp6(5),e.Q6J("ngIf",t.tabledata),e.xp6(4),e.Q6J("ngIf",t.tabledata),e.xp6(4),e.Q6J("ngIf",t.tabledata),e.xp6(2),e.Q6J("ngIf",1==t.cvfastText),e.xp6(2),e.Q6J("ngIf",1==t.cvfastLinks),e.xp6(11),e.Q6J("ngIf",t.tabledata.resourceOwner==t.userDetails.emailAddress)}}function Jt(a,o){if(1&a&&e._UZ(0,"img",108),2&a){const t=e.oxw(4);e.s9C("src",t.patientImg,e.LSH)}}function Yt(a,o){if(1&a&&e._UZ(0,"img",109),2&a){const t=e.oxw(4);e.s9C("src",t.Img,e.LSH)}}function kt(a,o){if(1&a&&(e.TgZ(0,"a",82),e._UZ(1,"img",113),e.qZA()),2&a){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(1),e.s9C("src",t.ImageUrl,e.LSH)}}function Et(a,o){if(1&a&&(e.TgZ(0,"a",82),e._UZ(1,"img",84),e._uU(2),e.qZA()),2&a){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(2),e.Oqu(t.imgName)}}function Lt(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"video",114,115),e.NdJ("play",function(){return e.CHM(t),e.oxw(6).video()}),e._UZ(2,"source",87),e.qZA()}if(2&a){const t=e.oxw().$implicit;e.xp6(2),e.s9C("src",t.ImageUrl,e.LSH)}}function Pt(a,o){if(1&a&&(e.TgZ(0,"span"),e._uU(1," \xa0"),e.YNc(2,kt,2,2,"a",80),e.YNc(3,Et,3,2,"a",80),e.YNc(4,Lt,3,1,"video",112),e.qZA()),2&a){const t=o.$implicit;e.xp6(2),e.Q6J("ngIf","png"==t.imgName.split(".").pop()||"jpg"==t.imgName.split(".").pop()||"jpeg"==t.imgName.split(".").pop()||"gif"==t.imgName.split(".").pop()||"PNG"==t.imgName.split(".").pop()||"JPG"==t.imgName.split(".").pop()||"JPEG"==t.imgName.split(".").pop()||"GIF"==t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","png"!=t.imgName.split(".").pop()&&"jpg"!=t.imgName.split(".").pop()&&"jpeg"!=t.imgName.split(".").pop()&&"gif"!=t.imgName.split(".").pop()&&"PNG"!=t.imgName.split(".").pop()&&"JPG"!=t.imgName.split(".").pop()&&"JPEG"!=t.imgName.split(".").pop()&&"GIF"!=t.imgName.split(".").pop()&&"mp4"!=t.imgName.split(".").pop()&&"MP4"!=t.imgName.split(".").pop()&&"3gp"!=t.imgName.split(".").pop()&&"3GP"!=t.imgName.split(".").pop()&&"avi"!=t.imgName.split(".").pop()&&"AVI"!=t.imgName.split(".").pop()&&"wmv"!=t.imgName.split(".").pop()&&"WMV"!=t.imgName.split(".").pop()&&"mov"!=t.imgName.split(".").pop()&&"MOV"!=t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","mp4"==t.imgName.split(".").pop()||"MP4"==t.imgName.split(".").pop()||"3gp"==t.imgName.split(".").pop()||"3GP"==t.imgName.split(".").pop()||"avi"==t.imgName.split(".").pop()||"AVI"==t.imgName.split(".").pop()||"wmv"==t.imgName.split(".").pop()||"WMV"==t.imgName.split(".").pop()||"mov"==t.imgName.split(".").pop()||"MOV"==t.imgName.split(".").pop())}}function Qt(a,o){if(1&a&&(e.TgZ(0,"div",110),e.YNc(1,Pt,5,3,"span",111),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.messageimg)}}function jt(a,o){if(1&a&&(e.TgZ(0,"p",100),e._uU(1),e.qZA()),2&a){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.text)}}function Ht(a,o){if(1&a&&(e.TgZ(0,"a",82),e._UZ(1,"img",113),e.qZA()),2&a){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(1),e.s9C("src",t.ImageUrl,e.LSH)}}function zt(a,o){if(1&a&&(e.TgZ(0,"a",82),e._UZ(1,"img",84),e._uU(2),e.qZA()),2&a){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(2),e.Oqu(t.imgName)}}function Bt(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"video",114,120),e.NdJ("play",function(){return e.CHM(t),e.oxw(7).video()}),e._UZ(2,"source",87),e.qZA()}if(2&a){const t=e.oxw().$implicit;e.xp6(2),e.s9C("src",t.ImageUrl,e.LSH)}}function Vt(a,o){if(1&a&&(e.TgZ(0,"span"),e._uU(1," \xa0"),e.YNc(2,Ht,2,2,"a",80),e.YNc(3,zt,3,2,"a",80),e.YNc(4,Bt,3,1,"video",112),e.qZA()),2&a){const t=o.$implicit;e.xp6(2),e.Q6J("ngIf","png"==t.imgName.split(".").pop()||"jpg"==t.imgName.split(".").pop()||"jpeg"==t.imgName.split(".").pop()||"gif"==t.imgName.split(".").pop()||"PNG"==t.imgName.split(".").pop()||"JPG"==t.imgName.split(".").pop()||"JPEG"==t.imgName.split(".").pop()||"GIF"==t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","png"!=t.imgName.split(".").pop()&&"jpg"!=t.imgName.split(".").pop()&&"jpeg"!=t.imgName.split(".").pop()&&"gif"!=t.imgName.split(".").pop()&&"PNG"!=t.imgName.split(".").pop()&&"JPG"!=t.imgName.split(".").pop()&&"JPEG"!=t.imgName.split(".").pop()&&"GIF"!=t.imgName.split(".").pop()&&"mp4"!=t.imgName.split(".").pop()&&"MP4"!=t.imgName.split(".").pop()&&"3gp"!=t.imgName.split(".").pop()&&"3GP"!=t.imgName.split(".").pop()&&"avi"!=t.imgName.split(".").pop()&&"AVI"!=t.imgName.split(".").pop()&&"wmv"!=t.imgName.split(".").pop()&&"WMV"!=t.imgName.split(".").pop()&&"mov"!=t.imgName.split(".").pop()&&"MOV"!=t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","mp4"==t.imgName.split(".").pop()||"MP4"==t.imgName.split(".").pop()||"3gp"==t.imgName.split(".").pop()||"3GP"==t.imgName.split(".").pop()||"avi"==t.imgName.split(".").pop()||"AVI"==t.imgName.split(".").pop()||"wmv"==t.imgName.split(".").pop()||"WMV"==t.imgName.split(".").pop()||"mov"==t.imgName.split(".").pop()||"MOV"==t.imgName.split(".").pop())}}function $t(a,o){if(1&a&&(e.TgZ(0,"div",117)(1,"div",118)(2,"div"),e.YNc(3,jt,2,1,"p",119),e.TgZ(4,"div",110),e.YNc(5,Vt,5,3,"span",111),e.qZA()()()()),2&a){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf","1"==t.isShow),e.xp6(2),e.Q6J("ngForOf",t.links)}}function Wt(a,o){if(1&a&&(e.TgZ(0,"div",103),e.YNc(1,$t,6,2,"div",116),e.qZA()),2&a){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","1"==t.isShow||"1"==t.isShowLink)}}function Xt(a,o){1&a&&(e.TgZ(0,"span",132),e._uU(1,"Message Should Not Be Blank!"),e.qZA())}function Kt(a,o){if(1&a){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"form",121,122),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.MAs(3);return e.oxw(4).onSubmitComment(s)}),e._UZ(4,"app-cvfast"),e.YNc(5,Xt,2,0,"span",123),e.TgZ(6,"div",14)(7,"div",124),e._UZ(8,"input",125)(9,"input",126)(10,"input",127)(11,"input",128)(12,"input",129)(13,"input",130),e.TgZ(14,"button",131),e._uU(15,"Comment"),e.qZA()()()()(),e.BQk()}if(2&a){const t=e.oxw(),i=t.$implicit,s=t.index,l=e.oxw(3);e.xp6(5),e.Q6J("ngIf",1==l.setMessageRpValue),e.xp6(3),e.s9C("ngModel",i.caseId),e.xp6(1),e.s9C("ngModel",i.patientId),e.xp6(1),e.s9C("ngModel",i.patientName),e.xp6(1),e.s9C("ngModel",i.messageId),e.xp6(1),e.s9C("ngModel",i.messageReferenceId),e.xp6(1),e.s9C("ngModel",s)}}function ea(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",93)(1,"div",94)(2,"div",95),e.YNc(3,Jt,1,1,"img",96),e.YNc(4,Yt,1,1,"img",97),e._uU(5),e.qZA()(),e.TgZ(6,"div",98)(7,"div",14)(8,"div",99)(9,"span",100),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"div",60)(13,"a",101),e.NdJ("click",function(){const l=e.CHM(t).index;return e.oxw(3).replyToggle(l)}),e.TgZ(14,"span",102),e._uU(15," reply "),e.qZA()()()()(),e.TgZ(16,"div",103)(17,"div",104)(18,"p",105),e._uU(19),e.qZA(),e.YNc(20,Qt,2,1,"div",106),e.qZA()(),e.YNc(21,Wt,2,1,"div",107),e.YNc(22,Kt,16,7,"ng-container",27),e.qZA()}if(2&a){const t=o.$implicit,i=o.index,s=e.oxw(3);e.xp6(3),e.Q6J("ngIf",1==s.caseImage),e.xp6(1),e.Q6J("ngIf",0==s.caseImage),e.xp6(1),e.hij(" ",t.patientName," "),e.xp6(5),e.Oqu(e.xi3(11,8,t.messagedate,"medium")),e.xp6(9),e.hij(" ",t.messagetext," "),e.xp6(1),e.Q6J("ngIf",t.messageimg),e.xp6(1),e.Q6J("ngForOf",t.messagecomments),e.xp6(1),e.Q6J("ngIf",s.showComment==i)}}function ta(a,o){if(1&a&&(e.TgZ(0,"div",52),e.YNc(1,ea,23,11,"div",92),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.messageAry)}}function aa(a,o){1&a&&(e.TgZ(0,"span",132),e._uU(1,"Message Should Not Be Blank!"),e.qZA())}function ia(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",133)(1,"form",121,134),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.MAs(2);return e.oxw(2).onSubmitMessage(s)}),e._UZ(3,"app-cvfast"),e.YNc(4,aa,2,0,"span",123),e.TgZ(5,"div",14)(6,"div",124),e._UZ(7,"input",135)(8,"input",136)(9,"input",137)(10,"input",138),e.TgZ(11,"button",131),e._uU(12,"Add Message"),e.qZA()()()()()}if(2&a){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",1==t.setMessageValue),e.xp6(3),e.s9C("ngModel",t.detailsdata.caseId),e.xp6(1),e.s9C("ngModel",t.detailsdata.patientId),e.xp6(1),e.s9C("ngModel",t.detailsdata.patientName),e.xp6(1),e.s9C("ngModel",t.tabledata.referralId)}}function sa(a,o){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,ta,2,1,"div",90),e.YNc(2,ia,13,5,"div",91),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.messageAry),e.xp6(1),e.Q6J("ngIf",t.detailsdata)}}function na(a,o){1&a&&(e.TgZ(0,"span",139),e._uU(1," Due date should be greater than to start date"),e.qZA())}function la(a,o){if(1&a&&(e.TgZ(0,"div",140),e._UZ(1,"input",141)(2,"input",142)(3,"input",143)(4,"input",135)(5,"input",136)(6,"input",137),e.TgZ(7,"button",144),e._uU(8,"Close"),e.qZA(),e.TgZ(9,"button",145),e._uU(10,"Apply"),e.qZA()()),2&a){const t=e.oxw();e.xp6(1),e.s9C("ngModel",t.tabledata.referralId),e.xp6(1),e.s9C("ngModel",t.tabledata.startdate),e.xp6(1),e.s9C("ngModel",t.tabledata.presentStatus),e.xp6(1),e.s9C("ngModel",t.detailsdata.caseId),e.xp6(1),e.s9C("ngModel",t.detailsdata.patientId),e.xp6(1),e.s9C("ngModel",t.detailsdata.patientName)}}let oa=(()=>{class a{constructor(t,i,s,l,d,r,p){this.location=t,this.dataService=i,this.router=s,this.utility=l,this.usr=d,this.utilitydev=r,this.route=p,this.isLoadingData=!0,this.show=!1,this.show1=!1,this.id="tab1",this.shimmer=Array,this.dtOptions={},this.module="patient",this.cvfastText=!1,this.cvfastLinks=!1,this.attachmentFiles=[],this.jsonObj={referralId:"",caseId:"",patientId:"",title:"",toothguide:{},enddate:0,presentStatus:0,members:0},this.jsonObjmsg={patientId:"",caseId:"",patientName:"",message:{},comments:[{}],messageType:"0"},this.descriptionObj={links:Array(),text:""},this.minDate=new Date,this.isvalidDate=!1,this.cvfastMsgText=!1,this.cvfastMsgLinks=!1,this.setMessageValue=!1,this.setMessageRpValue=!1,this.messageArray=[],this.messageDataArray=[],this.messageAry=[],this.Img="assets/images/users.png",this.caseImage=!1,this.referalmembersName="",this.referralId=this.route.snapshot.paramMap.get("referralId")}tabContent(t){this.id=t,"tab1"==this.id&&setTimeout(()=>{this.toothData&&this.orders.setToothGuide(this.toothData)},1e3),sessionStorage.setItem("referralTabActive",t)}replyToggle(t){this.setMessageRpValue=!1,this.showComment=t}back(){this.location.back()}ngOnInit(){this.userDetails=this.usr.getUserDetails(!1),this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}},J('a[data-bs-toggle="tab"]').on("click",function(t){J(t.target).attr("href"),J(J.fn.dataTable.tables(!0)).DataTable().columns.adjust().draw()}),this.getReferralDetails().then(t=>{let i=sessionStorage.getItem("referralTabActive");this.id=i||"tab1"},t=>{let i=sessionStorage.getItem("tabActive");this.id=i||"tab1"})}getReferralDetails(){return new Promise((t,i)=>{this.tabledata="";let s=this.usr.getUserDetails(!1),l=this.utility.apiData.userReferrals.ApiUrl,d=this.referralId;""!=d&&(l+="?referralId="+d),s&&this.dataService.getallData(l,!0).subscribe(r=>{r&&(this.tabledata=JSON.parse(r.toString()),this.toothData=this.tabledata.toothguide,this.getCaseDetails(this.tabledata.caseId),this.referaltitle=this.tabledata.title,this.referalmembers=this.tabledata.members,this.referalmilestoneId=this.tabledata.milestoneId,this.descriptionObj.text=this.tabledata.notes.text,""!=this.tabledata.notes.text&&"undefined"!=this.tabledata.notes.text&&null!=this.tabledata.notes.text&&(this.cvfastText=!0),this.descriptionObj.links=this.tabledata.notes.links,this.getuserdetailsall(this.referalmembers),this.getMessage(this.tabledata.caseId),this.setcvFast(this.tabledata.notes),"tab1"==this.id&&(this.isLoadingData=!1,this.orders.setToothGuide(this.toothData)),t(!0))},r=>(t(!0),404===r.status?n()("No referral found"):403===r.status?n()("You are unauthorized to access the data"):400===r.status?n()("Invalid data provided, please try again"):401===r.status?n()("You are unauthorized to access the page"):409===r.status?n()("Duplicate data entered"):405===r.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===r.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))})}getuserdetailsall(t){if(this.usr.getUserDetails(!1))for(var s=0;s<t.length;s++){let l=this.utility.apiData.userColleague.ApiUrl;""!=t&&(l+="?dentalId="+t[s]),this.dataService.getallData(l,!0).subscribe(d=>{if(d){let r=JSON.parse(d.toString()),p=r[0].accountfirstName+" "+r[0].accountlastName;this.referalmembersName+=this.referalmembersName?" , "+p:p}},d=>(n()("Unable to fetch data, please try again"),!1))}}setcvFast(t,i="task"){if("task"==i){if(this.attachmentFiles=Array(),JSON.stringify(t).length>2&&t.links.length>0){this.cvfastLinks=!0;for(var s=0;s<t.links.length;s++){let l=t.links[s];this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t.links[s]+"&module="+this.module+"&type=get",!0).subscribe(r=>{r&&this.attachmentFiles.push({imgName:l,ImageUrl:r})},r=>{404===r.status?n()("No referral found"):403===r.status?n()("You are unauthorized to access the data"):400===r.status?n()("Invalid data provided, please try again"):401===r.status?n()("You are unauthorized to access the page"):409===r.status?n()("Duplicate data entered"):405===r.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===r.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}}}else if(JSON.stringify(t).length>2&&t.length>0){for(s=0;s<t.length;s++)this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t[s].files[0].name+"&module="+this.module+"&type=get",!0).subscribe(p=>{p&&(this.casefilesArray[s-1].files[0].url=p)},p=>{404===p.status?n()("No referral found"):403===p.status?n()("You are unauthorized to access the data"):400===p.status?n()("Invalid data provided, please try again"):401===p.status?n()("You are unauthorized to access the page"):409===p.status?n()("Duplicate data entered"):405===p.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===p.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")});this.editdata=this.casefilesArray}}getCaseDetails(t){if(this.detailsdata="",this.usr.getUserDetails(!1)){let s=this.utility.apiData.userCases.ApiUrl;""!=t&&(s+="?caseId="+t),this.dataService.getallData(s,!0).subscribe(l=>{l&&(this.detailsdata=JSON.parse(l.toString()))},l=>(404===l.status?n()("No referral found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}searchText(t){var i=t.target.value;J("#dataTables").DataTable().search(i).draw()}onSubmitReferral(t){t.value.startdate>=Date.parse(t.value.enddate)?(this.isvalidDate=!0,n()("Due date should be greater than to start date")):this.isvalidDate=!1,t.invalid||1==this.isvalidDate?t.form.markAllAsTouched():this.onGetalldata(t.value)}onGetalldata(t){this.jsonObj.referralId=t.referralId,this.jsonObj.caseId=t.caseId,this.jsonObj.patientId=t.patientId,this.jsonObj.title=this.referaltitle,this.jsonObj.enddate=Date.parse(t.enddate),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.toothguide=this.orders.getToothGuide(),this.jsonObj.members=this.referalmembers,this.dataService.putData(this.utility.apiData.userReferrals.ApiUrl,JSON.stringify(this.jsonObj),!0).subscribe(i=>{i&&(i=JSON.parse(i.toString())),this.getReferralDetails(),n()("Referral Due Date updated successfully")},i=>{404===i.status?n()("No referral found"):403===i.status?n()("You are unauthorized to access the data"):400===i.status?n()("Invalid data provided, please try again"):401===i.status?n()("You are unauthorized to access the page"):409===i.status?n()("Duplicate data entered"):405===i.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===i.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}getMessage(t){if(this.usr.getUserDetails(!1)){let s=this.utility.apiData.userMessage.ApiUrl;""!=t&&(s+="?caseId="+t),s+="&messageType="+Number("4"),s+="&messageReferenceId="+this.referralId,this.dataService.getallData(s,!0).subscribe(d=>{if(d){this.messagedata=JSON.parse(d.toString()).reverse(),this.messagedata.sort((h,Z)=>h.dateUpdated>Z.dateUpdated?-1:1),this.messageDataArray=Array();let p=0;for(var r=0;r<this.messagedata.length;r++)JSON.stringify(this.messagedata[r].message).length>2?(this.messageDataArray.push({patientId:this.messagedata[r].patientId,messageId:this.messagedata[r].messageId,caseId:this.messagedata[r].caseId,patientName:this.messagedata[r].resourceOwner,messagetext:this.removeHTML(this.messagedata[r].message.text),messageimg:[],messagedate:this.messagedata[r].dateCreated,messagecomment:this.messagedata[r].comments,messageReferenceId:this.messagedata[r].messageReferenceId,messagecomments:this.messagedata[r].comments}),this.setcvFastComment(this.messagedata[r].comments,r),this.setcvFastMsg(this.messagedata[r].message,r),this.cvfastMsgText=!0,p++):(this.messageDataArray.push({patientId:this.messagedata[r].patientId,messageId:this.messagedata[r].messageId,caseId:this.messagedata[r].caseId,patientName:this.messagedata[r].resourceOwner,messagetext:"",messageimg:[],messagedate:this.messagedata[r].dateCreated,messageReferenceId:this.messagedata[r].messageReferenceId,messagecomment:this.messagedata[r].comments}),p++);p==this.messagedata.length&&(this.messageAry=this.messageDataArray,this.isLoadingData=!1)}},d=>(404===d.status?n()("No referral found"):403===d.status?n()("You are unauthorized to access the data"):400===d.status?n()("Invalid data provided, please try again"):401===d.status?n()("You are unauthorized to access the page"):409===d.status?n()("Duplicate data entered"):405===d.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===d.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}setcvFastComment(t,i){let s=Array();if(t.length>0){for(var l=0;l<t.length;l++)if(JSON.stringify(t[l]).length>2){let r=t[l],p=r.text,h=r.links,Z=Array();if(h.length>0)for(var d=0;d<h.length;d++){let C=h[d];this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+h[d]+"&module="+this.module+"&type=get",!0).subscribe(U=>{U&&Z.push({imgName:C,ImageUrl:U})},U=>{404===U.status?n()("No referral found"):403===U.status?n()("You are unauthorized to access the data"):400===U.status?n()("Invalid data provided, please try again"):401===U.status?n()("You are unauthorized to access the page"):409===U.status?n()("Duplicate data entered"):405===U.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===U.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}s.push(r.text?Z.length>0?{text:this.removeHTML(p),isShow:1,isShowLink:1,links:Z}:{text:this.removeHTML(p),isShow:1,isShowLink:0,links:Z}:Z.length>0?{text:this.removeHTML(p),isShow:0,isShowLink:1,links:Z}:{text:this.removeHTML(p),isShow:0,isShowLink:0,links:Z}),r.links&&""==r.text&&s.push({text:this.removeHTML(p),isShow:0,isShowLink:1,links:Z})}this.messageDataArray[i].messagecomments=s}}setcvFastMsg(t,i){let s=Array();if(JSON.stringify(t.links).length>2&&t.links.length>0){this.cvfastMsgLinks=!0;for(var l=0;l<t.links.length;l++){let d=t.links[l];this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t.links[l]+"&module="+this.module+"&type=get",!0).subscribe(p=>{p&&(s.push({imgName:d,ImageUrl:p}),t.links.length==l&&(this.messageDataArray[i].messageimg=s))},p=>{404===p.status?n()("No referral found"):403===p.status?n()("You are unauthorized to access the data"):400===p.status?n()("Invalid data provided, please try again"):401===p.status?n()("You are unauthorized to access the page"):409===p.status?n()("Duplicate data entered"):405===p.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===p.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}}}onSubmitComment(t){t.invalid?t.form.markAllAsTouched():(n()("Processing...please wait...",{buttons:[!1,!1],closeOnClickOutside:!1}),this.jsonObjmsg.caseId=t.value.CcaseId,this.jsonObjmsg.patientId=t.value.CpatientId,this.jsonObjmsg.patientName=t.value.CpatientName,this.jsonObjmsg.messageId=t.value.CmessageId,this.jsonObjmsg.comment=this.messageAry[t.value.Ccomments].messagecomment,this.jsonObjmsg.messageType="4",this.jsonObjmsg.messageReferenceId=t.value.CmessageReferenceId,this.cvfastval.processFiles(this.utility.apiData.userMessage.ApiUrl,this.jsonObjmsg,!0,"Comments added successfully","","put","","comments",1,"Comments already exists.").then(i=>{n().close(),this.sending=!1},i=>{n().close(),this.sending=!1}))}onSubmitMessage(t){t.invalid?t.form.markAllAsTouched():(n()("Processing...please wait...",{buttons:[!1,!1],closeOnClickOutside:!1}),this.jsonObjmsg.caseId=t.value.caseId,this.jsonObjmsg.patientId=t.value.patientId,this.jsonObjmsg.patientName=t.value.patientName,this.jsonObjmsg.message=this.cvfastval.returnCvfast(),this.jsonObjmsg.messageType="4",this.jsonObjmsg.messageReferenceId=t.value.messageReferenceId,this.cvfastval.processFiles(this.utility.apiData.userMessage.ApiUrl,this.jsonObjmsg,!0,"Message added successfully","","post","","message",1,"Message already exists.").then(i=>{n().close(),this.sending=!1},i=>{n().close(),this.sending=!1}),this.getMessage(this.tabledata.caseId))}video(){var t;null===(t=this.videoplayer)||void 0===t||t.nativeElement.play()}removeHTML(t){if(""!=t&&"undefined"!=t&&null!=t){var i=document.createElement("DIV");return i.innerHTML=t,i.textContent||i.innerText||""}return""}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v.Ye),e.Y36(b.T),e.Y36(T.F0),e.Y36(c.t),e.Y36(f.f),e.Y36(k.F),e.Y36(T.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-referral-details"]],viewQuery:function(t,i){if(1&t&&(e.Gf(G.x,5),e.Gf(O,5),e.Gf(At,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.cvfastval=s.first),e.iGM(s=e.CRH())&&(i.orders=s.first),e.iGM(s=e.CRH())&&(i.videoplayer=s.first)}},decls:61,vars:14,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/referrals/referral-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],["class","col-md-6",4,"ngIf"],[1,"col-md-6","text-end"],["class","mt-3",4,"ngIf"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","bg-white"],[1,"row"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"col-md-5"],[1,"panel","panel-primary","mt-3"],[1,"tab-menu-heading"],[1,"tabs-menu"],[1,"nav","panel-tabs"],["href","javascript:void(0);",1,"me-1",3,"click"],[1,"avatar-list","justify-content-end","mt-2","my-1","ms-2"],[1,"avatar-icon","my-1","ms-2",2,"background-color","#FFF"],[4,"ngIf"],["id","referralForm",3,"ngSubmit"],["referralForm","ngForm"],["id","updateDate","tabindex","-1","aria-labelledby","updateDateLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","updateDateLabel",1,"modal-title","body1"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","gy-3"],[1,"form-label","body2","text-dark"],["type","date","name","enddate","id","enddate","ngModel","","required","",1,"form-control",3,"min"],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],["class","modal-footer",4,"ngIf"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"mt-3"],[1,"mt-5","w-100"],["style","margin-top: 1.5em;display: block;transition: all 1s;","class","vh-100",3,"width","height","margin",4,"ngFor","ngForOf"],[1,"vh-100",2,"margin-top","1.5em","display","block","transition","all 1s",3,"width","height","margin"],[1,"card-body"],[1,"row","mt-2"],[1,"col-md-8"],[1,"mb-3","row"],["for","staticEmail",1,"col-sm-3","col-form-label"],[1,"col-sm-8"],["type","text","aria-label","readonly input example","readonly","",1,"form-control",3,"value"],["class","col-sm-8",4,"ngIf"],[1,"col-md-2"],[1,"form-label","body2","text-gray"],["class","mb-4",4,"ngIf"],["class","mb-3 row",4,"ngIf"],[1,"col-sm-2","col-form-label"],[1,"col-sm-12"],["orders",""],[1,"col-md-12","my-2","mx-1"],["type","button","class","btn btn-default me-2","data-bs-toggle","modal","data-bs-target","#updateDate",4,"ngIf"],["href","javascript:void(0);",1,"btn","btn-secondary",3,"click"],[1,"mb-4"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],["for","staticEmail",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],[1,"card","bg-primary",2,"box-shadow","0px 5px 5px rgba(0, 0, 0, 0.1)"],[1,"text-light","body1"],["class","col-md-4 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-lg-4"],[1,"card","mb-3",2,"border","1px solid #D0D6DE"],[1,"card-body","d-flex","align-items-center"],["target","_tblank",3,"href",4,"ngIf"],["controls","","class","video","style","display:inline-block;vertical-align:middle;width:100%;height:100%;",3,"play",4,"ngIf"],["target","_tblank",3,"href"],[2,"display","inline-block","vertical-align","middle","width","100%","height","100%",3,"src"],["src","assets/images/file.png","width","50px",2,"display","inline-block","vertical-align","middle"],["controls","",1,"video",2,"display","inline-block","vertical-align","middle","width","100%","height","100%",3,"play"],["videoPlayer{{links.imgName}}",""],["type","video/mp4",3,"src"],["type","button","data-bs-toggle","modal","data-bs-target","#updateDate",1,"btn","btn-default","me-2"],[1,"bx","bx-calendar-alt",2,"font-size","large"],["class","card-body",4,"ngIf"],["class","card-footer","style","background-color: #F7F9FB;",4,"ngIf"],["class","row py-2 border-bottom px-2",4,"ngFor","ngForOf"],[1,"row","py-2","border-bottom","px-2"],[1,"col-md-4","col-lg-6","d-flex"],[1,"fw-bold",2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis"],["class","avatar avatar-sm rounded-circle me-2 ",3,"src",4,"ngIf"],["alt","","class","avatar avatar-sm rounded-circle me-2 ",3,"src",4,"ngIf"],[1,"col-md-8","col-lg-6","text-end"],[1,"col-md-10"],[1,"body2"],["tippy","Reply","placement","top","href","javascript:void(0);",3,"click"],[1,"material-icons","me-2",2,"color","#D0D6DE"],[1,"mt-2","col-md-12"],[1,"ms-5"],[1,"body2","mb-0"],["class","mt-2 mb-2",4,"ngIf"],["class","mt-2 col-md-12",4,"ngFor","ngForOf"],[1,"avatar","avatar-sm","rounded-circle","me-2",3,"src"],["alt","",1,"avatar","avatar-sm","rounded-circle","me-2",3,"src"],[1,"mt-2","mb-2"],[4,"ngFor","ngForOf"],["controls","","class","video","style","display:inline-block;vertical-align:middle;width:170px;height:150px;",3,"play",4,"ngIf"],[2,"display","inline-block","vertical-align","middle","width","170px","height","150px",3,"src"],["controls","",1,"video",2,"display","inline-block","vertical-align","middle","width","170px","height","150px",3,"play"],["videoPlayer{{imgUrl.imgName}}",""],["class","flex p-2",4,"ngIf"],[1,"flex","p-2"],[1,"flex-grow","p-2",2,"border-radius","6px","background-color","#F7F9FB","border","2px solid #EFF3F7"],["class","body2",4,"ngIf"],["videoPlayer{{link.imgName}}",""],["id","mainForm",3,"ngSubmit"],["CommentId","ngForm"],["style","color:red;font-weight:bold;",4,"ngIf"],[1,"col-md-12","mb-2"],["type","hidden","name","CcaseId","id","CcaseId",3,"ngModel"],["type","hidden","name","CpatientId","id","CpatientId",3,"ngModel"],["type","hidden","name","CpatientName","id","CpatientName",3,"ngModel"],["type","hidden","name","CmessageId","id","CmessageId",3,"ngModel"],["type","hidden","name","CmessageReferenceId","id","CmessageReferenceId",3,"ngModel"],["type","hidden","name","Ccomments","id","Ccomments",3,"ngModel"],["type","submit",1,"btn","btn-default","mt-1","me-2"],[2,"color","red","font-weight","bold"],[1,"card-footer",2,"background-color","#F7F9FB"],["MessageId","ngForm"],["type","hidden","name","caseId","id","caseId",3,"ngModel"],["type","hidden","name","patientId","id","patientId",3,"ngModel"],["type","hidden","name","patientName","id","patientName",3,"ngModel"],["type","hidden","name","messageReferenceId","id","messageReferenceId",3,"ngModel"],[2,"color","#F7517F","font-weight","bold"],[1,"modal-footer"],["type","hidden","name","referralId","id","referralId",1,"form-control",3,"ngModel"],["type","hidden","name","startdate","id","startdate",1,"form-control",3,"ngModel"],["type","hidden","name","presentStatus","id","presentStatus",1,"form-control",3,"ngModel"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Referral"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Referral Details "),e.qZA()(),e.TgZ(10,"div",6),e.YNc(11,yt,8,2,"div",7),e._UZ(12,"div",8),e.qZA(),e.YNc(13,Ut,3,1,"ng-container",9),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"h5",16),e._uU(21,"Referral Details"),e.qZA()(),e.TgZ(22,"div",17)(23,"a",18),e.NdJ("click",function(){return i.back()}),e._uU(24,"Back"),e.qZA()(),e.TgZ(25,"div",19)(26,"div",20)(27,"div",21)(28,"div",22)(29,"ul",23)(30,"li")(31,"a",24),e.NdJ("click",function(){return i.tabContent("tab1")}),e._uU(32,"Details"),e.qZA()(),e.TgZ(33,"li")(34,"a",24),e.NdJ("click",function(){return i.tabContent("tab2")}),e._uU(35,"Thread"),e.qZA()()()()()()(),e.TgZ(36,"div",17)(37,"div",25)(38,"span",26),e._uU(39,"\xa0"),e.qZA()()()()(),e.TgZ(40,"div"),e.YNc(41,Ft,41,7,"div",27),e.YNc(42,sa,3,2,"div",27),e.qZA()()()(),e.TgZ(43,"form",28,29),e.NdJ("ngSubmit",function(){e.CHM(s);const d=e.MAs(44);return i.onSubmitReferral(d)}),e.TgZ(45,"div",30)(46,"div",31)(47,"div",32)(48,"div",33)(49,"h5",34),e._uU(50,"Update Due Date"),e.qZA(),e._UZ(51,"button",35),e.qZA(),e.TgZ(52,"div",36)(53,"div",37)(54,"div",11)(55,"label",38),e._uU(56,"Choose Due Date"),e.qZA(),e._UZ(57,"input",39),e.ALo(58,"date"),e.YNc(59,na,2,0,"span",40),e.qZA()()(),e.YNc(60,la,11,6,"div",41),e.qZA()()()()}2&t&&(e.xp6(11),e.Q6J("ngIf",i.detailsdata),e.xp6(2),e.Q6J("ngIf",i.isLoadingData),e.xp6(18),e.ekj("active","tab1"===i.id),e.xp6(3),e.ekj("active","tab2"===i.id),e.xp6(7),e.Q6J("ngIf","tab1"===i.id),e.xp6(1),e.Q6J("ngIf","tab2"===i.id),e.xp6(15),e.s9C("min",e.xi3(58,11,i.minDate,"yyyy-MM-dd")),e.xp6(2),e.Q6J("ngIf",1==i.isvalidDate),e.xp6(1),e.Q6J("ngIf",i.detailsdata))},directives:[T.yS,v.O5,v.sg,_.w,O,x.$o,u._Y,u.JL,u.F,G.x,u.Fj,u.JJ,u.On,u.Q7],pipes:[v.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.form-control[_ngcontent-%COMP%]:disabled, .form-control[_ngcontent-%COMP%]:read-only{background-color:#eff3f7;opacity:1}.absolute[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%]{position:relative}.flex-grow[_ngcontent-%COMP%]{flex-grow:1}.w-1[_ngcontent-%COMP%]{width:.25rem}.h-full[_ngcontent-%COMP%]{height:100%}.bg-gray-200[_ngcontent-%COMP%]{background-color:#1991eb}.flex[_ngcontent-%COMP%]{display:flex}.nav.panel-tabs[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#f5f6fb;color:#0070d2;border:1px solid #0070D2;border-radius:50px}.tabs-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 20px!important}.nav.panel-tabs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#f5f6fb;border-radius:50px;color:#5d6a7e}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.cover-image[_ngcontent-%COMP%]{background-size:cover!important}.avatar-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.avatar[_ngcontent-%COMP%]{width:2rem;height:2rem;line-height:2rem;display:inline-block;position:relative;text-align:center;color:#fff;font-weight:500;font-size:.875rem;-webkit-user-select:none;user-select:none}"]}),a})();var ra=g(2221);function da(a,o){1&a&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"lottie-player",20),e.TgZ(3,"h6",21),e._uU(4,"Processing request....please wait, don't close this page"),e.qZA()()())}function pa(a,o){if(1&a&&(e.TgZ(0,"div",54)(1,"div",55)(2,"div",56),e._UZ(3,"img",57),e.TgZ(4,"div",58)(5,"div")(6,"h5",59),e._uU(7),e.qZA(),e.TgZ(8,"h6",60),e._uU(9),e.qZA()(),e.TgZ(10,"div")(11,"button",61),e._UZ(12,"i",62),e._uU(13," Add"),e.qZA()()()()()()),2&a){const t=o.item;e.xp6(3),e.Q6J("src",t.avatar,e.LSH),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.emailAddress)}}function ca(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"span",63),e._UZ(1,"img",64),e._uU(2),e.qZA(),e.TgZ(3,"span",65),e.NdJ("click",function(){const s=e.CHM(t);return s.clear(s.item)}),e._uU(4,"\xd7"),e.qZA()}if(2&a){const t=o.item;e.xp6(1),e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",t.name,"")}}function ua(a,o){1&a&&(e.TgZ(0,"span",66),e._uU(1,"Referal to should not be blank!"),e.qZA())}function ma(a,o){1&a&&(e.TgZ(0,"span",66),e._uU(1," Due date should be greater than to start date"),e.qZA())}function ga(a,o){1&a&&(e.TgZ(0,"span",66),e._uU(1," Tooth guide should not be blank!"),e.qZA())}function ha(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",67),e._UZ(1,"input",68)(2,"input",69)(3,"input",70)(4,"input",71),e.TgZ(5,"button",72),e._UZ(6,"i",73),e._uU(7," Update Referral "),e.qZA(),e.TgZ(8,"a",74),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).back()}),e._uU(9,"Cancel "),e.qZA()()}if(2&a){const t=e.oxw(2);e.xp6(1),e.s9C("ngModel",t.editedDate.referralId),e.xp6(1),e.s9C("ngModel",t.editedDate.caseId),e.xp6(1),e.s9C("ngModel",t.editedDate.patientId),e.xp6(1),e.s9C("ngModel",t.editedDate.milestoneId)}}const fa=function(){return{standalone:!0}};function _a(a,o){if(1&a){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",19)(2,"div",23)(3,"div",24)(4,"div",18)(5,"div",25)(6,"h5",26),e._uU(7,"Edit Referral"),e.qZA()(),e.TgZ(8,"div",27)(9,"a",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e._uU(10,"Back "),e.qZA()()()(),e.TgZ(11,"div",29)(12,"div",30)(13,"div",19)(14,"div",18)(15,"div",31)(16,"div",32)(17,"label",33),e._uU(18,"Case Title "),e.qZA(),e._UZ(19,"input",34),e.qZA()(),e.TgZ(20,"div",31)(21,"div",32)(22,"label",33),e._uU(23,"Referred To "),e.qZA(),e.TgZ(24,"div",35),e._UZ(25,"i",36),e.TgZ(26,"ng-select",37),e.NdJ("change",function(s){return e.CHM(t),e.oxw().selectEvents(s)})("ngModelChange",function(s){return e.CHM(t),e.oxw().selectedCity=s}),e.YNc(27,pa,14,3,"ng-template",38),e.YNc(28,ca,5,2,"ng-template",39),e.qZA()(),e.YNc(29,ua,2,0,"span",40),e.qZA()(),e.TgZ(30,"div",31)(31,"div",32)(32,"label",33),e._uU(33,"Title "),e.qZA(),e._UZ(34,"input",41),e.qZA()(),e.TgZ(35,"div",31)(36,"div",32)(37,"label",33),e._uU(38,"Start Date"),e.qZA(),e._UZ(39,"input",42),e.ALo(40,"date"),e.ALo(41,"date"),e.qZA()(),e.TgZ(42,"div",31)(43,"div",32)(44,"label",33),e._uU(45,"Due Date"),e.qZA(),e._UZ(46,"input",43),e.ALo(47,"date"),e.ALo(48,"date"),e.YNc(49,ma,2,0,"span",40),e.qZA()(),e.TgZ(50,"div",19)(51,"div",44)(52,"label",33),e._uU(53,"Notes"),e.qZA(),e._UZ(54,"app-cvfast"),e.qZA()(),e.TgZ(55,"div",45),e._UZ(56,"app-referral-guide",null,46),e.YNc(58,ga,2,0,"span",40),e.qZA(),e.TgZ(59,"div",7)(60,"div",44)(61,"label",33),e._uU(62,"Status"),e.qZA(),e.TgZ(63,"select",47)(64,"option",48),e._uU(65,"Select"),e.qZA(),e.TgZ(66,"option",49),e._uU(67,"Active"),e.qZA(),e.TgZ(68,"option",50),e._uU(69,"Inactive"),e.qZA(),e.TgZ(70,"option",51),e._uU(71,"Pending"),e.qZA(),e.TgZ(72,"option",52),e._uU(73,"Completed"),e.qZA()()()()()()()()()(),e.YNc(74,ha,10,4,"div",53),e.qZA()}if(2&a){const t=e.oxw();e.xp6(19),e.s9C("ngModel",t.casesName),e.xp6(7),e.Q6J("items",t.allMember)("multiple",!0)("ngModel",t.selectedCity)("ngModelOptions",e.DdM(30,fa))("hideSelected",!0),e.xp6(3),e.Q6J("ngIf",1==t.isvalidRefereTo),e.xp6(5),e.s9C("ngModel",t.editedDateTitle),e.xp6(5),e.s9C("ngModel",t.startDateEdit),e.s9C("ngModel",e.xi3(40,18,t.startDateEdit,"yyyy-MM-dd")),e.s9C("min",e.xi3(41,21,t.minDate,"yyyy-MM-dd")),e.xp6(7),e.s9C("ngModel",t.endDateEdit),e.s9C("ngModel",e.xi3(47,24,t.endDateEdit,"yyyy-MM-dd")),e.s9C("min",e.xi3(48,27,t.minDate,"yyyy-MM-dd")),e.xp6(3),e.Q6J("ngIf",1==t.isvalidDate),e.xp6(9),e.Q6J("ngIf",1==t.isvalidToothGuide),e.xp6(5),e.s9C("ngModel",t.presentStatusEdit),e.xp6(11),e.Q6J("ngIf",t.editedDate)}}let va=(()=>{class a{constructor(t,i,s,l,d,r,p,h){this.location=t,this.dataService=i,this.router=s,this.utility=l,this.utilitydev=d,this.usr=r,this.route=p,this.cd=h,this.allMember=[],this.allMemberEmail=[],this.allMemberName=[],this.selectedCityName=[],this.jsonObj={referralId:"",caseId:"",patientId:"",title:"",notes:{},toothguide:{},duedate:0,startdate:0,enddate:0,presentStatus:0},this.casesName="",this.patientName="",this.startDateEdit=0,this.endDateEdit=0,this.presentStatusEdit=0,this.toothData="",this.minDate=new Date,this.isvalidDate=!1,this.isvalidRefereTo=!1,this.isvalidToothGuide=!1,this.referralId=this.route.snapshot.paramMap.get("referralId")}back(){this.location.back()}ngOnInit(){this.getEditReferral()}getEditReferral(){let t=this.utility.apiData.userReferrals.ApiUrl,i=this.referralId;""!=i&&(t+="?referralId="+i),this.dataService.getallData(t,!0).subscribe(s=>{s&&(this.editedDate=JSON.parse(s.toString()),this.getAllMembers(this.editedDate.caseId,this.editedDate.members),this.toothData=this.editedDate.toothguide,console.log("calling tooth guide"),console.log(this.orders),console.log(this.toothData),this.orders.setToothGuide(this.toothData),this.editedDateTitle=(0,ra.decode)(this.editedDate.title),this.startDateEdit=this.editedDate.startdate,this.endDateEdit=this.editedDate.enddate,this.presentStatusEdit=this.editedDate.presentStatus,this.allMemberEmail=this.editedDate.members,this.getCaseDetails(this.editedDate.caseId),this.setcvFast())},s=>{404===s.status?n()("No referral found"):403===s.status?n()("You are unauthorized to access the data"):400===s.status?n()("Invalid data provided, please try again"):401===s.status?n()("You are unauthorized to access the page"):409===s.status?n()("Duplicate data entered"):405===s.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===s.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}onSubmitReferral(t){let i=JSON.stringify(this.orders.getToothGuide());if(this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.enddate),this.isvalidToothGuide=2==i.length,this.isvalidRefereTo=0==this.allMemberEmail.length,t.invalid||1==this.isvalidDate||1==this.isvalidToothGuide||1==this.isvalidRefereTo)return n()("Please enter values for the mandatory fields"),void t.form.markAllAsTouched();this.sending=!0,this.onGetalldata(t.value)}onGetalldata(t){this.jsonObj.referralId=t.referralId,this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,t.milestoneId&&(this.jsonObj.milestoneId=t.milestoneId),this.jsonObj.title=this.removeHTML(t.title),this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.enddate=Date.parse(t.enddate),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.toothguide=this.orders.getToothGuide(),this.jsonObj.members=this.allMemberEmail;const i=sessionStorage.getItem("backurl");this.cv.processFiles(this.utility.apiData.userReferrals.ApiUrl,this.jsonObj,!0,"Referral Updated successfully",i,"put","","notes","","Referal title already exists.").then(s=>{this.sending=!1},s=>{this.sending=!1})}getuserdetailsallEdit(t){if(this.usr.getUserDetails(!1)){let l=0;for(var s=0;s<t.length;s++){let d=this.utility.apiData.userColleague.ApiUrl;""!=t&&(d+="?dentalId="+t[s]),this.dataService.getallData(d,!0).subscribe(r=>{if(r){let p=JSON.parse(r.toString());this.selectedCityName.push(p[0].accountfirstName+" "+p[0].accountlastName),l++,t.length==l&&(this.selectedCity=this.selectedCityName)}},r=>(n()("Unable to fetch data, please try again"),!1))}}}getuserdetailsall(t,i,s){if(this.usr.getUserDetails(!1)){let d=this.utility.apiData.userColleague.ApiUrl;""!=t&&(d+="?emailAddress="+t),this.dataService.getallData(d,!0).subscribe(r=>{if(r){let p=JSON.parse(r.toString()),h="";h=null!=p.imageSrc?"https://dentallive-accounts.s3-us-west-2.amazonaws.com/"+p.imageSrc:"assets/images/users.png",this.allMember[i].name=p.accountfirstName+" "+p.accountlastName,this.allMember[i].emailAddress=p.emailAddress,this.allMember[i].avatar=h,this.allMember[i].memberid=p.dentalId}},r=>(404===r.status?n()("No workorder found"):403===r.status?n()("You are unauthorized to access the data"):400===r.status?n()("Invalid data provided, please try again"):401===r.status?n()("You are unauthorized to access the page"):409===r.status?n()("Duplicate data entered"):405===r.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===r.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}getAllMembers(t,i){if(this.usr.getUserDetails(!1)){let l=this.utility.apiData.userCaseInvites.ApiUrl;""!=t&&(l+="?caseId="+t),l+="&presentStatus=1",this.dataService.getallData(l,!0).subscribe(d=>{if(d){let p=JSON.parse(d.toString());p.sort((h,Z)=>h.dateUpdated>Z.dateUpdated?-1:1),this.allMember=Array();for(var r=0;r<p.length;r++)this.allMember.push({id:r,avatar:"",emailAddress:"",memberid:"",name:""}),this.getuserdetailsall(p[r].invitedUserMail,r,i),p.length==r+1&&this.getuserdetailsallEdit(i)}},d=>{404===d.status?n()("No workorder found"):403===d.status?n()("You are unauthorized to access the data"):400===d.status?n()("Invalid data provided, please try again"):401===d.status?n()("You are unauthorized to access the page"):409===d.status?n()("Duplicate data entered"):405===d.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===d.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}}selectEvents(t){this.allMemberEmail=Array();for(var i=0;i<t.length;i++)this.allMemberEmail.push(t[i].memberid),this.allMemberName.push(t[i].name),this.isvalidRefereTo=!1}setcvFast(){this.cv.setCvfast(this.editedDate.notes)}getCaseDetails(t){let i=this.utility.apiData.userCases.ApiUrl;""!=t&&(i+="?caseId="+t,this.dataService.getallData(i,!0).subscribe(s=>{s&&(this.tabledata=JSON.parse(s.toString()),this.casesName=this.tabledata.title,this.patientName=this.tabledata.patientName)},s=>{404===s.status?n()("No referral found"):403===s.status?n()("You are unauthorized to access the data"):400===s.status?n()("Invalid data provided, please try again"):401===s.status?n()("You are unauthorized to access the page"):409===s.status?n()("Duplicate data entered"):405===s.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===s.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")}))}removeHTML(t){if(""!=t&&"undefined"!=t&&null!=t){var i=document.createElement("DIV");return i.innerHTML=t,i.textContent||i.innerText||""}return""}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(v.Ye),e.Y36(b.T),e.Y36(T.F0),e.Y36(c.t),e.Y36(k.F),e.Y36(f.f),e.Y36(T.gz),e.Y36(e.sBO))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-referral-edit"]],viewQuery:function(t,i){if(1&t&&(e.Gf(G.x,5),e.Gf(O,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.cv=s.first),e.iGM(s=e.CRH())&&(i.orders=s.first)}},decls:24,vars:4,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/referrals/referral-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],["class","row",4,"ngIf"],["id","referralForm",3,"ngSubmit"],["referralForm","ngForm"],["class","row align-items-center pt-2",4,"ngIf"],[1,"row"],[1,"col-md-12"],["src","https://assets6.lottiefiles.com/packages/lf20_fhsx0ijl/lottie/collections-feature.json","background","transparent","speed","1","loop","","autoplay","",1,"mt-3","m-auto",2,"width","300px","height","300px"],[1,"text-center","mt-5"],[1,"row","align-items-center","pt-2"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],[1,"col-md-4"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["type","text","value","","placeholder","Enter Case Title here","readonly","","maxlength","50","name","casetitle","id","casetitle",1,"form-control",3,"ngModel"],[1,"search","search-md","search-filter","search-filter-sm"],[1,"bx","bx-search"],["bindLabel","name","bindValue","name",3,"items","multiple","ngModel","ngModelOptions","hideSelected","change","ngModelChange"],["ng-option-tmp",""],["ng-label-tmp",""],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],["type","text","placeholder","Enter Title here","name","title","id","title","required","",1,"form-control",3,"ngModel"],["type","date","name","startdate","id","startdate","ngModel","","required","",1,"form-control",3,"ngModel","min"],["type","date","name","enddate","id","enddate","ngModel","","required","",1,"form-control",3,"ngModel","min"],[1,"mb-3"],[1,"col-12"],["orders",""],["name","presentStatus","id","presentStatus","required","",1,"form-select",3,"ngModel"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["class","col-md-12 mt-3",4,"ngIf"],[1,"card","card-lists"],[1,"card-body","p-0"],[1,"d-flex","align-items-center"],[1,"rounded-circle","me-2","img-thumbnail","shadow-sm",2,"height","50px","width","50px",3,"src"],[1,"d-flex","align-items-center","justify-content-between","search-list-content"],["ngOptionHighlight","search",1,"card-title",2,"white-space","normal"],[1,"card-subtitle","text-muted",2,"white-space","normal","word-wrap","anywhere"],["type","button",1,"btn","btn-outline-primary","btn-sm","ms-2"],[1,"bx","bx-user-plus"],[1,"ng-value-label"],["width","20px","height","20px",1,"rounded-circle","me-1",3,"src"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[2,"color","#F7517F","font-weight","bold"],[1,"col-md-12","mt-3"],["type","hidden","name","referralId","id","referralId",1,"form-control",3,"ngModel"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","milestoneId","id","milestoneId",3,"ngModel"],["type","submit",1,"btn","btn-default","me-2"],[1,"bx","bx-send"],["href","javascript:void(0);",1,"btn","btn-secondary","me-2",3,"click"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Referral"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Edit Referral "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14),e.TgZ(15,"span",10),e._uU(16),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.YNc(20,da,5,0,"div",14),e.TgZ(21,"form",15,16),e.NdJ("ngSubmit",function(){e.CHM(s);const d=e.MAs(22);return i.onSubmitReferral(d)}),e.YNc(23,_a,75,31,"div",17),e.qZA()}2&t&&(e.xp6(14),e.hij("",i.patientName," "),e.xp6(2),e.Oqu(i.casesName),e.xp6(4),e.Q6J("ngIf",i.sending),e.xp6(3),e.Q6J("ngIf",!i.sending))},directives:[T.yS,v.O5,u._Y,u.JL,u.F,u.Fj,u.nD,u.JJ,u.On,A.w9,A.ir,A.mR,u.Q7,G.x,O,u.EJ,u.YN,u.Kr],pipes:[v.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.search-filter-sm[_ngcontent-%COMP%]   .search-list-content[_ngcontent-%COMP%]{width:calc(100% - 30px)}.search-filter-sm[_ngcontent-%COMP%]   .card-lists[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:14px}.search-filter-sm[_ngcontent-%COMP%]   .card-lists[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .search-filter-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:12px}.search-filter-sm[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:2px 8px}"]}),a})();var ba=g(5243);const Ta=[{path:"",component:q,children:[{path:"",redirectTo:"referrals",pathMatch:"full"},{path:"referral-list",component:E},{path:"referral-add/:caseId",component:Zt},{path:"referral-add-members",component:xt},{path:"referral-details/:referralId",component:oa},{path:"referral-edit/:referralId",component:va}]}];let Za=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[v.ez,T.Bz.forChild(Ta),N.T,A.A0,u.u5,u.UX,ba.PatientsModule,_.x,x.GV.forRoot({defaultVariation:"tooltip",variations:{tooltip:x.F7,popper:x.lz}})]]}),a})()},8372:(Y,w,g)=>{g.d(w,{b:()=>A});var v=g(4986),T=g(4482),N=g(5403);function A(e,q=v.z){return(0,T.e)((S,n)=>{let b=null,c=null,f=null;const _=()=>{if(b){b.unsubscribe(),b=null;const u=c;c=null,n.next(u)}};function x(){const u=f+e,F=q.now();if(F<u)return b=this.schedule(void 0,u-F),void n.add(b);_()}S.subscribe((0,N.x)(n,u=>{c=u,f=q.now(),b||(b=q.schedule(x,e),n.add(b))},()=>{_(),n.complete()},void 0,()=>{c=b=null}))})}},6406:(Y,w,g)=>{g.d(w,{Z:()=>S});var v=g(4408),T=g(727);const N={schedule(b){let c=requestAnimationFrame,f=cancelAnimationFrame;const{delegate:_}=N;_&&(c=_.requestAnimationFrame,f=_.cancelAnimationFrame);const x=c(u=>{f=void 0,b(u)});return new T.w0(()=>null==f?void 0:f(x))},requestAnimationFrame(...b){const{delegate:c}=N;return((null==c?void 0:c.requestAnimationFrame)||requestAnimationFrame)(...b)},cancelAnimationFrame(...b){const{delegate:c}=N;return((null==c?void 0:c.cancelAnimationFrame)||cancelAnimationFrame)(...b)},delegate:void 0};var e=g(7565);const S=new class q extends e.v{flush(c){this._active=!0;const f=this._scheduled;this._scheduled=void 0;const{actions:_}=this;let x;c=c||_.shift();do{if(x=c.execute(c.state,c.delay))break}while((c=_[0])&&c.id===f&&_.shift());if(this._active=!1,x){for(;(c=_[0])&&c.id===f&&_.shift();)c.unsubscribe();throw x}}}(class A extends v.o{constructor(c,f){super(c,f),this.scheduler=c,this.work=f}requestAsyncId(c,f,_=0){return null!==_&&_>0?super.requestAsyncId(c,f,_):(c.actions.push(this),c._scheduled||(c._scheduled=N.requestAnimationFrame(()=>c.flush(void 0))))}recycleAsyncId(c,f,_=0){if(null!=_&&_>0||null==_&&this.delay>0)return super.recycleAsyncId(c,f,_);c.actions.some(x=>x.id===f)||(N.cancelAnimationFrame(f),c._scheduled=void 0)}})},3101:(Y,w,g)=>{g.d(w,{E:()=>u});var v=g(4408);let N,T=1;const A={};function e(I){return I in A&&(delete A[I],!0)}const q={setImmediate(I){const m=T++;return A[m]=!0,N||(N=Promise.resolve()),N.then(()=>e(m)&&I()),m},clearImmediate(I){e(I)}},{setImmediate:n,clearImmediate:b}=q,c={setImmediate(...I){const{delegate:m}=c;return((null==m?void 0:m.setImmediate)||n)(...I)},clearImmediate(I){const{delegate:m}=c;return((null==m?void 0:m.clearImmediate)||b)(I)},delegate:void 0};var _=g(7565);const u=new class x extends _.v{flush(m){this._active=!0;const D=this._scheduled;this._scheduled=void 0;const{actions:y}=this;let M;m=m||y.shift();do{if(M=m.execute(m.state,m.delay))break}while((m=y[0])&&m.id===D&&y.shift());if(this._active=!1,M){for(;(m=y[0])&&m.id===D&&y.shift();)m.unsubscribe();throw M}}}(class f extends v.o{constructor(m,D){super(m,D),this.scheduler=m,this.work=D}requestAsyncId(m,D,y=0){return null!==y&&y>0?super.requestAsyncId(m,D,y):(m.actions.push(this),m._scheduled||(m._scheduled=c.setImmediate(m.flush.bind(m,void 0))))}recycleAsyncId(m,D,y=0){if(null!=y&&y>0||null==y&&this.delay>0)return super.recycleAsyncId(m,D,y);m.actions.some(M=>M.id===D)||(c.clearImmediate(D),m._scheduled=void 0)}})}}]);