"use strict";(self.webpackChunkDentalLive_dev=self.webpackChunkDentalLive_dev||[]).push([[105],{4105:(Nt,I,h)=>{h.r(I),h.d(I,{MilestonesModule:()=>It});var c=h(9808),g=h(1879),C=h(5415),Z=h(4376),f=h(1282),e=h(5e3);let q=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-milestones"]],decls:1,vars:0,template:function(t,s){1&t&&e._UZ(0,"router-outlet")},directives:[g.lC],encapsulation:2}),i})();var k=h(1373),n=h.n(k),x=h(9114),A=h(2290),y=h(3762),U=h(9506),M=h(6270),m=h(2382);function O(i,d){1&i&&e._UZ(0,"ngx-shimmer-loading",47),2&i&&e.Q6J("width","100%")("height","50px")("margin","20px")}function S(i,d){if(1&i&&(e.ynx(0,44),e._UZ(1,"div",45),e.YNc(2,O,1,3,"ngx-shimmer-loading",46),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.shimmer(10).fill(1))}}function J(i,d){1&i&&(e.TgZ(0,"span",72),e._uU(1,"Active"),e.qZA())}function Y(i,d){1&i&&(e.TgZ(0,"span",73),e._uU(1,"Inactive"),e.qZA())}function j(i,d){1&i&&(e.TgZ(0,"span",73),e._uU(1,"Pending"),e.qZA())}function F(i,d){1&i&&(e.TgZ(0,"span",74),e._uU(1,"Completed"),e.qZA())}function L(i,d){if(1&i&&(e.TgZ(0,"a",75)(1,"i",76),e._uU(2,"edit"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.MGl("routerLink","/milestones/milestone-edit/",t.milestoneId,"")}}function E(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"a",77),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(3).deletemilestone(a.milestoneId)}),e.TgZ(1,"i",78),e._uU(2,"close"),e.qZA()()}}function P(i,d){if(1&i&&(e.TgZ(0,"tr")(1,"td",57)(2,"div",58)(3,"span",59),e._uU(4),e.qZA(),e.TgZ(5,"div",60)(6,"span",61),e._uU(7),e.qZA()()()(),e.TgZ(8,"td")(9,"span",54),e._uU(10),e.qZA()(),e.TgZ(11,"td")(12,"div")(13,"span",62),e._uU(14),e.qZA(),e.YNc(15,J,2,0,"span",63),e.YNc(16,Y,2,0,"span",64),e.YNc(17,j,2,0,"span",64),e.YNc(18,F,2,0,"span",65),e.TgZ(19,"small",66),e._uU(20),e.ALo(21,"date"),e.qZA()()(),e.TgZ(22,"td")(23,"span",54),e._uU(24),e.ALo(25,"date"),e.qZA()(),e.TgZ(26,"td")(27,"div",67),e.YNc(28,L,3,1,"a",68),e.TgZ(29,"a",69)(30,"i",70),e._uU(31," visibility "),e.qZA()(),e.YNc(32,E,3,0,"a",71),e.qZA()()()),2&i){const t=d.$implicit,s=e.oxw(3);e.xp6(4),e.Oqu(t.resourceOwner.charAt(0)),e.xp6(3),e.Oqu(t.resourceOwner),e.xp6(3),e.Oqu(t.title),e.xp6(4),e.Oqu(t.dateCreated),e.xp6(1),e.Q6J("ngIf",1==t.presentStatus),e.xp6(1),e.Q6J("ngIf",2==t.presentStatus),e.xp6(1),e.Q6J("ngIf",3==t.presentStatus),e.xp6(1),e.Q6J("ngIf",4==t.presentStatus),e.xp6(2),e.hij("Created on : ",e.xi3(21,13,t.dateCreated,"mediumDate"),""),e.xp6(4),e.Oqu(e.xi3(25,16,t.duedate,"mediumDate")),e.xp6(4),e.Q6J("ngIf",s.userEmailAddress==t.resourceOwner),e.xp6(1),e.MGl("routerLink","/milestones/milestone-details/",t.milestoneId,""),e.xp6(3),e.Q6J("ngIf",s.userEmailAddress==t.resourceOwner)}}function G(i,d){if(1&i&&(e.TgZ(0,"table",51)(1,"thead",52)(2,"tr",53)(3,"th",54),e._uU(4,"OWNER"),e.qZA(),e.TgZ(5,"th",54),e._uU(6,"TITLE"),e.qZA(),e.TgZ(7,"th",54),e._uU(8,"STATUS"),e.qZA(),e.TgZ(9,"th",54),e._uU(10,"MILESTONE DUE DATE"),e.qZA(),e.TgZ(11,"th",55),e._uU(12,"ACTIONS"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,P,33,19,"tr",56),e.qZA()()),2&i){const t=e.oxw(2);e.Q6J("dtOptions",t.dtOptions),e.xp6(14),e.Q6J("ngForOf",t.tabledata)}}function Q(i,d){if(1&i&&(e.TgZ(0,"div",48)(1,"div",49),e.YNc(2,G,15,2,"table",50),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.tabledata)}}let H=(()=>{class i{constructor(t,s,a,l){this.dataService=t,this.router=s,this.utility=a,this.usr=l,this.isLoadingData=!0,this.shimmer=Array,this.dtOptions={},this.masterSelected=!1}ngOnInit(){sessionStorage.removeItem("milestoneTabActive"),sessionStorage.setItem("checkCase",""),sessionStorage.setItem("caseId",""),this.getallmilestone(),this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}searchText(t){var s=t.target.value;$("#dataTables").DataTable().search(s).draw()}getallmilestone(){sessionStorage.setItem("backurl","/milestones/milestones-list"),this.tabledata="";let t=this.usr.getUserDetails(!1);if(t){let s=this.utility.apiData.userMilestones.ApiUrl,a=sessionStorage.getItem("caseId");""!=a&&(s+="?caseId="+a),this.dataService.getallData(s,!0).subscribe(l=>{l&&(this.tabledata=JSON.parse(l.toString()),this.tabledata.sort((r,o)=>r.dateCreated>o.dateCreated?-1:1),this.userEmailAddress=t.emailAddress,this.isLoadingData=!1)},l=>(404===l.status?n()("No milestone found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}viewmilestone(t){this.router.navigate(["milestones/milestone-details/"+t])}editMilestone(t){this.router.navigate(["milestones/milestone-edit/"+t])}deletemilestone(t){this.dataService.deleteDataRecord(this.utility.apiData.userMilestones.ApiUrl,t,"milestoneId").subscribe(a=>{n()("Milestones deleted successfully"),this.getallmilestone()},a=>(404===a.status?n()("No milestone found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}onSubmit(t){this.tabledata="";let s=this.usr.getUserDetails(!1),a=this.utility.apiData.userMilestones.ApiUrl;this.isLoadingData=!0,""!=t.value.title&&null!=t.value.title&&(a+="?title="+t.value.title),""!=t.value.dateFrom&&null!=t.value.dateFrom&&(a+=""!=t.value.title&&null!=t.value.title?"&dateFrom="+Date.parse(t.value.dateFrom):"?dateFrom="+Date.parse(t.value.dateFrom)),""!=t.value.dateTo&&null!=t.value.dateTo&&(a+=""!=t.value.dateFrom&&null!=t.value.dateFrom||""!=t.value.title&&null!=t.value.title?"&dateTo="+Date.parse(t.value.dateTo):"?dateTo="+Date.parse(t.value.dateTo)),this.dataService.getallData(a,!0).subscribe(l=>{l&&(this.tabledata=JSON.parse(l.toString()),this.tabledata.sort((r,o)=>r.dateCreated>o.dateCreated?-1:1),this.userEmailAddress=s.emailAddress,this.isLoadingData=!1,t.resetForm())},l=>(t.resetForm(),404===l.status?n()("No milestone found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.T),e.Y36(g.F0),e.Y36(A.t),e.Y36(y.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-milestones-list"]],decls:64,vars:2,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"col-md-6","text-end"],["routerLink","/milestones/milestone-add/0",1,"btn","btn-default","btn-lg"],[1,"bx","bx-plus-circle"],[1,"row","align-items-center"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"my-2"],[1,"body1","card-title","mb-0"],[1,"d-flex","align-items-center","flex-wrap"],["data-bs-toggle","modal","data-bs-target","#filterModal",1,"btn","filter-btn","me-2","my-2"],[1,"bx","bx-filter-alt"],[1,"d-none","d-sm-inline-block","ms-2"],[1,"search","search-md"],[1,"bx","bx-search"],["type","text","placeholder","Search",1,"form-control",3,"keyup"],["class","mt-3",4,"ngIf"],["class","card-body p-0 pb-3",4,"ngIf"],["id","filterModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","mainForm",3,"ngSubmit"],["f","ngForm"],[1,"modal-body"],[1,"row","gy-3"],[1,"search"],["type","text","ngModel","","name","title","id","title","placeholder","Search by Title",1,"form-control"],[1,"form-label","body2","text-dark"],["type","date","ngModel","","name","dateFrom","id","dateFrom",1,"form-control"],["type","date","ngModel","","name","dateTo","id","dateTo",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default"],[1,"mt-3"],[1,"mt-5","w-100"],["style","margin-top: 1.5em;display: block;transition: all 1s;","class","vh-100",3,"width","height","margin",4,"ngFor","ngForOf"],[1,"vh-100",2,"margin-top","1.5em","display","block","transition","all 1s",3,"width","height","margin"],[1,"card-body","p-0","pb-3"],[1,"table-responsive"],["class","table table-hover table-nowrap align-middle","datatable","","id","dataTables",3,"dtOptions",4,"ngIf"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light"],[2,"text-transform","uppercase"],[1,"body2"],["data-orderable","false",1,"body2"],[4,"ngFor","ngForOf"],["data-sort","data.dateCreated"],[1,"d-flex","align-items-center"],[1,"avatar-icon","my-2"],[1,"ps-2"],[1,"body2","d-block"],[1,"d-none"],["class","badge rounded-pill badge-info body2",4,"ngIf"],["class","badge rounded-pill badge-warning body2",4,"ngIf"],["class","badge rounded-pill badge-success body2",4,"ngIf"],[1,"text-muted","d-block"],[1,"d-flex"],["class","me-1","tippy","Edit","placement","top","title","Edit",3,"routerLink",4,"ngIf"],["tippy","View","placement","top","title","View",1,"me-1",3,"routerLink"],[1,"material-icons","fs-4","text-light-green"],["style","cursor: pointer;","class","me-1","tippy","Delete","placement","top","title","Delete",3,"click",4,"ngIf"],[1,"badge","rounded-pill","badge-info","body2"],[1,"badge","rounded-pill","badge-warning","body2"],[1,"badge","rounded-pill","badge-success","body2"],["tippy","Edit","placement","top","title","Edit",1,"me-1",3,"routerLink"],[1,"material-icons","text-bright-blue"],["tippy","Delete","placement","top","title","Delete",1,"me-1",2,"cursor","pointer",3,"click"],[1,"material-icons","fs-4","text-danger"]],template:function(t,s){if(1&t){const a=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6," Milestones "),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"h3"),e._uU(10,"Milestones"),e.qZA()(),e.TgZ(11,"div",7)(12,"a",8),e._UZ(13,"i",9),e._uU(14," Add Milestone"),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h5",16),e._uU(22,"List of Milestones"),e.qZA()(),e.TgZ(23,"div",17)(24,"button",18),e._UZ(25,"i",19),e.TgZ(26,"span",20),e._uU(27,"Filter"),e.qZA()(),e.TgZ(28,"div",21),e._UZ(29,"i",22),e.TgZ(30,"input",23),e.NdJ("keyup",function(r){return s.searchText(r)}),e.qZA()()()()(),e.YNc(31,S,3,1,"ng-container",24),e.YNc(32,Q,3,1,"div",25),e.qZA()()(),e.TgZ(33,"div",26)(34,"div",27)(35,"div",28)(36,"div",29)(37,"h5",30),e._uU(38,"Filter"),e.qZA(),e._UZ(39,"button",31),e.qZA(),e.TgZ(40,"form",32,33),e.NdJ("ngSubmit",function(){e.CHM(a);const r=e.MAs(41);return s.onSubmit(r)}),e.TgZ(42,"div",34)(43,"div",35)(44,"div",11)(45,"div",36),e._UZ(46,"i",22)(47,"input",37),e.qZA()(),e.TgZ(48,"div",11)(49,"label",38),e._uU(50,"Search by Date:"),e.qZA()(),e.TgZ(51,"div",6)(52,"label",38),e._uU(53,"From"),e.qZA(),e._UZ(54,"input",39),e.qZA(),e.TgZ(55,"div",6)(56,"label",38),e._uU(57,"To"),e.qZA(),e._UZ(58,"input",40),e.qZA()()(),e.TgZ(59,"div",41)(60,"button",42),e._uU(61,"Close"),e.qZA(),e.TgZ(62,"button",43),e._uU(63,"Apply"),e.qZA()()()()()()}2&t&&(e.xp6(31),e.Q6J("ngIf",s.isLoadingData),e.xp6(1),e.Q6J("ngIf",!s.isLoadingData))},directives:[g.yS,c.O5,c.sg,U.w,C.G,M.$o,m._Y,m.JL,m.F,m.Fj,m.JJ,m.On],pipes:[c.uU],styles:[""]}),i})();var b=h(5436);const z=["videoPlayer"];function V(i,d){1&i&&e._UZ(0,"ngx-shimmer-loading",36),2&i&&e.Q6J("width","100%")("height","50px")("margin","20px")}function R(i,d){if(1&i&&(e.ynx(0,33),e._UZ(1,"div",34),e.YNc(2,V,1,3,"ngx-shimmer-loading",35),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.shimmer(10).fill(1))}}function B(i,d){if(1&i&&(e.TgZ(0,"p",66),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.removeHTML(t.tabledata.description.text)," ")}}function W(i,d){1&i&&e._UZ(0,"p",66)}function X(i,d){if(1&i&&(e.TgZ(0,"div",42)(1,"label",52),e._uU(2,"Notes"),e.qZA(),e.TgZ(3,"div",60)(4,"div",61)(5,"div",39),e.YNc(6,B,2,1,"p",62),e.YNc(7,W,1,0,"ng-template",null,63,e.W1O),e.qZA()(),e.TgZ(9,"div",64)(10,"span",65),e._uU(11),e.ALo(12,"date"),e.qZA()()()()),2&i){const t=e.MAs(8),s=e.oxw(2);e.xp6(6),e.Q6J("ngIf",s.tabledata.description)("ngIfElse",t),e.xp6(5),e.hij("",e.xi3(12,3,s.tabledata.dateCreated,"mediumDate")," ")}}function K(i,d){if(1&i&&(e.TgZ(0,"a",75),e._UZ(1,"img",76),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(1),e.s9C("src",t.ImageUrl,e.LSH)}}function ee(i,d){if(1&i&&(e.TgZ(0,"a",75),e._UZ(1,"img",77),e._uU(2),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(2),e.Oqu(t.imgName)}}function te(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"video",78,79),e.NdJ("play",function(){return e.CHM(t),e.oxw(4).video()}),e._UZ(2,"source",80),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.s9C("src",t.ImageUrl,e.LSH)}}function ae(i,d){if(1&i&&(e.TgZ(0,"div",70)(1,"div",71)(2,"div",72),e._uU(3," \xa0"),e.YNc(4,K,2,2,"a",73),e.YNc(5,ee,3,2,"a",73),e.YNc(6,te,3,1,"video",74),e.qZA()()()),2&i){const t=d.$implicit;e.xp6(4),e.Q6J("ngIf","png"==t.imgName.split(".").pop()||"jpg"==t.imgName.split(".").pop()||"jpeg"==t.imgName.split(".").pop()||"gif"==t.imgName.split(".").pop()||"PNG"==t.imgName.split(".").pop()||"JPG"==t.imgName.split(".").pop()||"JPEG"==t.imgName.split(".").pop()||"GIF"==t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","png"!=t.imgName.split(".").pop()&&"jpg"!=t.imgName.split(".").pop()&&"jpeg"!=t.imgName.split(".").pop()&&"gif"!=t.imgName.split(".").pop()&&"PNG"!=t.imgName.split(".").pop()&&"JPG"!=t.imgName.split(".").pop()&&"JPEG"!=t.imgName.split(".").pop()&&"GIF"!=t.imgName.split(".").pop()&&"mp4"!=t.imgName.split(".").pop()&&"MP4"!=t.imgName.split(".").pop()&&"3gp"!=t.imgName.split(".").pop()&&"3GP"!=t.imgName.split(".").pop()&&"avi"!=t.imgName.split(".").pop()&&"AVI"!=t.imgName.split(".").pop()&&"wmv"!=t.imgName.split(".").pop()&&"WMV"!=t.imgName.split(".").pop()&&"mov"!=t.imgName.split(".").pop()&&"MOV"!=t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","mp4"==t.imgName.split(".").pop()||"MP4"==t.imgName.split(".").pop()||"3gp"==t.imgName.split(".").pop()||"3GP"==t.imgName.split(".").pop()||"avi"==t.imgName.split(".").pop()||"AVI"==t.imgName.split(".").pop()||"wmv"==t.imgName.split(".").pop()||"WMV"==t.imgName.split(".").pop()||"mov"==t.imgName.split(".").pop()||"MOV"==t.imgName.split(".").pop())}}function ie(i,d){if(1&i&&(e.TgZ(0,"div",67)(1,"div",64)(2,"label",68),e._uU(3,"Assets : "),e.qZA(),e.TgZ(4,"div",19),e.YNc(5,ae,7,3,"div",69),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.attachmentFiles)}}function se(i,d){if(1&i&&(e.TgZ(0,"div",81),e._UZ(1,"input",82)(2,"input",83)(3,"input",84)(4,"input",85)(5,"input",86)(6,"input",87)(7,"input",88)(8,"input",89),e.TgZ(9,"button",90),e._UZ(10,"i",91),e._uU(11," Save "),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.s9C("ngModel",t.tabledata.caseId),e.xp6(1),e.s9C("ngModel",t.tabledata.patientId),e.xp6(1),e.s9C("ngModel",t.tabledata.patientName),e.xp6(1),e.s9C("ngModel",t.tabledata.milestoneId),e.xp6(1),e.s9C("ngModel",t.tabledata.reminder),e.xp6(1),e.s9C("ngModel",t.tabledata.duedate),e.xp6(1),e.s9C("ngModel",t.tabledata.startdate),e.xp6(1),e.s9C("ngModel",t.tabledata.title)}}function ne(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",37,38),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(2);return e.oxw().onSubmitMilestone(a)}),e.TgZ(3,"div",39)(4,"div",40)(5,"div",16)(6,"div",19)(7,"div",41)(8,"div",42)(9,"label",43),e._uU(10,"Owner"),e.qZA(),e.TgZ(11,"div",44),e._UZ(12,"input",45),e.qZA()()(),e.TgZ(13,"div",41)(14,"div",42)(15,"label",43),e._uU(16,"Title"),e.qZA(),e.TgZ(17,"div",44),e._UZ(18,"input",45),e.qZA()()(),e.TgZ(19,"div",46)(20,"div",47)(21,"label",48),e._uU(22,"Due Date"),e.qZA(),e._UZ(23,"input",49),e.ALo(24,"date"),e.qZA()(),e.TgZ(25,"div",46)(26,"div",47)(27,"label",48),e._uU(28,"Updated Date"),e.qZA(),e._UZ(29,"input",49),e.ALo(30,"date"),e.qZA()(),e.TgZ(31,"div",16),e.YNc(32,X,13,6,"div",50),e.qZA(),e.TgZ(33,"div",16),e.YNc(34,ie,6,1,"div",51),e.qZA(),e.TgZ(35,"div",16)(36,"div",42)(37,"label",52),e._uU(38,"Update Status "),e.qZA(),e.TgZ(39,"div",53)(40,"select",54)(41,"option",55),e._uU(42,"Active"),e.qZA(),e.TgZ(43,"option",56),e._uU(44,"Inactive"),e.qZA(),e.TgZ(45,"option",57),e._uU(46,"Pending"),e.qZA(),e.TgZ(47,"option",58),e._uU(48,"Completed"),e.qZA()()()()()()()(),e.TgZ(49,"div",19),e.YNc(50,se,12,8,"div",59),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(12),e.s9C("value",t.tabledata.patientName),e.xp6(6),e.s9C("value",t.tabledata.title),e.xp6(5),e.s9C("value",e.xi3(24,8,t.tabledata.duedate,"mediumDate")),e.xp6(6),e.s9C("value",e.xi3(30,11,t.tabledata.startdate,"mediumDate")),e.xp6(3),e.Q6J("ngIf",1==t.cvfastText),e.xp6(2),e.Q6J("ngIf",1==t.cvfastLinks),e.xp6(6),e.s9C("ngModel",t.tabledata.presentStatus),e.xp6(10),e.Q6J("ngIf",t.tabledata.resourceOwner==t.userDeatils.emailAddress)}}function le(i,d){if(1&i&&e._UZ(0,"img",119),2&i){const t=e.oxw(3);e.s9C("src",t.patientImg,e.LSH)}}function oe(i,d){if(1&i&&e._UZ(0,"img",120),2&i){const t=e.oxw(3);e.s9C("src",t.Img,e.LSH)}}function de(i,d){if(1&i&&(e.TgZ(0,"a",75),e._UZ(1,"img",122),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(1),e.s9C("src",t.ImageUrl,e.LSH)}}function re(i,d){if(1&i&&(e.TgZ(0,"a",75),e._UZ(1,"img",123),e._uU(2),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(2),e.Oqu(t.imgName)}}function pe(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"video",124,125),e.NdJ("play",function(){return e.CHM(t),e.oxw(4).video()}),e._UZ(2,"source",80),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.s9C("src",t.ImageUrl,e.LSH)}}function me(i,d){if(1&i&&(e.TgZ(0,"span"),e._uU(1," \xa0"),e.YNc(2,de,2,2,"a",73),e.YNc(3,re,3,2,"a",73),e.YNc(4,pe,3,1,"video",121),e.qZA()),2&i){const t=d.$implicit;e.xp6(2),e.Q6J("ngIf","png"==t.imgName.split(".").pop()||"jpg"==t.imgName.split(".").pop()||"jpeg"==t.imgName.split(".").pop()||"gif"==t.imgName.split(".").pop()||"PNG"==t.imgName.split(".").pop()||"JPG"==t.imgName.split(".").pop()||"JPEG"==t.imgName.split(".").pop()||"GIF"==t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","png"!=t.imgName.split(".").pop()&&"jpg"!=t.imgName.split(".").pop()&&"jpeg"!=t.imgName.split(".").pop()&&"gif"!=t.imgName.split(".").pop()&&"PNG"!=t.imgName.split(".").pop()&&"JPG"!=t.imgName.split(".").pop()&&"JPEG"!=t.imgName.split(".").pop()&&"GIF"!=t.imgName.split(".").pop()&&"mp4"!=t.imgName.split(".").pop()&&"MP4"!=t.imgName.split(".").pop()&&"3gp"!=t.imgName.split(".").pop()&&"3GP"!=t.imgName.split(".").pop()&&"avi"!=t.imgName.split(".").pop()&&"AVI"!=t.imgName.split(".").pop()&&"wmv"!=t.imgName.split(".").pop()&&"WMV"!=t.imgName.split(".").pop()&&"mov"!=t.imgName.split(".").pop()&&"MOV"!=t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","mp4"==t.imgName.split(".").pop()||"MP4"==t.imgName.split(".").pop()||"3gp"==t.imgName.split(".").pop()||"3GP"==t.imgName.split(".").pop()||"avi"==t.imgName.split(".").pop()||"AVI"==t.imgName.split(".").pop()||"wmv"==t.imgName.split(".").pop()||"WMV"==t.imgName.split(".").pop()||"mov"==t.imgName.split(".").pop()||"MOV"==t.imgName.split(".").pop())}}function ce(i,d){if(1&i&&(e.TgZ(0,"p",110),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.text)}}function ue(i,d){if(1&i&&(e.TgZ(0,"a",75),e._UZ(1,"img",122),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(1),e.s9C("src",t.ImageUrl,e.LSH)}}function ge(i,d){if(1&i&&(e.TgZ(0,"a",75),e._UZ(1,"img",77),e._uU(2),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(2),e.Oqu(t.imgName)}}function he(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"video",131,132),e.NdJ("play",function(){return e.CHM(t),e.oxw(6).video()}),e._UZ(2,"source",80),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.s9C("src",t.ImageUrl,e.LSH)}}function _e(i,d){if(1&i&&(e.TgZ(0,"span"),e._uU(1," \xa0"),e.YNc(2,ue,2,2,"a",73),e.YNc(3,ge,3,2,"a",73),e.YNc(4,he,3,1,"video",130),e.qZA()),2&i){const t=d.$implicit;e.xp6(2),e.Q6J("ngIf","png"==t.imgName.split(".").pop()||"jpg"==t.imgName.split(".").pop()||"jpeg"==t.imgName.split(".").pop()||"gif"==t.imgName.split(".").pop()||"PNG"==t.imgName.split(".").pop()||"JPG"==t.imgName.split(".").pop()||"JPEG"==t.imgName.split(".").pop()||"GIF"==t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","png"!=t.imgName.split(".").pop()&&"jpg"!=t.imgName.split(".").pop()&&"jpeg"!=t.imgName.split(".").pop()&&"gif"!=t.imgName.split(".").pop()&&"PNG"!=t.imgName.split(".").pop()&&"JPG"!=t.imgName.split(".").pop()&&"JPEG"!=t.imgName.split(".").pop()&&"GIF"!=t.imgName.split(".").pop()&&"mp4"!=t.imgName.split(".").pop()&&"MP4"!=t.imgName.split(".").pop()&&"3gp"!=t.imgName.split(".").pop()&&"3GP"!=t.imgName.split(".").pop()&&"avi"!=t.imgName.split(".").pop()&&"AVI"!=t.imgName.split(".").pop()&&"wmv"!=t.imgName.split(".").pop()&&"WMV"!=t.imgName.split(".").pop()&&"mov"!=t.imgName.split(".").pop()&&"MOV"!=t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","mp4"==t.imgName.split(".").pop()||"MP4"==t.imgName.split(".").pop()||"3gp"==t.imgName.split(".").pop()||"3GP"==t.imgName.split(".").pop()||"avi"==t.imgName.split(".").pop()||"AVI"==t.imgName.split(".").pop()||"wmv"==t.imgName.split(".").pop()||"WMV"==t.imgName.split(".").pop()||"mov"==t.imgName.split(".").pop()||"MOV"==t.imgName.split(".").pop())}}function fe(i,d){if(1&i&&(e.TgZ(0,"div",127)(1,"div",128)(2,"div"),e.YNc(3,ce,2,1,"p",129),e.TgZ(4,"div",116),e.YNc(5,_e,5,3,"span",117),e.qZA()()()()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngIf","1"==t.isShow),e.xp6(2),e.Q6J("ngForOf",t.links)}}function ve(i,d){if(1&i&&(e.TgZ(0,"div",113),e.YNc(1,fe,6,2,"div",126),e.qZA()),2&i){const t=d.$implicit;e.xp6(1),e.Q6J("ngIf","1"==t.isShow||"1"==t.isShowLink)}}function be(i,d){1&i&&(e.TgZ(0,"span",140),e._uU(1,"Message Should Not Be Blank!"),e.qZA())}function Ze(i,d){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",16)(2,"form",94,133),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(3);return e.oxw(3).onSubmitComment(a)}),e._UZ(4,"app-cvfast"),e.YNc(5,be,2,0,"span",96),e.TgZ(6,"div",19)(7,"div",97),e._UZ(8,"input",134)(9,"input",135)(10,"input",136)(11,"input",137)(12,"input",138)(13,"input",139),e.TgZ(14,"button",102),e._uU(15,"Comment"),e.qZA()()()()(),e.BQk()}if(2&i){const t=e.oxw(),s=t.$implicit,a=t.index,l=e.oxw(2);e.xp6(5),e.Q6J("ngIf",1==l.setMessageRpValue),e.xp6(3),e.s9C("ngModel",s.caseId),e.xp6(1),e.s9C("ngModel",s.patientId),e.xp6(1),e.s9C("ngModel",s.patientName),e.xp6(1),e.s9C("ngModel",s.messageId),e.xp6(1),e.s9C("ngModel",s.messageReferenceId),e.xp6(1),e.s9C("ngModel",a)}}function Te(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",103)(1,"div",104)(2,"div",105),e.YNc(3,le,1,1,"img",106),e.YNc(4,oe,1,1,"img",107),e._uU(5),e.qZA()(),e.TgZ(6,"div",108)(7,"div",19)(8,"div",109)(9,"span",110),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"div",46)(13,"a",111),e.NdJ("click",function(){const l=e.CHM(t).index;return e.oxw(2).replyToggle(l)}),e.TgZ(14,"span",112),e._uU(15," reply "),e.qZA()()()()(),e.TgZ(16,"div",113)(17,"div",114)(18,"p",115),e._uU(19),e.qZA(),e.TgZ(20,"div",116),e.YNc(21,me,5,3,"span",117),e.qZA()()(),e.YNc(22,ve,2,1,"div",118),e.YNc(23,Ze,16,7,"ng-container",32),e.qZA()}if(2&i){const t=d.$implicit,s=d.index,a=e.oxw(2);e.xp6(3),e.Q6J("ngIf",1==a.caseImage),e.xp6(1),e.Q6J("ngIf",0==a.caseImage),e.xp6(1),e.hij(" ",t.patientName," "),e.xp6(5),e.Oqu(e.xi3(11,8,t.messagedate,"medium")),e.xp6(9),e.hij(" ",t.messagetext," "),e.xp6(2),e.Q6J("ngForOf",t.messageimg),e.xp6(1),e.Q6J("ngForOf",t.messagecomments),e.xp6(1),e.Q6J("ngIf",a.showComment==s)}}function xe(i,d){1&i&&(e.TgZ(0,"span",140),e._uU(1,"Message Should Not Be Blank!"),e.qZA())}function Ae(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",39),e.YNc(2,Te,24,11,"div",92),e.qZA(),e.TgZ(3,"div",93)(4,"form",94,95),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(5);return e.oxw().onSubmitMessage(a)}),e._UZ(6,"app-cvfast"),e.YNc(7,xe,2,0,"span",96),e.TgZ(8,"div",19)(9,"div",97),e._UZ(10,"input",98)(11,"input",99)(12,"input",100)(13,"input",101),e.TgZ(14,"button",102),e._uU(15,"Add Message"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.messageAry),e.xp6(5),e.Q6J("ngIf",1==t.setMessageValue),e.xp6(3),e.s9C("ngModel",t.tabledata.caseId),e.xp6(1),e.s9C("ngModel",t.tabledata.patientId),e.xp6(1),e.s9C("ngModel",t.tabledata.patientName),e.xp6(1),e.s9C("ngModel",t.tabledata.milestoneId)}}function ye(i,d){1&i&&(e.TgZ(0,"span",177),e._uU(1,"Active"),e.qZA())}function Me(i,d){1&i&&(e.TgZ(0,"span",178),e._uU(1,"Inactive"),e.qZA())}function we(i,d){1&i&&(e.TgZ(0,"span",178),e._uU(1,"Pending"),e.qZA())}function De(i,d){1&i&&(e.TgZ(0,"span",179),e._uU(1,"Completed"),e.qZA())}function Ce(i,d){if(1&i&&(e.TgZ(0,"a",180)(1,"i",181),e._uU(2,"edit"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.MGl("routerLink","/referrals/referral-edit/",t.referralId,"")}}function Ue(i,d){if(1&i&&(e.TgZ(0,"a",180)(1,"i",181),e._uU(2,"edit"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.MGl("routerLink","/workorders/work-order-edit/",t.workorderId,"")}}function Ie(i,d){if(1&i&&(e.TgZ(0,"a",180)(1,"i",181),e._uU(2,"edit"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.MGl("routerLink","/milestones/general-task-edit/",t.taskId,"")}}function Ne(i,d){if(1&i&&(e.TgZ(0,"a",182)(1,"i",183),e._uU(2," visibility "),e.qZA()()),2&i){const t=e.oxw().$implicit;e.MGl("routerLink","/referrals/referral-details/",t.referralId,"")}}function qe(i,d){if(1&i&&(e.TgZ(0,"a",182)(1,"i",183),e._uU(2," visibility "),e.qZA()()),2&i){const t=e.oxw().$implicit;e.MGl("routerLink","/workorders/work-order-details/",t.workorderId,"")}}function ke(i,d){if(1&i&&(e.TgZ(0,"a",182)(1,"i",183),e._uU(2," visibility "),e.qZA()()),2&i){const t=e.oxw().$implicit;e.MGl("routerLink","/milestones/general-task-view/",t.taskId,"")}}function Oe(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"a",184),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw(3).deleteTask(a.taskId)}),e.TgZ(1,"i",185),e._uU(2,"close"),e.qZA()()}}function Se(i,d){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span",169),e._uU(3),e.qZA(),e.TgZ(4,"span",110),e._uU(5),e.qZA()(),e.TgZ(6,"td")(7,"span",110),e._uU(8),e.qZA()(),e.TgZ(9,"td")(10,"span",110),e._uU(11),e.ALo(12,"date"),e.qZA()(),e.TgZ(13,"td")(14,"span",110),e._uU(15),e.ALo(16,"date"),e.qZA()(),e.TgZ(17,"td")(18,"div"),e.YNc(19,ye,2,0,"span",170),e.YNc(20,Me,2,0,"span",171),e.YNc(21,we,2,0,"span",171),e.YNc(22,De,2,0,"span",172),e.qZA()(),e.TgZ(23,"td")(24,"span",110),e._uU(25),e.qZA()(),e.TgZ(26,"td")(27,"span",110),e._uU(28),e.qZA()(),e.TgZ(29,"td")(30,"div",173),e.YNc(31,Ce,3,1,"a",174),e.YNc(32,Ue,3,1,"a",174),e.YNc(33,Ie,3,1,"a",174),e.YNc(34,Ne,3,1,"a",175),e.YNc(35,qe,3,1,"a",175),e.YNc(36,ke,3,1,"a",175),e.YNc(37,Oe,3,0,"a",176),e.qZA()()()),2&i){const t=d.$implicit,s=d.index,a=e.oxw(3);e.xp6(3),e.Oqu(s),e.xp6(2),e.Oqu(t.title),e.xp6(3),e.Oqu(a.removeHTML(t.description)),e.xp6(3),e.Oqu(e.xi3(12,18,t.startdate,"MM/dd/yyyy")),e.xp6(4),e.Oqu(e.xi3(16,21,t.duedate,"MM/dd/yyyy hh:mm a")),e.xp6(4),e.Q6J("ngIf",1==t.presentStatus),e.xp6(1),e.Q6J("ngIf",2==t.presentStatus),e.xp6(1),e.Q6J("ngIf",3==t.presentStatus),e.xp6(1),e.Q6J("ngIf",4==t.presentStatus),e.xp6(3),e.Oqu(t.memberName),e.xp6(3),e.Oqu(t.taskType),e.xp6(3),e.Q6J("ngIf","Referral"==t.taskType&&t.resourceOwner==a.userDeatils.emailAddress),e.xp6(1),e.Q6J("ngIf","WorkOrder"==t.taskType&&t.resourceOwner==a.userDeatils.emailAddress),e.xp6(1),e.Q6J("ngIf","General"==t.taskType&&t.resourceOwner==a.userDeatils.emailAddress),e.xp6(1),e.Q6J("ngIf","Referral"==t.taskType),e.xp6(1),e.Q6J("ngIf","WorkOrder"==t.taskType),e.xp6(1),e.Q6J("ngIf","General"==t.taskType),e.xp6(1),e.Q6J("ngIf",t.resourceOwner==a.userDeatils.emailAddress&&"General"==t.taskType)}}function Je(i,d){1&i&&(e.TgZ(0,"tr")(1,"td",186),e._uU(2,"No data available in table"),e.qZA()())}function Ye(i,d){if(1&i&&(e.TgZ(0,"table",165)(1,"thead",166)(2,"tr",167)(3,"th",110),e._uU(4,"TITLE"),e.qZA(),e.TgZ(5,"th",110),e._uU(6,"DESCRIPTION"),e.qZA(),e.TgZ(7,"th",110),e._uU(8,"START DATE"),e.qZA(),e.TgZ(9,"th",110),e._uU(10,"DUE DATE & TIME"),e.qZA(),e.TgZ(11,"th",110),e._uU(12,"STATUS"),e.qZA(),e.TgZ(13,"th",110),e._uU(14,"MEMBER ASSIGNED"),e.qZA(),e.TgZ(15,"th",110),e._uU(16,"TASK TYPE"),e.qZA(),e.TgZ(17,"th",168),e._uU(18,"ACTIONS"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Se,38,24,"tr",117),e.YNc(21,Je,3,0,"tr",32),e.qZA()()),2&i){const t=e.oxw(2);e.Q6J("dtOptions",t.dtOptions),e.xp6(20),e.Q6J("ngForOf",t.taskdata),e.xp6(1),e.Q6J("ngIf",0==t.taskdata.length)}}function je(i,d){1&i&&(e.TgZ(0,"tr")(1,"td",186),e._uU(2,"No data available in table"),e.qZA()())}function Fe(i,d){if(1&i&&(e.TgZ(0,"table",165)(1,"thead",166)(2,"tr",167)(3,"th",110),e._uU(4,"TITLE"),e.qZA(),e.TgZ(5,"th",110),e._uU(6,"DESCRIPTION"),e.qZA(),e.TgZ(7,"th",110),e._uU(8,"START DATE"),e.qZA(),e.TgZ(9,"th",110),e._uU(10,"DUE DATE & TIME"),e.qZA(),e.TgZ(11,"th",110),e._uU(12,"STATUS"),e.qZA(),e.TgZ(13,"th",110),e._uU(14,"MEMBER ASSIGNED"),e.qZA(),e.TgZ(15,"th",110),e._uU(16,"TASK TYPE"),e.qZA(),e.TgZ(17,"th",168),e._uU(18,"ACTIONS"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,je,3,0,"tr",32),e.qZA()()),2&i){const t=e.oxw(2);e.Q6J("dtOptions",t.dtOptions),e.xp6(20),e.Q6J("ngIf",0==t.taskdata.length)}}function Le(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",141)(2,"div",142)(3,"div",143)(4,"h5",144),e._uU(5,"List of Tasks"),e.qZA()(),e.TgZ(6,"div",145)(7,"button",146),e._UZ(8,"i",147),e._uU(9," Add Task "),e.qZA(),e.TgZ(10,"div",148),e._UZ(11,"i",149),e.TgZ(12,"input",150),e.NdJ("keyup",function(a){return e.CHM(t),e.oxw().searchText(a)}),e.qZA()()()(),e.TgZ(13,"div",151),e.YNc(14,Ye,22,3,"table",152),e.YNc(15,Fe,21,2,"table",152),e.qZA()(),e.TgZ(16,"div",153)(17,"div",154)(18,"div",155)(19,"div",156)(20,"h5",157),e._uU(21,"Add Task"),e.qZA(),e._UZ(22,"button",158),e.qZA(),e.TgZ(23,"div",159)(24,"div",160)(25,"div",161)(26,"a",162),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.addWorkOrders(a.tabledata.milestoneId,a.tabledata.caseId)}),e._uU(27,"Add Work Order"),e.qZA()(),e.TgZ(28,"div",41)(29,"a",163),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.addReferal(a.tabledata.milestoneId,a.tabledata.caseId)}),e._uU(30,"Add Referral"),e.qZA()(),e.TgZ(31,"div",41)(32,"a",164),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.addGeneralTask(a.tabledata.milestoneId,a.tabledata.caseId)}),e._uU(33,"Add General Task"),e.qZA()()()()()()()()}if(2&i){const t=e.oxw();e.xp6(14),e.Q6J("ngIf",t.taskdata.length>0),e.xp6(1),e.Q6J("ngIf",0==t.taskdata.length)}}let Ee=(()=>{class i{constructor(t,s,a,l,r,o){this.location=t,this.dataService=s,this.router=a,this.utility=l,this.usr=r,this.route=o,this.isLoadingData=!0,this.show=!1,this.show1=!1,this.id="tab1",this.shimmer=Array,this.isCount=0,this.descriptionObj={links:Array(),text:""},this.jsonObj={title:"",description:{},startdate:0,duedate:0,presentStatus:0,reminder:0,milestoneId:"",caseId:"",patientId:"",patientName:""},this.jsonObjmsg={patientId:"",caseId:"",patientName:"",message:{},comments:[{}],messageType:"0"},this.module="patient",this.indexRow=0,this.taskdata=Array(),this.taskdataArray=Array(),this.cvfastText=!1,this.cvfastLinks=!1,this.cvfastMsgText=!1,this.cvfastMsgLinks=!1,this.setMessageValue=!1,this.setMessageRpValue=!1,this.attachmentFiles=[],this.messageArray=[],this.messageDataArray=[],this.messageAry=[],this.Img="assets/images/users.png",this.caseImage=!1,this.dtOptions={},this.masterSelected=!1,this.getmilestoneId=this.route.snapshot.paramMap.get("milestoneId")}tabContent(t){this.id=t,sessionStorage.setItem("milestoneTabActive",t)}replyToggle(t){this.setMessageRpValue=!1,this.showComment=t}back(){this.location.back()}ngOnInit(){this.userDeatils=this.usr.getUserDetails(!1),this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}},columnDefs:[{defaultContent:"-",targets:"_all"}]},this.getallmilestone(),this.getalltasks();let t=sessionStorage.getItem("milestoneTabActive");this.id=t||"tab1"}searchText(t){var s=t.target.value;$("#dataTables").DataTable().search(s).draw()}loadTooltip(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(a){return new bootstrap.Tooltip(a,{trigger:"hover"})})}addWorkOrders(t,s){sessionStorage.setItem("checkCase","1"),sessionStorage.setItem("checkmilestoneid",t),sessionStorage.setItem("caseId",s),this.router.navigate(["workorders/work-order-add/"+s])}addReferal(t,s){sessionStorage.setItem("checkCase","1"),sessionStorage.setItem("checkmilestoneidref",t),sessionStorage.setItem("caseId",s),this.router.navigate(["referrals/referral-add/"+s])}getallmilestone(){this.isLoadingData=!0,this.tabledata="";let t=this.usr.getUserDetails(!1),s=this.utility.apiData.userMilestones.ApiUrl,a=this.getmilestoneId;""!=a&&(s+="?milestoneId="+a),t&&this.dataService.getallData(s,!0).subscribe(l=>{l&&(this.tabledata=JSON.parse(l.toString()),this.descriptionObj.text=this.tabledata.description.text,this.descriptionObj.links=this.tabledata.description.links,this.setcvFast(this.tabledata.description),this.tabledata.description.text&&(this.cvfastText=!0),this.getMessage(this.tabledata.caseId),this.parmCaseId=this.tabledata.caseId,this.getCaseDetails())},l=>(404===l.status?n()("No milestone found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}addGeneralTask(t,s){sessionStorage.setItem("milestoneId",t),sessionStorage.setItem("caseId",s),this.router.navigate(["milestones/general-task-add"])}getalltasks(){let t=this.usr.getUserDetails(!1),s=this.utility.apiData.userTasks.ApiUrl,a=this.getmilestoneId;""!=a&&(s+="?milestoneId="+a),t&&this.dataService.getallData(s,!0).subscribe(l=>{if(l){let o=JSON.parse(l.toString());for(var r=0;r<o.length;r++)this.taskdataArray.push({id:this.indexRow,title:o[r].title,resourceOwner:o[r].resourceOwner,description:o[r].description.text,startdate:o[r].startdate,duedate:o[r].duedate,presentStatus:o[r].presentStatus,memberName:o[r].memberName,taskId:o[r].taskId,workorderId:"",referralId:"",caseId:o[r].caseId,dateCreated:o[r].dateCreated,patientName:o[r].patientName,patientId:o[r].patientId,milestoneId:o[r].milestoneId,reminder:o[r].reminder,taskType:"General"}),this.indexRow++}this.getallworkorders()},l=>(this.getallworkorders(),404===l.status?n()("No milestone found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}getallworkorders(){let t=this.usr.getUserDetails(!1),s=this.utility.apiData.userWorkOrders.ApiUrl,a=this.getmilestoneId;""!=a&&(s+="?milestoneId="+a),t&&this.dataService.getallData(s,!0).subscribe(l=>{if(l){let o=JSON.parse(l.toString());for(var r=0;r<o.length;r++)this.taskdataArray.push({id:this.indexRow,resourceOwner:o[r].resourceOwner,title:o[r].title,description:o[r].notes.text,startdate:o[r].startdate,duedate:o[r].enddate,presentStatus:o[r].presentStatus,memberName:"",taskId:"",workorderId:o[r].workorderId,referralId:"",caseId:o[r].caseId,dateCreated:o[r].dateCreated,patientName:o[r].patientName,patientId:o[r].patientId,milestoneId:o[r].milestoneId,taskType:"WorkOrder"}),this.getuserdetailsall(o[r].members,this.indexRow).then(p=>{o.length==this.indexRow&&(this.isLoadingData=!1)},p=>{o.length==this.indexRow&&(this.isLoadingData=!1)}),this.indexRow++}this.getallreferrals()},l=>(this.getallreferrals(),404===l.status?n()("No milestone found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}getallreferrals(){this.isLoadingData=!1;let t=this.usr.getUserDetails(!1),s=this.utility.apiData.userReferrals.ApiUrl,a=this.getmilestoneId;""!=a&&(s+="?milestoneId="+a),t&&this.dataService.getallData(s,!0).subscribe(l=>{if(l){let o=JSON.parse(l.toString());for(var r=0;r<o.length;r++)this.taskdataArray.push({id:this.indexRow,resourceOwner:o[r].resourceOwner,title:o[r].title,description:o[r].notes.text,startdate:o[r].startdate,duedate:o[r].enddate,presentStatus:o[r].presentStatus,memberName:"",taskId:"",workorderId:"",referralId:o[r].referralId,caseId:o[r].caseId,dateCreated:o[r].dateCreated,patientName:o[r].patientName,patientId:o[r].patientId,milestoneId:o[r].milestoneId,taskType:"Referral"}),this.getuserdetailsall(o[r].members,this.indexRow).then(p=>{o.length==this.indexRow+1&&(this.isLoadingData=!1)},p=>{o.length==this.indexRow+1&&(this.isLoadingData=!1)}),this.indexRow++;this.taskdata=this.taskdataArray}},l=>(this.taskdata=this.taskdataArray,404===l.status?n()("No milestone found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}editGeneralTask(t,s,a){sessionStorage.setItem("taskId",t),sessionStorage.setItem("caseId",s),this.router.navigate("General"==a?["milestones/general-task-edit/"+t]:"WorkOrder"==a?["work-orders/work-order-edit/"+t]:["referral/referral-edit/"+t])}deleteTask(t){this.dataService.deleteDataRecord(this.utility.apiData.userTasks.ApiUrl,t,"taskId").subscribe(l=>{n()("Task deleted successfully"),window.location.reload()},l=>(404===l.status?n()("No milestone found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1)),this.router.navigate(["/milestones/milestone-details/"+this.getmilestoneId])}viewGeneralTask(t,s,a){sessionStorage.setItem("taskId",t),sessionStorage.setItem("caseId",s),this.router.navigate("General"==a?["milestones/general-task-view/"+t]:"WorkOrder"==a?["work-orders/work-order-details/"+t]:["referral/referral-details/"+t])}setcvFast(t,s="milestone"){if("milestone"==s){if(this.attachmentFiles=Array(),JSON.stringify(t).length>2&&t.links.length>0){this.cvfastLinks=!0;for(var a=0;a<t.links.length;a++){let l=t.links[a];this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t.links[a]+"&module="+this.module+"&type=get",!0).subscribe(o=>{o&&this.attachmentFiles.push({imgName:l,ImageUrl:o})},o=>{404===o.status?n()("No milestone found"):403===o.status?n()("You are unauthorized to access the data"):400===o.status?n()("Invalid data provided, please try again"):401===o.status?n()("You are unauthorized to access the page"):409===o.status?n()("Duplicate data entered"):405===o.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===o.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}}}else if(JSON.stringify(t).length>2&&t.length>0){for(a=0;a<t.length;a++)this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t[a].files[0].name+"&module="+this.module+"&type=get",!0).subscribe(p=>{p&&(this.casefilesArray[a-1].files[0].url=p)},p=>{404===p.status?n()("No milestone found"):403===p.status?n()("You are unauthorized to access the data"):400===p.status?n()("Invalid data provided, please try again"):401===p.status?n()("You are unauthorized to access the page"):409===p.status?n()("Duplicate data entered"):405===p.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===p.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")});this.filesdata=this.casefilesArray}}onSubmitMilestone(t){t.invalid?t.form.markAllAsTouched():this.onGetdateData(t.value)}onGetdateData(t){this.jsonObj.milestoneId=t.milestoneId,this.jsonObj.caseId=t.caseId,this.jsonObj.patientId=t.patientId,this.jsonObj.patientName=t.patientName,this.jsonObj.title=t.title,this.jsonObj.description=this.descriptionObj,this.jsonObj.startdate=Number(t.startdate),this.jsonObj.duedate=Number(t.duedate),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.reminder=Number(t.reminder),this.dataService.putData(this.utility.apiData.userMilestones.ApiUrl,JSON.stringify(this.jsonObj),!0).subscribe(s=>{s&&(s=JSON.parse(s.toString())),n()("Milestone updated successfully");const a=sessionStorage.getItem("backurl");this.router.navigate([a])},s=>{404===s.status?n()("No milestone found"):403===s.status?n()("You are unauthorized to access the data"):400===s.status?n()("Invalid data provided, please try again"):401===s.status?n()("You are unauthorized to access the page"):409===s.status?n()("Duplicate data entered"):405===s.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===s.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}getMessage(t){if(this.usr.getUserDetails(!1)){let a=this.utility.apiData.userMessage.ApiUrl;""!=t&&(a+="?caseId="+t),a+="&messageType="+Number("3"),a+="&messageReferenceId="+this.getmilestoneId,this.dataService.getallData(a,!0).subscribe(r=>{if(r){this.messagedata=JSON.parse(r.toString()).reverse(),this.messagedata.sort((p,u)=>p.dateCreated>u.dateCreated?-1:1),this.messageDataArray=Array();for(var o=0;o<this.messagedata.length;o++)JSON.stringify(this.messagedata[o].message).length>2?(this.messageDataArray.push({patientId:this.messagedata[o].patientId,messageId:this.messagedata[o].messageId,caseId:this.messagedata[o].caseId,patientName:this.messagedata[o].resourceOwner,messagetext:this.removeHTML(this.messagedata[o].message.text),messageimg:[],messagedate:this.messagedata[o].dateCreated,messagecomment:this.messagedata[o].comments,messageReferenceId:this.messagedata[o].messageReferenceId,messagecomments:this.messagedata[o].comments}),this.setcvFastComment(this.messagedata[o].comments,o),this.setcvFastMsg(this.messagedata[o].message,o),this.cvfastMsgText=!0):this.messageDataArray.push({patientId:this.messagedata[o].patientId,messageId:this.messagedata[o].messageId,caseId:this.messagedata[o].caseId,patientName:this.messagedata[o].resourceOwner,messagetext:"",messageimg:[],messagedate:this.messagedata[o].dateCreated,messagecomment:this.messagedata[o].comments,messageReferenceId:this.messagedata[o].messageReferenceId}),this.messagedata.length==o+1&&(this.messageAry=this.messageDataArray)}},r=>(404===r.status?n()("No milestone found"):403===r.status?n()("You are unauthorized to access the data"):400===r.status?n()("Invalid data provided, please try again"):401===r.status?n()("You are unauthorized to access the page"):409===r.status?n()("Duplicate data entered"):405===r.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===r.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}setcvFastComment(t,s){let a=Array();if(t.length>0){for(var l=0;l<t.length;l++)if(JSON.stringify(t[l]).length>2){let o=t[l],p=o.text,u=o.links,_=Array();if(u.length>0)for(var r=0;r<u.length;r++){let v=u[r];this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+u[r]+"&module="+this.module+"&type=get",!0).subscribe(T=>{T&&_.push({imgName:v,ImageUrl:T})},T=>{T.status?n()(T.error):n()("Unable to fetch the data, please try again")})}a.push(o.text?_.length>0?{text:this.removeHTML(p),isShow:1,isShowLink:1,links:_}:{text:this.removeHTML(p),isShow:1,isShowLink:0,links:_}:_.length>0?{text:this.removeHTML(p),isShow:0,isShowLink:1,links:_}:{text:this.removeHTML(p),isShow:0,isShowLink:0,links:_}),o.links&&""==o.text&&a.push({text:this.removeHTML(p),isShow:0,isShowLink:1,links:_})}this.messageDataArray[s].messagecomments=a}}setcvFastMsg(t,s){let a=Array();if(t.links.length>0){this.cvfastMsgLinks=!0;for(var l=0;l<t.links.length;l++){let r=t.links[l];this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t.links[l]+"&module="+this.module+"&type=get",!0).subscribe(p=>{p&&(a.push({imgName:r,ImageUrl:p}),t.links.length==l&&(this.messageDataArray[s].messageimg=a))},p=>{404===p.status?n()("No milestone found"):403===p.status?n()("You are unauthorized to access the data"):400===p.status?n()("Invalid data provided, please try again"):401===p.status?n()("You are unauthorized to access the page"):409===p.status?n()("Duplicate data entered"):405===p.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===p.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}}}onSubmitComment(t){t.invalid?t.form.markAllAsTouched():(n()("Processing...please wait...",{buttons:[!1,!1],closeOnClickOutside:!1}),this.jsonObjmsg.caseId=t.value.CcaseId,this.jsonObjmsg.patientId=t.value.CpatientId,this.jsonObjmsg.patientName=t.value.CpatientName,this.jsonObjmsg.messageId=t.value.CmessageId,this.jsonObjmsg.comment=this.messageAry[t.value.Ccomments].messagecomment,this.jsonObjmsg.messageType="3",this.jsonObjmsg.messageReferenceId=t.value.CmessageReferenceId,this.cvfastval.processFiles(this.utility.apiData.userMessage.ApiUrl,this.jsonObjmsg,!0,"Comments added successfully","milestones/milestone-list","put","","comments",1,"Comments already exists.").then(s=>{n().close(),this.sending=!1},s=>{n().close(),this.sending=!1}))}onSubmitMessage(t){t.invalid?t.form.markAllAsTouched():(n()("Processing...please wait...",{buttons:[!1,!1],closeOnClickOutside:!1}),this.jsonObjmsg.caseId=t.value.caseId,this.jsonObjmsg.patientId=t.value.patientId,this.jsonObjmsg.patientName=t.value.patientName,this.jsonObjmsg.message=this.cvfastval.returnCvfast(),this.jsonObjmsg.messageType="3",this.jsonObjmsg.messageReferenceId=t.value.messageReferenceId,this.cvfastval.processFiles(this.utility.apiData.userMessage.ApiUrl,this.jsonObjmsg,!0,"Message added successfully","milestones/milestone-list","post","","message",1,"Message already exists.").then(s=>{n().close(),this.sending=!1},s=>{n().close(),this.sending=!1}))}getuserdetailsall(t,s){return new Promise((a,l)=>{if(this.usr.getUserDetails(!1)){let p="",u=0;for(var o=0;o<t.length;o++){let _=this.utility.apiData.userColleague.ApiUrl;""!=t&&(_+="?dentalId="+t[o]),this.dataService.getallData(_,!0).subscribe(v=>{if(v){u++;let D=JSON.parse(v.toString());if(D){let T=D[0].accountfirstName+" "+D[0].accountlastName;p+=p?","+T:T,u==t.length&&(this.taskdataArray[s].memberName=p,a(!0))}}},v=>(a(!0),404===v.status?n()("No milestone found"):403===v.status?n()("You are unauthorized to access the data"):400===v.status?n()("Invalid data provided, please try again"):401===v.status?n()("You are unauthorized to access the page"):409===v.status?n()("Duplicate data entered"):405===v.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===v.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}})}getCaseDetails(){let t=this.utility.apiData.userCases.ApiUrl,s=this.parmCaseId;0!=s&&(t+="?caseId="+s,this.dataService.getallData(t,!0).subscribe(a=>{if(a){let l=JSON.parse(a.toString());this.casesName=l.title,this.patientName=l.patientName,this.caseid=l.caseId,this.patientid=l.patientId,this.loadTooltip()}},a=>{404===a.status?n()("No milestone found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")}))}video(){var t;null===(t=this.videoplayer)||void 0===t||t.nativeElement.play()}removeHTML(t){if(""!=t&&"undefined"!=t&&null!=t){var s=document.createElement("DIV");return s.innerHTML=t,s.textContent||s.innerText||""}return""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.Ye),e.Y36(x.T),e.Y36(g.F0),e.Y36(A.t),e.Y36(y.f),e.Y36(g.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-milestone-details"]],viewQuery:function(t,s){if(1&t&&(e.Gf(b.x,5),e.Gf(z,5)),2&t){let a;e.iGM(a=e.CRH())&&(s.cvfastval=a.first),e.iGM(a=e.CRH())&&(s.videoplayer=a.first)}},decls:54,vars:12,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/milestones/milestones-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],["class","mt-3",4,"ngIf"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","bg-white"],[1,"row"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"col-md-5"],[1,"panel","panel-primary","mt-3"],[1,"tab-menu-heading"],[1,"tabs-menu"],[1,"nav","panel-tabs"],["href","javascript:void(0);",1,"me-1",3,"click"],[1,"avatar-list","justify-content-end","mt-2"],[1,"avatar-icon","my-1","ms-2",2,"background-color","#FFF"],[4,"ngIf"],[1,"mt-3"],[1,"mt-5","w-100"],["style","margin-top: 1.5em;display: block;transition: all 1s;","class","vh-100",3,"width","height","margin",4,"ngFor","ngForOf"],[1,"vh-100",2,"margin-top","1.5em","display","block","transition","all 1s",3,"width","height","margin"],["id","milestoneForm",3,"ngSubmit"],["milestoneForm","ngForm"],[1,"card-body"],[1,"row","mt-2"],[1,"col-md-8"],[1,"mb-3","row"],["for","staticEmail",1,"col-sm-3","col-form-label"],[1,"col-sm-8"],["type","text","aria-label","readonly input example","readonly","",1,"form-control",3,"value"],[1,"col-md-2"],[1,"mb-4"],[1,"form-label","body2","text-gray"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],["class","mb-3 row",4,"ngIf"],["class","col-md-12 col-lg-12",4,"ngIf"],["for","staticEmail",1,"col-sm-2","col-form-label"],[1,"col-sm-3"],["name","presentStatus","id","presentStatus",1,"form-select",3,"ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["class","col-md-12 my-2 mx-1",4,"ngIf"],[1,"col-sm-10"],[1,"card","bg-primary",2,"box-shadow","0px 5px 5px rgba(0, 0, 0, 0.1)"],["class","text-light body1",4,"ngIf","ngIfElse"],["emptydesc",""],[1,"mb-3"],[1,"body2","text-gray"],[1,"text-light","body1"],[1,"col-md-12","col-lg-12"],[1,"me-2","mb-3","text-muted"],["class","col-md-4 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-lg-4"],[1,"card","mb-3",2,"border","1px solid #D0D6DE"],[1,"card-body","d-flex","align-items-center"],["target","_tblank",3,"href",4,"ngIf"],["controls","","class","video","style","display:inline-block;vertical-align:middle;width:350px;height:200px;",3,"play",4,"ngIf"],["target","_tblank",3,"href"],[2,"display","inline-block","vertical-align","middle","width","350px","height","200px",3,"src"],["src","assets/images/file.png","width","50px",2,"display","inline-block","vertical-align","middle"],["controls","",1,"video",2,"display","inline-block","vertical-align","middle","width","350px","height","200px",3,"play"],["videoPlayer{{links.imgName}}",""],["type","video/mp4",3,"src"],[1,"col-md-12","my-2","mx-1"],["type","hidden","name","caseId","maxlength","100","id","caseId",1,"form-control",3,"ngModel"],["type","hidden","name","patientId","maxlength","100","id","patientId",1,"form-control",3,"ngModel"],["type","hidden","name","patientName","maxlength","100","id","patientName",1,"form-control",3,"ngModel"],["type","hidden","name","milestoneId","maxlength","100","id","milestoneId",1,"form-control",3,"ngModel"],["type","hidden","name","reminder","id","reminder",1,"form-control",3,"ngModel"],["type","hidden","name","duedate","id","duedate",1,"form-control",3,"ngModel"],["type","hidden","name","startdate","id","startdate",1,"form-control",3,"ngModel"],["type","hidden","name","title","id","title",1,"form-control",3,"ngModel"],["type","submit",1,"btn","btn-default","me-2"],[1,"bx","bx-save",2,"font-size","large"],["class","row py-2 border-bottom px-2",4,"ngFor","ngForOf"],[1,"card-footer",2,"background-color","#F7F9FB"],["id","mainForm",3,"ngSubmit"],["MessageId","ngForm"],["style","color:red;font-weight:bold;",4,"ngIf"],[1,"col-md-12","mb-2"],["type","hidden","name","caseId","id","caseId",3,"ngModel"],["type","hidden","name","patientId","id","patientId",3,"ngModel"],["type","hidden","name","patientName","id","patientName",3,"ngModel"],["type","hidden","name","messageReferenceId","id","messageReferenceId",3,"ngModel"],["type","submit",1,"btn","btn-default","mt-1","me-2"],[1,"row","py-2","border-bottom","px-2"],[1,"col-md-4","col-lg-6","d-flex"],[1,"fw-bold",2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis"],["class","avatar avatar-sm rounded-circle me-2 ",3,"src",4,"ngIf"],["alt","","class","avatar avatar-sm rounded-circle me-2 ",3,"src",4,"ngIf"],[1,"col-md-8","col-lg-6","text-end"],[1,"col-md-10"],[1,"body2"],["tippy","Reply","placement","top","href","javascript:void(0);",3,"click"],[1,"material-icons","me-2",2,"color","#D0D6DE"],[1,"mt-2","col-md-12"],[1,"ms-5"],[1,"body2","mb-0"],[1,"mt-2","mb-2"],[4,"ngFor","ngForOf"],["class","mt-2 col-md-12",4,"ngFor","ngForOf"],[1,"avatar","avatar-sm","rounded-circle","me-2",3,"src"],["alt","",1,"avatar","avatar-sm","rounded-circle","me-2",3,"src"],["controls","","class","video","style","display:inline-block;vertical-align:middle;width:170px;height:150px;","width","200px",3,"play",4,"ngIf"],[2,"display","inline-block","vertical-align","middle","width","170px","height","150px",3,"src"],["src","assets/images/file.png",2,"display","inline-block","vertical-align","middle"],["controls","","width","200px",1,"video",2,"display","inline-block","vertical-align","middle","width","170px","height","150px",3,"play"],["videoPlayer{{imgUrl.imgName}}",""],["class","flex p-2",4,"ngIf"],[1,"flex","p-2"],[1,"flex-grow","p-2",2,"border-radius","6px","background-color","#F7F9FB","border","2px solid #EFF3F7"],["class","body2",4,"ngIf"],["controls","","class","video","style","display:inline-block;vertical-align:middle;width:170px;height:150px;",3,"play",4,"ngIf"],["controls","",1,"video",2,"display","inline-block","vertical-align","middle","width","170px","height","150px",3,"play"],["videoPlayer{{link.imgName}}",""],["CommentId","ngForm"],["type","hidden","name","CcaseId","id","CcaseId",3,"ngModel"],["type","hidden","name","CpatientId","id","CpatientId",3,"ngModel"],["type","hidden","name","CpatientName","id","CpatientName",3,"ngModel"],["type","hidden","name","CmessageId","id","CmessageId",3,"ngModel"],["type","hidden","name","CmessageReferenceId","id","CmessageReferenceId",3,"ngModel"],["type","hidden","name","Ccomments","id","Ccomments",3,"ngModel"],[2,"color","red","font-weight","bold"],[1,"mt-2","mb-3"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap","px-3"],[1,"my-2"],[1,"body1","card-title","mb-0"],[1,"d-flex","align-items-center","flex-wrap"],["type","button","data-bs-toggle","modal","data-bs-target","#addTask",1,"btn","btn-default","me-2"],["aria-hidden","true",1,"bx","bx-plus"],[1,"search","search-md"],[1,"bx","bx-search"],["type","text","placeholder","Search",1,"form-control",3,"keyup"],[1,"table-responsive"],["class","table table-hover table-nowrap align-middle","datatable","","id","dataTables",3,"dtOptions",4,"ngIf"],["id","addTask","tabindex","-1","aria-labelledby","addTaskLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","addTaskLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","gy-3","justify-content-center"],[1,"col-md-8","col-sm-12"],["data-bs-dismiss","modal",1,"btn","w-100","btn-default",2,"cursor","pointer",3,"click"],["data-bs-dismiss","modal",1,"btn","w-100","btn-light-green",2,"cursor","pointer",3,"click"],["data-bs-dismiss","modal",1,"btn","w-100","btn-pink",2,"cursor","pointer",3,"click"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light"],[2,"text-transform","uppercase"],["data-orderable","false",1,"body2"],[1,"d-none"],["class","badge rounded-pill badge-info body2",4,"ngIf"],["class","badge rounded-pill badge-warning body2",4,"ngIf"],["class","badge rounded-pill badge-success body2",4,"ngIf"],[1,"d-flex"],["class","me-1","tippy","Edit","placement","top","title","Edit",3,"routerLink",4,"ngIf"],["class","me-1","tippy","View","placement","top","title","View",3,"routerLink",4,"ngIf"],["class","me-1","style","cursor: pointer;","tippy","Delete","placement","top","title","Delete",3,"click",4,"ngIf"],[1,"badge","rounded-pill","badge-info","body2"],[1,"badge","rounded-pill","badge-warning","body2"],[1,"badge","rounded-pill","badge-success","body2"],["tippy","Edit","placement","top","title","Edit",1,"me-1",3,"routerLink"],[1,"material-icons","text-bright-blue"],["tippy","View","placement","top","title","View",1,"me-1",3,"routerLink"],[1,"material-icons","fs-4","text-light-green"],["tippy","Delete","placement","top","title","Delete",1,"me-1",2,"cursor","pointer",3,"click"],[1,"material-icons","fs-4","text-danger"],["colspan","8","valign","top",1,"dataTables_empty"]],template:function(t,s){1&t&&(e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Milestones"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Milestone Details "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14),e.TgZ(15,"span",10),e._uU(16),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.YNc(20,R,3,1,"ng-container",14),e.TgZ(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20)(27,"h5",21),e._uU(28,"Milestone Details"),e.qZA()(),e.TgZ(29,"div",22)(30,"a",23),e.NdJ("click",function(){return s.back()}),e._uU(31,"Back"),e.qZA()(),e.TgZ(32,"div",24)(33,"div",25)(34,"div",26)(35,"div",27)(36,"ul",28)(37,"li")(38,"a",29),e.NdJ("click",function(){return s.tabContent("tab1")}),e._uU(39,"Details"),e.qZA()(),e.TgZ(40,"li")(41,"a",29),e.NdJ("click",function(){return s.tabContent("tab2")}),e._uU(42,"Thread"),e.qZA()(),e.TgZ(43,"li")(44,"a",29),e.NdJ("click",function(){return s.tabContent("tab3")}),e._uU(45,"Tasks"),e.qZA()()()()()()(),e.TgZ(46,"div",22)(47,"div",30)(48,"span",31),e._uU(49,"\xa0"),e.qZA()()()()(),e.TgZ(50,"div"),e.YNc(51,ne,51,14,"div",32),e.YNc(52,Ae,16,6,"div",32),e.YNc(53,Le,34,2,"div",32),e.qZA()()()()),2&t&&(e.xp6(14),e.hij("",s.patientName," "),e.xp6(2),e.Oqu(s.casesName),e.xp6(4),e.Q6J("ngIf",s.isLoadingData),e.xp6(18),e.ekj("active","tab1"===s.id),e.xp6(3),e.ekj("active","tab2"===s.id),e.xp6(3),e.ekj("active","tab3"===s.id),e.xp6(7),e.Q6J("ngIf","tab1"===s.id),e.xp6(1),e.Q6J("ngIf","tab2"===s.id),e.xp6(1),e.Q6J("ngIf","tab3"===s.id))},directives:[g.yS,c.O5,c.sg,U.w,m._Y,m.JL,m.F,m.EJ,m.JJ,m.On,m.YN,m.Kr,m.Fj,m.nD,M.$o,b.x,C.G],pipes:[c.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.form-control[_ngcontent-%COMP%]:disabled, .form-control[_ngcontent-%COMP%]:read-only{background-color:#eff3f7;opacity:1}.absolute[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%]{position:relative}.flex-grow[_ngcontent-%COMP%]{flex-grow:1}.w-1[_ngcontent-%COMP%]{width:.25rem}.h-full[_ngcontent-%COMP%]{height:100%}.bg-gray-200[_ngcontent-%COMP%]{background-color:#1991eb}.flex[_ngcontent-%COMP%]{display:flex}.nav.panel-tabs[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#f5f6fb;color:#0070d2;border:1px solid #0070D2;border-radius:50px}.tabs-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 20px!important}.nav.panel-tabs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#f5f6fb;border-radius:50px;color:#5d6a7e}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.cover-image[_ngcontent-%COMP%]{background-size:cover!important}.avatar-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.avatar[_ngcontent-%COMP%]{width:2rem;height:2rem;line-height:2rem;display:inline-block;position:relative;text-align:center;color:#fff;font-weight:500;font-size:.875rem;-webkit-user-select:none;user-select:none}"]}),i})(),Pe=(()=>{class i{constructor(t){this.location=t,this.dtOptions={}}back(){this.location.back()}ngOnInit(){this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}searchText(t){var s=t.target.value;$("#dataTables").DataTable().search(s).draw()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.Ye))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-milestone-add-members"]],decls:212,vars:1,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/milestones"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"row"],[1,"col-md-6","align-self-center"],["aria-label","breadcrumb",1,"my-2"],[1,"breadcrumb","fw-bold","mb-0"],["href","javascript:void(0);",2,"color","#5D6A7E",3,"click"],["routerLink","/milestones/milestone-details",2,"color","#5D6A7E"],["aria-current","page",1,"breadcrumb-item","active",2,"color","#011A3E"],[1,"card-body","p-0","pb-4"],[1,"table-responsive"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light"],[2,"text-transform","uppercase"],[2,"width","15px"],[1,"form-check","form-check-inline","mb-0",2,"min-height","auto"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],[1,"body2"],[1,"form-check","form-check-inline"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","mt-2"],[1,"d-flex","mt-1"],["alt","...","src","assets/images/image2.png",1,"avatar","avatar-sm","rounded-circle"],[1,"ps-2"],[1,"body2","d-block"],[1,"bx","bxs-home","me-1","text-gray"],[2,"vertical-align","middle"],[1,"d-flex"],["alt","...","src","assets/images/image.png",1,"avatar","avatar-sm","rounded-circle"],[1,"row","mt-2"],[1,"col-md-12","mt-3"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-default"]],template:function(t,s){1&t&&(e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Milestones"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Milestone Add Members "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14,"Diana Hiden "),e.TgZ(15,"span",10),e._uU(16,"Root Canal Treatment"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.TgZ(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"nav",20)(27,"ol",21)(28,"li",1)(29,"a",22),e.NdJ("click",function(){return s.back()}),e._uU(30,"Back "),e.qZA()(),e.TgZ(31,"li",1)(32,"a",23),e._uU(33,"Milestone Details"),e.qZA()(),e.TgZ(34,"li",24),e._uU(35,"Add Members"),e.qZA()()()(),e._UZ(36,"div",7),e.qZA()(),e.TgZ(37,"div",25)(38,"div",26)(39,"table",27)(40,"thead",28)(41,"tr",29)(42,"th",30)(43,"div",31),e._UZ(44,"input",32),e.qZA()(),e.TgZ(45,"th",33),e._uU(46,"MEMBER NAME"),e.qZA(),e.TgZ(47,"th",33),e._uU(48,"MEMBER TYPE"),e.qZA(),e.TgZ(49,"th",33),e._uU(50,"EDUCATION"),e.qZA(),e.TgZ(51,"th",33),e._uU(52,"LOCATION"),e.qZA()()(),e.TgZ(53,"tbody")(54,"tr")(55,"td")(56,"div",34),e._UZ(57,"input",35),e.qZA()(),e.TgZ(58,"td")(59,"div",36),e._UZ(60,"img",37),e.TgZ(61,"div",38)(62,"span",39),e._uU(63,"Colin"),e.qZA(),e.TgZ(64,"span",39),e._uU(65,"General Dentist"),e.qZA()()()(),e.TgZ(66,"td")(67,"span",33),e._UZ(68,"i",40),e._uU(69," Home "),e.qZA()(),e.TgZ(70,"td")(71,"span",33),e._uU(72,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(73,"td",41)(74,"span",33),e._uU(75,"Canada"),e.qZA()()(),e.TgZ(76,"tr")(77,"td")(78,"div",34),e._UZ(79,"input",35),e.qZA()(),e.TgZ(80,"td")(81,"div",42),e._UZ(82,"img",43),e.TgZ(83,"div",38)(84,"span",39),e._uU(85,"Simon Sais"),e.qZA(),e.TgZ(86,"span",39),e._uU(87,"General Dentist"),e.qZA()()()(),e.TgZ(88,"td")(89,"span",33),e._UZ(90,"i",40),e._uU(91,"Home "),e.qZA()(),e.TgZ(92,"td")(93,"span",33),e._uU(94,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(95,"td",41)(96,"span",33),e._uU(97,"Canada "),e.qZA()()(),e.TgZ(98,"tr")(99,"td")(100,"div",34),e._UZ(101,"input",35),e.qZA()(),e.TgZ(102,"td")(103,"div",42),e._UZ(104,"img",37),e.TgZ(105,"div",38)(106,"span",39),e._uU(107,"Mario Speedwagon"),e.qZA(),e.TgZ(108,"span",39),e._uU(109,"General Dentist"),e.qZA()()()(),e.TgZ(110,"td")(111,"span",33),e._UZ(112,"i",40),e._uU(113,"Home "),e.qZA()(),e.TgZ(114,"td")(115,"span",33),e._uU(116,"BDS/DDS/DMD"),e.qZA()(),e.TgZ(117,"td",41)(118,"span",33),e._uU(119,"Canada"),e.qZA()()(),e.TgZ(120,"tr")(121,"td")(122,"div",34),e._UZ(123,"input",35),e.qZA()(),e.TgZ(124,"td")(125,"div",36),e._UZ(126,"img",43),e.TgZ(127,"div",38)(128,"span",39),e._uU(129,"Colin"),e.qZA(),e.TgZ(130,"span",39),e._uU(131,"General Dentist"),e.qZA()()()(),e.TgZ(132,"td")(133,"span",33),e._UZ(134,"i",40),e._uU(135,"Home "),e.qZA()(),e.TgZ(136,"td")(137,"span",33),e._uU(138,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(139,"td",41)(140,"span",33),e._uU(141,"Canada"),e.qZA()()(),e.TgZ(142,"tr")(143,"td")(144,"div",34),e._UZ(145,"input",35),e.qZA()(),e.TgZ(146,"td")(147,"div",42),e._UZ(148,"img",37),e.TgZ(149,"div",38)(150,"span",39),e._uU(151,"Liza Doolittle"),e.qZA(),e.TgZ(152,"span",39),e._uU(153,"Specialist"),e.qZA()()()(),e.TgZ(154,"td")(155,"span",33),e._UZ(156,"i",40),e._uU(157,"Home "),e.qZA()(),e.TgZ(158,"td")(159,"span",33),e._uU(160,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(161,"td",41)(162,"span",33),e._uU(163,"Canada "),e.qZA()()(),e.TgZ(164,"tr")(165,"td")(166,"div",34),e._UZ(167,"input",35),e.qZA()(),e.TgZ(168,"td")(169,"div",42),e._UZ(170,"img",43),e.TgZ(171,"div",38)(172,"span",39),e._uU(173,"Colin"),e.qZA(),e.TgZ(174,"span",39),e._uU(175,"General Dentist"),e.qZA()()()(),e.TgZ(176,"td")(177,"span",33),e._UZ(178,"i",40),e._uU(179,"Home "),e.qZA()(),e.TgZ(180,"td")(181,"span",33),e._uU(182,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(183,"td",41)(184,"span",33),e._uU(185,"Canada "),e.qZA()()(),e.TgZ(186,"tr")(187,"td")(188,"div",34),e._UZ(189,"input",35),e.qZA()(),e.TgZ(190,"td")(191,"div",42),e._UZ(192,"img",37),e.TgZ(193,"div",38)(194,"span",39),e._uU(195,"Aida Bugg"),e.qZA(),e.TgZ(196,"span",39),e._uU(197,"Specialist"),e.qZA()()()(),e.TgZ(198,"td")(199,"span",33),e._UZ(200,"i",40),e._uU(201,"Home "),e.qZA()(),e.TgZ(202,"td")(203,"span",33),e._uU(204,"BDS/DDS/DMD"),e.qZA()(),e.TgZ(205,"td",41)(206,"span",33),e._uU(207,"Canada"),e.qZA()()()()()()()(),e.TgZ(208,"div",44)(209,"div",45)(210,"a",46),e._uU(211," Save members "),e.qZA()()()()()),2&t&&(e.xp6(39),e.Q6J("dtOptions",s.dtOptions))},directives:[g.yS,C.G],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}"]}),i})();h(4295);var w=h(995);function Ge(i,d){1&i&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"lottie-player",20),e.TgZ(3,"h6",21),e._uU(4,"Processing request....please wait, don't close this page"),e.qZA()()())}function Qe(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"ng-select",58),e.NdJ("ngModel",function(){return e.CHM(t),e.oxw(2).casesName})("change",function(a){return e.CHM(t),e.oxw(2).selectEvent(a)}),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("items",t.allcases)("editableSearchTerm",!0)}}function He(i,d){if(1&i&&e._UZ(0,"input",59),2&i){const t=e.oxw(2);e.s9C("ngModel",t.casesName)}}function ze(i,d){1&i&&(e.TgZ(0,"span",60),e._uU(1," Due date & time should be greater than start date"),e.qZA())}function Ve(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",19)(2,"div",23)(3,"div",24)(4,"div",18)(5,"div",25)(6,"h5",26),e._uU(7,"Add Milestone"),e.qZA()(),e.TgZ(8,"div",27)(9,"a",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e._uU(10,"Back "),e.qZA()()()(),e.TgZ(11,"div",29)(12,"div",30)(13,"div",19)(14,"div",18)(15,"div",7)(16,"div",31)(17,"label",32),e._uU(18,"Case Title "),e.qZA(),e.YNc(19,Qe,1,2,"ng-select",33),e.YNc(20,He,1,1,"input",34),e.qZA()(),e.TgZ(21,"div",7)(22,"div",31)(23,"label",32),e._uU(24,"Title "),e.qZA(),e._UZ(25,"input",35),e.qZA()(),e.TgZ(26,"div",19)(27,"div",31)(28,"label",32),e._uU(29,"Description"),e.qZA(),e._UZ(30,"app-cvfast"),e.qZA()(),e.TgZ(31,"div",36)(32,"div",31)(33,"label",37),e._uU(34,"Start Date & Time"),e.qZA(),e._UZ(35,"input",38),e.ALo(36,"date"),e._UZ(37,"owl-date-time",null,39),e.qZA()(),e.TgZ(39,"div",36)(40,"div",31)(41,"label",37),e._uU(42,"Due Date & Time"),e.qZA(),e._UZ(43,"input",40),e.ALo(44,"date"),e._UZ(45,"owl-date-time",null,41),e.YNc(47,ze,2,0,"span",42),e.qZA()(),e.TgZ(48,"div",36)(49,"div",31)(50,"label",37),e._uU(51,"Add Reminder"),e.qZA(),e.TgZ(52,"select",43)(53,"option",44),e._uU(54,"Select"),e.qZA(),e.TgZ(55,"option",45),e._uU(56,"12 Hours"),e.qZA(),e.TgZ(57,"option",46),e._uU(58,"1 Day"),e.qZA(),e.TgZ(59,"option",47),e._uU(60,"2 Days"),e.qZA(),e.TgZ(61,"option",48),e._uU(62,"3 Days"),e.qZA(),e.TgZ(63,"option",49),e._uU(64,"5 Days"),e.qZA()()()()()()()()()(),e.TgZ(65,"div",50),e._UZ(66,"input",51)(67,"input",52)(68,"input",53)(69,"input",54),e.TgZ(70,"button",55),e._UZ(71,"i",56),e._uU(72," Save"),e.qZA(),e.TgZ(73,"a",57),e._uU(74,"Cancel"),e.qZA()()()}if(2&i){const t=e.MAs(38),s=e.MAs(46),a=e.oxw();e.xp6(19),e.Q6J("ngIf","0"==a.checkCase),e.xp6(1),e.Q6J("ngIf","0"!=a.checkCase),e.xp6(15),e.s9C("min",e.xi3(36,12,a.minDate,"yyyy-MM-dd")),e.Q6J("owlDateTime",t)("owlDateTimeTrigger",t),e.xp6(8),e.s9C("min",e.xi3(44,15,a.minDate,"yyyy-MM-dd")),e.Q6J("owlDateTime",s)("owlDateTimeTrigger",s),e.xp6(4),e.Q6J("ngIf",1==a.isvalidDate),e.xp6(20),e.s9C("ngModel",a.caseid),e.xp6(1),e.s9C("ngModel",a.patientid),e.xp6(1),e.s9C("ngModel",a.patientName)}}let Re=(()=>{class i{constructor(t,s,a,l,r,o,p){this.location=t,this.dataService=s,this.router=a,this.utility=l,this.utilitydev=r,this.usr=o,this.route=p,this.isvalidDate=!1,this.allcases=[],this.caseid="",this.patientid="",this.casesName="",this.patientName="",this.parmCaseId="",this.checkCase="",this.minDate=new Date,this.jsonObj={caseId:"",patientId:"",patientName:"",title:"",description:{},startdate:0,duedate:0,presentStatus:0,reminder:0},this.parmCaseId=this.route.snapshot.paramMap.get("caseId"),this.checkCase=this.route.snapshot.paramMap.get("caseId")}back(){this.location.back()}ngOnInit(){this.getCaseDetails(),this.getAllCases()}onSubmitMilestone(t){if(this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.dueDatetime),t.invalid||1==this.isvalidDate)return n()("Please enter values for the mandatory fields"),void t.form.markAllAsTouched();this.sending=!0,this.onGetdateData(t.value)}onGetdateData(t){this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,this.jsonObj.patientName=t.patientName,this.jsonObj.title=this.removeHTML(t.title),(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObj.description=this.cvfastval.returnCvfast()),this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.duedate=Date.parse(t.dueDatetime),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.reminder=Number(t.reminder);const s=sessionStorage.getItem("backurl");this.cvfastval.processFiles(this.utility.apiData.userMilestones.ApiUrl,this.jsonObj,!0,"Milestone added successfully",s,"post","","description","","Milestone title already exists.").then(a=>{this.sending=!1},a=>{this.sending=!1})}getAllCases(){this.usr.getUserDetails(!1)&&(this.sending=!0,this.dataService.getallData(this.utility.apiData.userCases.ApiUrl,!0).subscribe(a=>{if(a){this.tabledataAll=JSON.parse(a.toString()),this.allcases=Array();for(var l=0;l<this.tabledataAll.length;l++)if(1==this.tabledataAll[l].caseStatus){let r=this.tabledataAll[l].title;this.allcases.push({value:this.tabledataAll[l].caseId,caseId:this.tabledataAll[l].caseId,patientName:this.tabledataAll[l].patientName,patientId:this.tabledataAll[l].patientId,name:r,label:r})}this.sending=!1}},a=>(404===a.status?n()("No milestone found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1)))}selectEvent(t){this.caseid=t.caseId,this.patientid=t.patientId,this.patientName=t.patientName,this.casesName=t.name}getCaseDetails(){let t=this.utility.apiData.userCases.ApiUrl,s=this.parmCaseId;0!=s&&(t+="?caseId="+s,this.dataService.getallData(t,!0).subscribe(a=>{a&&(this.tabledata=JSON.parse(a.toString()),this.casesName=this.tabledata.title,this.patientName=this.tabledata.patientName,this.caseid=this.tabledata.caseId,this.patientid=this.tabledata.patientId)},a=>{404===a.status?n()("No milestone found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")}))}removeHTML(t){if(""!=t&&"undefined"!=t&&null!=t){var s=document.createElement("DIV");return s.innerHTML=t,s.textContent||s.innerText||""}return""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.Ye),e.Y36(x.T),e.Y36(g.F0),e.Y36(A.t),e.Y36(w.F),e.Y36(y.f),e.Y36(g.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-milestone-add"]],viewQuery:function(t,s){if(1&t&&e.Gf(b.x,5),2&t){let a;e.iGM(a=e.CRH())&&(s.cvfastval=a.first)}},decls:24,vars:4,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/milestones/milestones-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],["class","row",4,"ngIf"],["id","milestoneForm",3,"ngSubmit"],["milestoneForm","ngForm"],["class","row align-items-center pt-2",4,"ngIf"],[1,"row"],[1,"col-md-12"],["src","https://assets6.lottiefiles.com/packages/lf20_fhsx0ijl/lottie/collections-feature.json","background","transparent","speed","1","loop","","autoplay","",1,"mt-3","m-auto",2,"width","300px","height","300px"],[1,"text-center","mt-5"],[1,"row","align-items-center","pt-2"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["placeholder","Select","required","","name","caseName","id","caseName",3,"items","editableSearchTerm","ngModel","change",4,"ngIf"],["type","text","readonly","","class","form-control","placeholder","Enter Title here","name","caseName","id","caseName","ngModel","","required","",3,"ngModel",4,"ngIf"],["type","text","placeholder","Enter Title","name","title","id","title","ngModel","","required","",1,"form-control"],[1,"col-ms-6","col-md-4"],[1,"form-label","body2","mb-3","text-dark"],["name","startdate","id","startdate","placeholder","Start Date & Time","ngModel","","required","",1,"form-control",3,"min","owlDateTime","owlDateTimeTrigger"],["dt2",""],["name","dueDatetime","id","dueDatetime","placeholder","Due Date & Time","ngModel","","required","",1,"form-control",3,"min","owlDateTime","owlDateTimeTrigger"],["dt1",""],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],["name","reminder","id","reminder","ngModel","","required","",1,"form-select"],["value",""],["value","12","selected",""],["value","24"],["value","48"],["value","72"],["value","120"],[1,"col-md-12","mt-3"],["type","hidden","name","presentStatus","id","presentStatus","ngModel","1"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","patientName","id","patientName",3,"ngModel"],["type","submit",1,"btn","btn-default","me-2"],[1,"bx","bx-save"],["routerLink","/milestones/milestones-list",1,"btn","btn-secondary","mt-1","me-2"],["placeholder","Select","required","","name","caseName","id","caseName",3,"items","editableSearchTerm","ngModel","change"],["type","text","readonly","","placeholder","Enter Title here","name","caseName","id","caseName","ngModel","","required","",1,"form-control",3,"ngModel"],[2,"color","#F7517F","font-weight","bold"]],template:function(t,s){if(1&t){const a=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Milestones"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Add Milestone "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14),e.TgZ(15,"span",10),e._uU(16),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.YNc(20,Ge,5,0,"div",14),e.TgZ(21,"form",15,16),e.NdJ("ngSubmit",function(){e.CHM(a);const r=e.MAs(22);return s.onSubmitMilestone(r)}),e.YNc(23,Ve,75,18,"div",17),e.qZA()}2&t&&(e.xp6(14),e.hij("",s.patientName," "),e.xp6(2),e.Oqu(s.casesName),e.xp6(4),e.Q6J("ngIf",s.sending),e.xp6(3),e.Q6J("ngIf",!s.sending))},directives:[g.yS,c.O5,m._Y,m.JL,m.F,Z.w9,m.Q7,m.JJ,m.On,m.Fj,b.x,f.BO,f.sZ,f.hV,m.EJ,m.YN,m.Kr],pipes:[c.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}"]}),i})();var N=h(2221);function Be(i,d){1&i&&(e.TgZ(0,"div",16)(1,"div",17),e._UZ(2,"lottie-player",18),e.TgZ(3,"h6",19),e._uU(4,"Processing request....please wait, don't close this page"),e.qZA()()())}function $e(i,d){1&i&&(e.TgZ(0,"span",63),e._uU(1," Due date & time should be greater than start date"),e.qZA())}function We(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",17)(2,"div",24)(3,"div",25)(4,"div",16)(5,"div",26)(6,"h5",27),e._uU(7,"Edit Milestone"),e.qZA()(),e.TgZ(8,"div",28)(9,"a",29),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).back()}),e._uU(10,"Back "),e.qZA()()()(),e.TgZ(11,"div",30)(12,"div",31)(13,"div",17)(14,"div",16)(15,"div",7)(16,"div",32)(17,"label",33),e._uU(18,"Case Title "),e.qZA(),e._UZ(19,"input",34),e.qZA()(),e.TgZ(20,"div",7)(21,"div",32)(22,"label",33),e._uU(23,"Title "),e.qZA(),e._UZ(24,"input",35),e.qZA()(),e.TgZ(25,"div",17)(26,"div",32)(27,"label",33),e._uU(28,"Description"),e.qZA(),e._UZ(29,"app-cvfast"),e.qZA()(),e.TgZ(30,"div",36)(31,"div",32)(32,"label",37),e._uU(33,"Start Date & Time"),e.qZA(),e.TgZ(34,"div",38)(35,"input",39),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).editedstartDate=a}),e.ALo(36,"date"),e.qZA(),e._UZ(37,"input",40),e.ALo(38,"date"),e._UZ(39,"owl-date-time",null,41),e.qZA()()(),e.TgZ(41,"div",36)(42,"div",32)(43,"label",37),e._uU(44,"Due Date & Time"),e.qZA(),e.TgZ(45,"div",38)(46,"input",42),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).editedDate=a}),e.ALo(47,"date"),e.qZA(),e._UZ(48,"input",43),e.ALo(49,"date"),e._UZ(50,"owl-date-time",null,44),e.YNc(52,$e,2,0,"span",45),e.qZA()()(),e.TgZ(53,"div",36)(54,"div",32)(55,"label",37),e._uU(56,"Status"),e.qZA(),e.TgZ(57,"select",46)(58,"option",47),e._uU(59,"Select"),e.qZA(),e.TgZ(60,"option",48),e._uU(61,"Active"),e.qZA(),e.TgZ(62,"option",49),e._uU(63,"Inactive"),e.qZA(),e.TgZ(64,"option",50),e._uU(65,"Pending"),e.qZA(),e.TgZ(66,"option",51),e._uU(67,"Completed"),e.qZA()()()(),e.TgZ(68,"div",36)(69,"div",32)(70,"label",37),e._uU(71,"Add Reminder"),e.qZA(),e.TgZ(72,"select",52)(73,"option",47),e._uU(74,"Select"),e.qZA(),e.TgZ(75,"option",53),e._uU(76,"12 Hours"),e.qZA(),e.TgZ(77,"option",54),e._uU(78,"1 Day"),e.qZA(),e.TgZ(79,"option",55),e._uU(80,"2 Days"),e.qZA(),e.TgZ(81,"option",56),e._uU(82,"3 Days"),e.qZA(),e.TgZ(83,"option",57),e._uU(84,"5 Days"),e.qZA()()()()()()()()()(),e.TgZ(85,"div",58),e._UZ(86,"input",59),e.TgZ(87,"button",60),e._UZ(88,"i",61),e._uU(89," Save"),e.qZA(),e.TgZ(90,"a",62),e._uU(91,"Cancel"),e.qZA()()()}if(2&i){const t=e.MAs(40),s=e.MAs(51),a=e.oxw(2);e.xp6(19),e.s9C("ngModel",a.casesName),e.xp6(5),e.s9C("ngModel",a.editedTitle),e.xp6(11),e.s9C("min",e.xi3(36,16,a.minDate,"yyyy-MM-dd")),e.Q6J("ngModel",a.editedstartDate)("owlDateTime",t),e.xp6(2),e.Q6J("owlDateTimeTrigger",t)("value",e.xi3(38,19,a.editedstartDate,"MM/dd/yyyy hh:mm a")),e.xp6(9),e.s9C("min",e.xi3(47,22,a.minDate,"yyyy-MM-dd")),e.Q6J("ngModel",a.editedDate)("owlDateTime",s),e.xp6(2),e.Q6J("owlDateTimeTrigger",s)("value",e.xi3(49,25,a.editedDate,"MM/dd/yyyy hh:mm a")),e.xp6(4),e.Q6J("ngIf",1==a.isvalidDate),e.xp6(5),e.s9C("ngModel",a.editdata.presentStatus),e.xp6(15),e.s9C("ngModel",a.editdata.reminder),e.xp6(14),e.s9C("ngModel",a.editdata.milestoneId)}}function Xe(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"form",20,21),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(1);return e.oxw().onSubmitMilestone(a)}),e.YNc(2,We,92,28,"div",22),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.sending)}}let Ke=(()=>{class i{constructor(t,s,a,l,r,o,p){this.location=t,this.dataService=s,this.router=a,this.utility=l,this.utilitydev=r,this.usr=o,this.route=p,this.jsonObj={caseId:"",patientId:"",patientName:"",title:"",description:{},startdate:0,duedate:0,presentStatus:0,reminder:0,milestoneId:""},this.casesName="",this.patientName="",this.isvalidDate=!1,this.minDate=new Date,this.getmilestoneId=this.route.snapshot.paramMap.get("milestoneId")}back(){this.location.back()}ngOnInit(){this.getEditMilestone()}getEditMilestone(){this.editdata="";let t=this.utility.apiData.userMilestones.ApiUrl,s=this.getmilestoneId;""!=s&&(t+="?milestoneId="+s),this.dataService.getallData(t,!0).subscribe(a=>{a&&(this.editdata=JSON.parse(a.toString()),this.setcvFast(),this.editedDate=new Date(this.editdata.duedate),this.editedstartDate=new Date(this.editdata.startdate),this.getCaseDetails(this.editdata.caseId),this.editedTitle=(0,N.decode)(this.editdata.title))},a=>{404===a.status?n()("No milestone found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}onSubmitMilestone(t){if(this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.dueDatetime),t.invalid||1==this.isvalidDate)return n()("Please enter values for the mandatory fields"),void t.form.markAllAsTouched();this.sending=!0,this.onGetdateData(t.value)}onGetdateData(t){this.jsonObj.milestoneId=t.milestoneId,this.jsonObj.title=this.removeHTML(t.title),(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObj.description=this.cvfastval.returnCvfast()),this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.duedate=Date.parse(t.dueDatetime),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.reminder=Number(t.reminder),this.jsonObj.caseId=this.caseId,this.jsonObj.patientId=this.patientId,this.jsonObj.patientName=this.patientName;const s=sessionStorage.getItem("backurl");this.cvfastval.processFiles(this.utility.apiData.userMilestones.ApiUrl,this.jsonObj,!0,"Milestone updated successfully",s,"put","","description","","Milestone title already exists.").then(a=>{this.sending=!1},a=>{this.sending=!1})}getCaseDetails(t){let s=this.utility.apiData.userCases.ApiUrl;""!=t&&(s+="?caseId="+t,this.dataService.getallData(s,!0).subscribe(a=>{a&&(this.tabledata=JSON.parse(a.toString()),this.casesName=this.tabledata.title,this.patientName=this.tabledata.patientName,this.patientId=this.tabledata.patientId,this.caseId=this.tabledata.caseId)},a=>{404===a.status?n()("No milestone found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")}))}setcvFast(){this.cvfastval.setCvfast(this.editdata.description)}removeHTML(t){if(""!=t&&"undefined"!=t&&null!=t){var s=document.createElement("DIV");return s.innerHTML=t,s.textContent||s.innerText||""}return""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.Ye),e.Y36(x.T),e.Y36(g.F0),e.Y36(A.t),e.Y36(w.F),e.Y36(y.f),e.Y36(g.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-milestone-edit"]],viewQuery:function(t,s){if(1&t&&e.Gf(b.x,5),2&t){let a;e.iGM(a=e.CRH())&&(s.cvfastval=a.first)}},decls:22,vars:4,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/milestones/milestones-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],["class","row",4,"ngIf"],["id","milestoneForm",3,"ngSubmit",4,"ngIf"],[1,"row"],[1,"col-md-12"],["src","https://assets6.lottiefiles.com/packages/lf20_fhsx0ijl/lottie/collections-feature.json","background","transparent","speed","1","loop","","autoplay","",1,"mt-3","m-auto",2,"width","300px","height","300px"],[1,"text-center","mt-5"],["id","milestoneForm",3,"ngSubmit"],["milestoneForm","ngForm"],["class","row align-items-center pt-2",4,"ngIf"],[1,"row","align-items-center","pt-2"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["type","text","value","","placeholder","Enter Case Title here","readonly","","maxlength","50","name","casetitle","id","casetitle",1,"form-control",3,"ngModel"],["type","text","placeholder","Enter Title","name","title","id","title","required","",1,"form-control",3,"ngModel"],[1,"col-ms-6","col-md-4"],[1,"form-label","body2","mb-3","text-dark"],[1,"date-container"],["name","startdate",1,"shadow-input",3,"min","ngModel","owlDateTime","ngModelChange"],["name","startdate","id","startdate","placeholder","Start Date & Time",1,"form-control",3,"owlDateTimeTrigger","value"],["dt2",""],["name","dueDatetime",1,"shadow-input",3,"min","ngModel","owlDateTime","ngModelChange"],["name","dueDatetime","id","dueDatetime","placeholder","Due Date & Time",1,"form-control",3,"owlDateTimeTrigger","value"],["dt1",""],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],["name","presentStatus","id","presentStatus","required","",1,"form-select",3,"ngModel"],["value",""],["value","1","selected",""],["value","2"],["value","3"],["value","4"],["name","reminder","id","reminder","required","",1,"form-select",3,"ngModel"],["value","12","selected",""],["value","24"],["value","48"],["value","72"],["value","120"],[1,"col-md-12","mt-3"],["type","hidden","name","milestoneId","maxlength","100","id","milestoneId",1,"form-control",3,"ngModel"],["type","submit",1,"btn","btn-default","me-2"],[1,"bx","bx-save"],["routerLink","/milestones/milestones-list",1,"btn","btn-secondary","mt-1","me-2"],[2,"color","#F7517F","font-weight","bold"]],template:function(t,s){1&t&&(e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Milestones"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Edit Milestone "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14),e.TgZ(15,"span",10),e._uU(16),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.YNc(20,Be,5,0,"div",14),e.YNc(21,Xe,3,1,"form",15)),2&t&&(e.xp6(14),e.hij("",s.patientName," "),e.xp6(2),e.Oqu(s.casesName),e.xp6(4),e.Q6J("ngIf",s.sending),e.xp6(1),e.Q6J("ngIf",!s.sending))},directives:[g.yS,c.O5,m._Y,m.JL,m.F,m.Fj,m.nD,m.JJ,m.On,m.Q7,b.x,f.BO,f.sZ,f.hV,m.EJ,m.YN,m.Kr],pipes:[c.uU],styles:[".date-container[_ngcontent-%COMP%]{position:relative}.shadow-input[_ngcontent-%COMP%]{position:absolute;top:22px;width:0px;height:0px;border:none}"]}),i})();function et(i,d){if(1&i&&(e.TgZ(0,"div",11)(1,"div",12)(2,"h3",13),e._uU(3),e.TgZ(4,"span",14),e._uU(5),e.qZA(),e.TgZ(6,"div",15),e._UZ(7,"div",16),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.hij("",t.tabledata.patientName," "),e.xp6(2),e.Oqu(t.tabledata.title)}}function tt(i,d){1&i&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"lottie-player",19),e.TgZ(3,"h6",20),e._uU(4,"Processing request....please wait, don't close this page"),e.qZA()()())}function at(i,d){1&i&&(e.TgZ(0,"span",60),e._uU(1," Due date & time should be greater than start date"),e.qZA())}function it(i,d){if(1&i&&(e.TgZ(0,"div",61)(1,"div",62)(2,"div",63),e._UZ(3,"img",64),e.TgZ(4,"div",65)(5,"div")(6,"h5",66),e._uU(7),e.qZA(),e.TgZ(8,"h6",67),e._uU(9),e.qZA()(),e.TgZ(10,"div")(11,"button",68),e._UZ(12,"i",69),e._uU(13," Add"),e.qZA()()()()()()),2&i){const t=d.item;e.xp6(3),e.Q6J("src",t.avatar,e.LSH),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.emailAddress)}}function st(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"span",70),e._UZ(1,"img",71),e._uU(2),e.qZA(),e.TgZ(3,"span",72),e.NdJ("click",function(){const a=e.CHM(t);return a.clear(a.item)}),e._uU(4,"\xd7"),e.qZA()}if(2&i){const t=d.item;e.xp6(1),e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",t.name,"")}}function nt(i,d){1&i&&(e.TgZ(0,"span",60),e._uU(1,"Referal to should not be blank!"),e.qZA())}function lt(i,d){if(1&i&&(e.TgZ(0,"div",73),e._UZ(1,"input",74)(2,"input",75)(3,"input",76)(4,"input",77),e.TgZ(5,"button",78),e._UZ(6,"i",79),e._uU(7," Save "),e.qZA(),e.TgZ(8,"a",80),e._uU(9,"Cancel"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.s9C("ngModel",t.tabledata.caseId),e.xp6(1),e.s9C("ngModel",t.tabledata.patientId),e.xp6(1),e.s9C("ngModel",t.tabledata.patientName),e.xp6(5),e.MGl("routerLink","/milestones/milestone-details/",t.milestoneIdadd,"")}}function ot(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"form",22,23),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(2);return e.oxw().onSubmitTask(a)}),e.TgZ(3,"div",18)(4,"div",24)(5,"div",25)(6,"div",17)(7,"div",26)(8,"h5",27),e._uU(9,"Add General Task"),e.qZA()(),e.TgZ(10,"div",28)(11,"a",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e._uU(12,"Back "),e.qZA()()()(),e.TgZ(13,"div",30)(14,"div",31)(15,"div",18)(16,"div",17)(17,"div",32)(18,"div",33)(19,"label",34),e._uU(20,"Title "),e.qZA(),e._UZ(21,"input",35),e.qZA()(),e.TgZ(22,"div",32)(23,"div",33)(24,"label",34),e._uU(25,"Start Date"),e.qZA(),e._UZ(26,"input",36),e.ALo(27,"date"),e._UZ(28,"owl-date-time",37,38),e.qZA()(),e.TgZ(30,"div",32)(31,"div",33)(32,"label",34),e._uU(33,"Due Date & Time"),e.qZA(),e._UZ(34,"input",39),e.ALo(35,"date"),e._UZ(36,"owl-date-time",null,40),e.YNc(38,at,2,0,"span",41),e.qZA()(),e.TgZ(39,"div",32)(40,"div",33)(41,"label",34),e._uU(42,"Status"),e.qZA(),e.TgZ(43,"select",42)(44,"option",43),e._uU(45,"Select"),e.qZA(),e.TgZ(46,"option",44),e._uU(47,"Active"),e.qZA(),e.TgZ(48,"option",45),e._uU(49,"Inactive"),e.qZA(),e.TgZ(50,"option",46),e._uU(51,"Pending"),e.qZA(),e.TgZ(52,"option",47),e._uU(53,"Completed"),e.qZA()()()(),e.TgZ(54,"div",32)(55,"div",33)(56,"label",34),e._uU(57,"Assign Member"),e.qZA(),e.TgZ(58,"div",48),e._UZ(59,"i",49),e.TgZ(60,"ng-select",50),e.NdJ("ngModel",function(){return e.CHM(t),e.oxw().selectedCity})("change",function(a){return e.CHM(t),e.oxw().selectEvent(a)}),e.YNc(61,it,14,3,"ng-template",51),e.YNc(62,st,5,2,"ng-template",52),e.qZA()(),e.YNc(63,nt,2,0,"span",41),e.qZA()(),e.TgZ(64,"div",32)(65,"div",33)(66,"label",34),e._uU(67,"Add Reminder"),e.qZA(),e.TgZ(68,"select",53)(69,"option",43),e._uU(70,"Select"),e.qZA(),e.TgZ(71,"option",54),e._uU(72,"12 Hours"),e.qZA(),e.TgZ(73,"option",55),e._uU(74,"1 Day"),e.qZA(),e.TgZ(75,"option",56),e._uU(76,"2 Days"),e.qZA(),e.TgZ(77,"option",57),e._uU(78,"3 Days"),e.qZA(),e.TgZ(79,"option",58),e._uU(80,"5 Days"),e.qZA()()()(),e.TgZ(81,"div",18)(82,"div",33)(83,"label",34),e._uU(84,"Description"),e.qZA(),e._UZ(85,"app-cvfast"),e.qZA()()()()()()()(),e.YNc(86,lt,10,4,"div",59),e.qZA()()}if(2&i){const t=e.MAs(29),s=e.MAs(37),a=e.oxw();e.xp6(26),e.s9C("min",e.xi3(27,13,a.minStartDate,"yyyy-MM-dd")),e.Q6J("owlDateTime",t)("owlDateTimeTrigger",t),e.xp6(2),e.Q6J("pickerType","calendar"),e.xp6(6),e.s9C("min",e.xi3(35,16,a.minDate,"yyyy-MM-dd")),e.Q6J("owlDateTime",s)("owlDateTimeTrigger",s),e.xp6(4),e.Q6J("ngIf",1==a.isvalidDate),e.xp6(22),e.Q6J("items",a.allMember)("multiple",!0)("hideSelected",!0),e.xp6(3),e.Q6J("ngIf",1==a.isvalidRefereTo),e.xp6(23),e.Q6J("ngIf",a.tabledata)}}let dt=(()=>{class i{constructor(t,s,a,l,r,o){this.location=t,this.dataService=s,this.router=a,this.utility=l,this.utilitydev=r,this.usr=o,this.allMember=[],this.allMemberEmail=[],this.allMemberName=[],this.selectedCity="",this.module="patient",this.minDate=new Date,this.minStartDate=new Date,this.defaultBindingsList=[{value:1,label:"Jhone Duo"},{value:2,label:"Danel Gray"},{value:3,label:"Pavilnys"}],this.isvalidDate=!1,this.isvalidRefereTo=!1,this.jsonObj={caseId:"",patientId:"",patientName:"",title:"",description:{},startdate:0,duedate:0,presentStatus:0,reminder:0,memberMail:"",memberName:"",milestoneId:""}}back(){this.location.back()}ngOnInit(){this.minStartDate.setDate(this.minStartDate.getDate()-1),this.selectedMember=this.defaultBindingsList[0],this.getCaseDetails(),this.getAllMembers(),this.milestoneIdadd=sessionStorage.getItem("milestoneId")}getuserdetailsall(t,s){if(this.usr.getUserDetails(!1)){let l=this.utility.apiData.userColleague.ApiUrl;""!=t&&(l+="?emailAddress="+t),this.dataService.getallData(l,!0).subscribe(r=>{if(r){let o=JSON.parse(r.toString()),p="";p=null!=o.imageSrc?"https://dentallive-accounts.s3-us-west-2.amazonaws.com/"+o.imageSrc:"assets/images/users.png",this.allMember[s].name=o.accountfirstName+" "+o.accountlastName,this.allMember[s].emailAddress=o.emailAddress,this.allMember[s].avatar=p}},r=>(404===r.status?n()("No task found"):403===r.status?n()("You are unauthorized to access the data"):400===r.status?n()("Invalid data provided, please try again"):401===r.status?n()("You are unauthorized to access the page"):409===r.status?n()("Duplicate data entered"):405===r.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===r.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}getAllMembers(){if(this.usr.getUserDetails(!1)){this.sending=!0;let s=this.utility.apiData.userCaseInvites.ApiUrl,a=sessionStorage.getItem("caseId");""!=a&&(s+="?caseId="+a),s+="&presentStatus=1",this.dataService.getallData(s,!0).subscribe(l=>{if(l){let o=JSON.parse(l.toString());o.sort((p,u)=>p.dateUpdated>u.dateUpdated?-1:1),this.allMember=Array();for(var r=0;r<o.length;r++)this.allMember.push({id:r,avatar:"",emailAddress:"",name:""}),this.getuserdetailsall(o[r].invitedUserMail,r);this.sending=!1}},l=>{404===l.status?n()("No task found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}}selectEvent(t){this.allMemberEmail=Array(),this.allMemberName=Array();for(var s=0;s<t.length;s++)this.allMemberEmail.push(t[s].emailAddress),this.allMemberName.push(t[s].name),this.isvalidRefereTo=!1}onSubmitTask(t){if(this.isvalidRefereTo=0==this.allMemberEmail.length,this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.dueDatetime),t.invalid||1==this.isvalidDate||1==this.isvalidRefereTo)return n()("Please enter values for the mandatory fields"),void t.form.markAllAsTouched();this.sending=!0,this.onGetdateData(t.value)}onGetdateData(t){this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,this.jsonObj.patientName=t.patientname,this.jsonObj.title=this.removeHTML(t.title),(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObj.description=this.cvfastval.returnCvfast()),this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.duedate=Date.parse(t.dueDatetime),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.reminder=Number(t.reminder);let s=this.allMemberEmail.join(", "),a=this.allMemberName.join(", ");this.jsonObj.memberMail=s,this.jsonObj.memberName=a,this.jsonObj.milestoneId=this.milestoneIdadd,this.cvfastval.processFiles(this.utility.apiData.userTasks.ApiUrl,this.jsonObj,!0,"Task added successfully","/milestones/milestone-details/"+this.milestoneIdadd,"post","","description","","Task title already exists.").then(l=>{this.sending=!1},l=>{this.sending=!1})}getCaseDetails(){let t=this.utility.apiData.userCases.ApiUrl,s=sessionStorage.getItem("caseId");""!=s&&(t+="?caseId="+s),this.dataService.getallData(t,!0).subscribe(a=>{a&&(this.tabledata=JSON.parse(a.toString()))},a=>{404===a.status?n()("No task found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}removeHTML(t){if(""!=t&&"undefined"!=t&&null!=t){var s=document.createElement("DIV");return s.innerHTML=t,s.textContent||s.innerText||""}return""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.Ye),e.Y36(x.T),e.Y36(g.F0),e.Y36(A.t),e.Y36(w.F),e.Y36(y.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-general-task-add"]],viewQuery:function(t,s){if(1&t&&e.Gf(b.x,5),2&t){let a;e.iGM(a=e.CRH())&&(s.cvfastval=a.first)}},decls:15,vars:3,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/milestones/milestones-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],["class","col-md-6",4,"ngIf"],[1,"col-md-6","text-end"],["class","row",4,"ngIf"],["class","row align-items-center pt-2",4,"ngIf"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"row"],[1,"col-md-12"],["src","https://assets6.lottiefiles.com/packages/lf20_fhsx0ijl/lottie/collections-feature.json","background","transparent","speed","1","loop","","autoplay","",1,"mt-3","m-auto",2,"width","300px","height","300px"],[1,"text-center","mt-5"],[1,"row","align-items-center","pt-2"],["id","taskForm",3,"ngSubmit"],["taskForm","ngForm"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],[1,"col-md-4"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["type","text","placeholder","Enter Title here","name","title","id","title","required","","ngModel","",1,"form-control"],["name","startdate","id","startdate","placeholder","Start Date","required","","ngModel","",1,"form-control",3,"min","owlDateTime","owlDateTimeTrigger"],[3,"pickerType"],["sd",""],["name","dueDatetime","id","dueDatetime","placeholder","Due Date & Time","required","","ngModel","",1,"form-control",3,"min","owlDateTime","owlDateTimeTrigger"],["dt1",""],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],["name","presentStatus","id","presentStatus","required","","ngModel","1",1,"form-select"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"search","search-md","search-filter","search-filter-sm"],[1,"bx","bx-search"],["bindLabel","name","bindValue","name",3,"items","multiple","hideSelected","ngModel","change"],["ng-option-tmp",""],["ng-label-tmp",""],["name","reminder","id","reminder","ngModel","","required","",1,"form-select"],["value","12","selected",""],["value","24"],["value","48"],["value","72"],["value","120"],["class","col-md-12 mt-3",4,"ngIf"],[2,"color","#F7517F","font-weight","bold"],[1,"card","card-lists"],[1,"card-body","p-0"],[1,"d-flex","align-items-center"],[1,"rounded-circle","me-2","img-thumbnail","shadow-sm",2,"height","50px","width","50px",3,"src"],[1,"d-flex","align-items-center","justify-content-between","search-list-content"],["ngOptionHighlight","search",1,"card-title",2,"white-space","normal"],[1,"card-subtitle","text-muted",2,"white-space","normal","word-wrap","anywhere"],["type","button",1,"btn","btn-outline-primary","btn-sm","ms-2"],[1,"bx","bx-user-plus"],[1,"ng-value-label"],["width","20px","height","20px",1,"rounded-circle","me-1",3,"src"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[1,"col-md-12","mt-3"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","patientname","id","patientname",3,"ngModel"],["type","hidden","name","memberMail","id","memberMail","ngModel","jhon@gmail.com"],["type","submit",1,"btn","btn-default","me-2"],[1,"bx","bx-save"],[1,"btn","btn-secondary",3,"routerLink"]],template:function(t,s){1&t&&(e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Milestones"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Add General Task "),e.qZA()(),e.TgZ(10,"div",6),e.YNc(11,et,8,2,"div",7),e._UZ(12,"div",8),e.qZA(),e.YNc(13,tt,5,0,"div",9),e.YNc(14,ot,87,19,"div",10)),2&t&&(e.xp6(11),e.Q6J("ngIf",s.tabledata),e.xp6(2),e.Q6J("ngIf",s.sending),e.xp6(1),e.Q6J("ngIf",!s.sending))},directives:[g.yS,c.O5,m._Y,m.JL,m.F,m.Fj,m.Q7,m.JJ,m.On,f.BO,f.sZ,f.hV,m.EJ,m.YN,m.Kr,Z.w9,Z.ir,Z.mR,b.x],pipes:[c.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.card-lists[_ngcontent-%COMP%]{box-shadow:none;background:transparent}.search-list-content[_ngcontent-%COMP%]{width:calc(100% - 96px)}.card-lists[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:18px}.card-lists[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:14px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]{max-height:340px}.search-filter-sm[_ngcontent-%COMP%]   .search-list-content[_ngcontent-%COMP%]{width:calc(100% - 30px)}.search-filter-sm[_ngcontent-%COMP%]   .card-lists[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:14px}.search-filter-sm[_ngcontent-%COMP%]   .card-lists[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .search-filter-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:12px}.search-filter-sm[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:2px 8px}"]}),i})();function rt(i,d){if(1&i&&(e.TgZ(0,"div",12)(1,"h3",13),e._uU(2),e.TgZ(3,"span",14),e._uU(4),e.qZA(),e.TgZ(5,"div",15),e._UZ(6,"div",16),e.qZA()()()),2&i){const t=e.oxw();e.xp6(2),e.hij("",t.tabledata.patientName," "),e.xp6(2),e.Oqu(t.tabledata.title)}}function pt(i,d){1&i&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"lottie-player",19),e.TgZ(3,"h6",20),e._uU(4,"Processing request....please wait, don't close this page"),e.qZA()()())}function mt(i,d){1&i&&(e.TgZ(0,"span",65),e._uU(1," Due date & time should be greater than start date"),e.qZA())}function ct(i,d){if(1&i&&(e.TgZ(0,"div",66)(1,"div",67)(2,"div",68),e._UZ(3,"img",69),e.TgZ(4,"div",70)(5,"div")(6,"h5",71),e._uU(7),e.qZA(),e.TgZ(8,"h6",72),e._uU(9),e.qZA()(),e.TgZ(10,"div")(11,"button",73),e._UZ(12,"i",74),e._uU(13," Add"),e.qZA()()()()()()),2&i){const t=d.item;e.xp6(3),e.Q6J("src",t.avatar,e.LSH),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.emailAddress)}}function ut(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"span",75),e._UZ(1,"img",76),e._uU(2),e.qZA(),e.TgZ(3,"span",77),e.NdJ("click",function(){const a=e.CHM(t);return a.clear(a.item)}),e._uU(4,"\xd7"),e.qZA()}if(2&i){const t=d.item;e.xp6(1),e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",t.name,"")}}function gt(i,d){1&i&&(e.TgZ(0,"span",65),e._uU(1,"Referal to should not be blank!"),e.qZA())}function ht(i,d){if(1&i&&(e.TgZ(0,"div",78),e._UZ(1,"input",79)(2,"input",80)(3,"input",81)(4,"input",82)(5,"input",83)(6,"input",84),e.TgZ(7,"button",85),e._UZ(8,"i",86),e._uU(9," Save "),e.qZA(),e.TgZ(10,"a",87),e._uU(11,"Cancel"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.s9C("ngModel",t.editdata.taskId),e.xp6(1),e.s9C("ngModel",t.editdata.caseId),e.xp6(1),e.s9C("ngModel",t.editdata.patientId),e.xp6(1),e.s9C("ngModel",t.editdata.patientName),e.xp6(1),e.s9C("ngModel",t.editdata.memberMail),e.xp6(1),e.s9C("ngModel",t.editdata.milestoneId),e.xp6(4),e.MGl("routerLink","/milestones/milestone-details/",t.editdata.milestoneId,"")}}const _t=function(){return{standalone:!0}};function ft(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"form",22,23),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(2);return e.oxw().onSubmitTask(a)}),e.TgZ(3,"div",18)(4,"div",24)(5,"div",25)(6,"div",17)(7,"div",26)(8,"h5",27),e._uU(9,"Edit General Task"),e.qZA()(),e.TgZ(10,"div",28)(11,"a",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e._uU(12,"Back "),e.qZA()()()(),e.TgZ(13,"div",30)(14,"div",31)(15,"div",18)(16,"div",17)(17,"div",32)(18,"div",33)(19,"label",34),e._uU(20,"Title "),e.qZA(),e._UZ(21,"input",35),e.qZA()(),e.TgZ(22,"div",36)(23,"div",33)(24,"label",37),e._uU(25,"Start Date & Time"),e.qZA(),e.TgZ(26,"div",38)(27,"input",39),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().editedstartDate=a}),e.ALo(28,"date"),e.qZA(),e._UZ(29,"input",40),e.ALo(30,"date"),e._UZ(31,"owl-date-time",41,42),e.qZA()()(),e.TgZ(33,"div",36)(34,"div",33)(35,"label",37),e._uU(36,"Due Date & Time"),e.qZA(),e.TgZ(37,"div",38)(38,"input",43),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().editedDate=a}),e.ALo(39,"date"),e.qZA(),e._UZ(40,"input",44),e.ALo(41,"date"),e._UZ(42,"owl-date-time",null,45),e.YNc(44,mt,2,0,"span",46),e.qZA()()(),e.TgZ(45,"div",32)(46,"div",33)(47,"label",34),e._uU(48,"Status"),e.qZA(),e.TgZ(49,"select",47)(50,"option",48),e._uU(51,"Select"),e.qZA(),e.TgZ(52,"option",49),e._uU(53,"Active"),e.qZA(),e.TgZ(54,"option",50),e._uU(55,"Inactive"),e.qZA(),e.TgZ(56,"option",51),e._uU(57,"Pending"),e.qZA(),e.TgZ(58,"option",52),e._uU(59,"Completed"),e.qZA()()()(),e.TgZ(60,"div",32)(61,"div",33)(62,"label",34),e._uU(63,"Assign Member"),e.qZA(),e.TgZ(64,"div",53),e._UZ(65,"i",54),e.TgZ(66,"ng-select",55),e.NdJ("change",function(a){return e.CHM(t),e.oxw().selectEvent(a)})("ngModelChange",function(a){return e.CHM(t),e.oxw().selectedCity=a}),e.YNc(67,ct,14,3,"ng-template",56),e.YNc(68,ut,5,2,"ng-template",57),e.qZA()(),e.YNc(69,gt,2,0,"span",46),e.qZA()(),e.TgZ(70,"div",32)(71,"div",33)(72,"label",34),e._uU(73,"Add Reminder"),e.qZA(),e.TgZ(74,"select",58)(75,"option",48),e._uU(76,"Select"),e.qZA(),e.TgZ(77,"option",59),e._uU(78,"12 Hours"),e.qZA(),e.TgZ(79,"option",60),e._uU(80,"1 Day"),e.qZA(),e.TgZ(81,"option",61),e._uU(82,"2 Days"),e.qZA(),e.TgZ(83,"option",62),e._uU(84,"3 Days"),e.qZA(),e.TgZ(85,"option",63),e._uU(86,"5 Days"),e.qZA()()()(),e.TgZ(87,"div",18)(88,"div",33)(89,"label",34),e._uU(90,"Description"),e.qZA(),e._UZ(91,"app-cvfast"),e.qZA()()()()()()()(),e.YNc(92,ht,12,7,"div",64),e.qZA()()}if(2&i){const t=e.MAs(32),s=e.MAs(43),a=e.oxw();e.xp6(21),e.s9C("ngModel",a.editedTitle),e.xp6(6),e.s9C("min",e.xi3(28,22,a.minStartDate,"yyyy-MM-dd")),e.Q6J("ngModel",a.editedstartDate)("owlDateTime",t),e.xp6(2),e.Q6J("owlDateTimeTrigger",t)("value",e.xi3(30,25,a.editedstartDate,"MM/dd/yyyy")),e.xp6(2),e.Q6J("pickerType","calendar"),e.xp6(7),e.s9C("min",e.xi3(39,28,a.minDate,"yyyy-MM-dd")),e.Q6J("ngModel",a.editedDate)("owlDateTime",s),e.xp6(2),e.Q6J("owlDateTimeTrigger",s)("value",e.xi3(41,31,a.editedDate,"MM/dd/yyyy hh:mm a")),e.xp6(4),e.Q6J("ngIf",1==a.isvalidDate),e.xp6(5),e.s9C("ngModel",a.presentStatusEdit),e.xp6(17),e.Q6J("items",a.allMember)("multiple",!0)("ngModel",a.selectedCity)("ngModelOptions",e.DdM(34,_t))("hideSelected",!0),e.xp6(3),e.Q6J("ngIf",1==a.isvalidRefereTo),e.xp6(5),e.s9C("ngModel",a.reminderEdit),e.xp6(18),e.Q6J("ngIf",a.editdata)}}let vt=(()=>{class i{constructor(t,s,a,l,r,o,p){this.location=t,this.dataService=s,this.router=a,this.utility=l,this.utilitydev=r,this.usr=o,this.route=p,this.allMember=[],this.allMemberEmail=[],this.allMemberName=[],this.selectedCityName=[],this.jsonObj={caseId:"",patientId:"",patientName:"",title:"",description:{},startdate:0,duedate:0,presentStatus:0,reminder:0,memberMail:"",memberName:"",taskId:"",milestoneId:""},this.presentStatusEdit=0,this.reminderEdit=0,this.isvalidDate=!1,this.isvalidRefereTo=!1,this.minDate=new Date,this.minStartDate=new Date,this.gettaskId=this.route.snapshot.paramMap.get("taskId")}back(){this.location.back()}ngOnInit(){this.minStartDate.setDate(this.minStartDate.getDate()-1),this.getEditTasks()}getuserdetailsall(t,s){return new Promise((a,l)=>{if(this.usr.getUserDetails(!1)){let o=this.utility.apiData.userColleague.ApiUrl;""!=t&&(o+="?emailAddress="+t),this.dataService.getallData(o,!0).subscribe(p=>{if(p){let u=JSON.parse(p.toString()),_="";_=null!=u.imageSrc?"https://dentallive-accounts.s3-us-west-2.amazonaws.com/"+u.imageSrc:"assets/images/users.png",this.allMember[s].name=u.accountfirstName+" "+u.accountlastName,this.allMember[s].emailAddress=u.emailAddress,this.allMember[s].avatar=_,a(!0)}},p=>(a(!0),404===p.status?n()("No task found"):403===p.status?n()("You are unauthorized to access the data"):400===p.status?n()("Invalid data provided, please try again"):401===p.status?n()("You are unauthorized to access the page"):409===p.status?n()("Duplicate data entered"):405===p.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===p.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}})}getAllMembers(t){if(this.usr.getUserDetails(!1)){let a=this.utility.apiData.userCaseInvites.ApiUrl;""!=t&&(a+="?caseId="+t),a+="&presentStatus=1",this.dataService.getallData(a,!0).subscribe(l=>{if(l){let o=JSON.parse(l.toString());o.sort((u,_)=>u.dateUpdated>_.dateUpdated?-1:1),this.allMember=Array();let p=0;for(var r=0;r<o.length;r++)p++,this.allMember.push({id:r,avatar:"",emailAddress:"",name:""}),this.getuserdetailsall(o[r].invitedUserMail,r).then(u=>{},u=>{});o.length==p&&this.userdetailsall(this.allMemberEmail)}},l=>{404===l.status?n()("No task found"):403===l.status?n()("You are unauthorized to access the data"):400===l.status?n()("Invalid data provided, please try again"):401===l.status?n()("You are unauthorized to access the page"):409===l.status?n()("Duplicate data entered"):405===l.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===l.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}}selectEvent(t){this.allMemberEmail=Array(),this.allMemberName=Array();for(var s=0;s<t.length;s++)this.allMemberEmail.push(t[s].emailAddress),this.allMemberName.push(t[s].name),this.isvalidRefereTo=!1}onSubmitTask(t){if(this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.dueDatetime),this.isvalidRefereTo=0==this.allMemberEmail.length,t.invalid||1==this.isvalidDate||1==this.isvalidRefereTo)return n()("Please enter values for the mandatory fields"),void t.form.markAllAsTouched();this.sending=!0,this.onGetdateData(t.value)}onGetdateData(t){this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,this.jsonObj.patientName=t.patientname,this.jsonObj.title=this.removeHTML(t.title),this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.duedate=Date.parse(t.dueDatetime),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.reminder=Number(t.reminder),this.jsonObj.taskId=t.taskId;let s=this.allMemberEmail.join(", "),a=this.allMemberName.join(", ");this.jsonObj.memberMail=s,this.jsonObj.memberName=a,this.jsonObj.milestoneId=t.milestoneId,this.cvfastval.processFiles(this.utility.apiData.userTasks.ApiUrl,this.jsonObj,!0,"Task Updated successfully","milestones/milestone-details/"+t.milestoneId,"put","","description","","Task title already exists.").then(l=>{this.sending=!1},l=>{this.sending=!1})}getCaseDetails(t){this.tabledata="";let s=this.utility.apiData.userCases.ApiUrl;""!=t&&(s+="?caseId="+t),this.dataService.getallData(s,!0).subscribe(a=>{a&&(this.tabledata=JSON.parse(a.toString()))},a=>{404===a.status?n()("No task found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}setcvFast(){this.cvfastval.setCvfast(this.editdata.description)}userdetailsall(t){if(this.usr.getUserDetails(!1)){let l=0;for(var a=0;a<t.length;a++){let r=this.utility.apiData.userColleague.ApiUrl;r+="?emailAddress="+t[a].trim(),this.dataService.getallData(r,!0).subscribe(o=>{if(o){let p=JSON.parse(o.toString());this.selectedCityName.push(p.accountfirstName+" "+p.accountlastName),l++,t.length==l&&(this.selectedCity=this.selectedCityName)}},o=>(404===o.status?n()("No workorder found"):403===o.status?n()("You are unauthorized to access the data"):400===o.status?n()("Invalid data provided, please try again"):401===o.status?n()("You are unauthorized to access the page"):409===o.status?n()("Duplicate data entered"):405===o.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===o.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again"),!1))}}}getEditTasks(){let t=this.utility.apiData.userTasks.ApiUrl,s=this.gettaskId;""!=s&&(t+="?taskId="+s),this.dataService.getallData(t,!0).subscribe(a=>{a&&(this.editdata=JSON.parse(a.toString()),this.allMemberEmail=this.editdata.memberMail.split(","),this.allMemberName=this.editdata.memberName.split(","),this.getAllMembers(this.editdata.caseId),this.getCaseDetails(this.editdata.caseId),this.editedDate=new Date(this.editdata.duedate),this.editedstartDate=new Date(this.editdata.startdate),this.editedTitle=(0,N.decode)(this.editdata.title),this.presentStatusEdit=this.editdata.presentStatus,this.reminderEdit=this.editdata.reminder,this.setcvFast())},a=>{404===a.status?n()("No task found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}removeHTML(t){if(""!=t&&"undefined"!=t&&null!=t){var s=document.createElement("DIV");return s.innerHTML=t,s.textContent||s.innerText||""}return""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.Ye),e.Y36(x.T),e.Y36(g.F0),e.Y36(A.t),e.Y36(w.F),e.Y36(y.f),e.Y36(g.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-general-task-edit"]],viewQuery:function(t,s){if(1&t&&e.Gf(b.x,5),2&t){let a;e.iGM(a=e.CRH())&&(s.cvfastval=a.first)}},decls:16,vars:3,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/milestones/milestones-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],["class","d-inline-block",4,"ngIf"],[1,"col-md-6","text-end"],["class","row",4,"ngIf"],["class","row align-items-center pt-2",4,"ngIf"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"row"],[1,"col-md-12"],["src","https://assets6.lottiefiles.com/packages/lf20_fhsx0ijl/lottie/collections-feature.json","background","transparent","speed","1","loop","","autoplay","",1,"mt-3","m-auto",2,"width","300px","height","300px"],[1,"text-center","mt-5"],[1,"row","align-items-center","pt-2"],["id","taskForm",3,"ngSubmit"],["taskForm","ngForm"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],[1,"col-md-4"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["type","text","placeholder","Enter Title here","name","title","id","title","required","","maxlength","50",1,"form-control",3,"ngModel"],[1,"col-ms-6","col-md-4"],[1,"form-label","body2","mb-3","text-dark"],[1,"date-container"],["name","startdate",1,"shadow-input",3,"min","ngModel","owlDateTime","ngModelChange"],["name","startdate","id","startdate","placeholder","Start Date & Time",1,"form-control",3,"owlDateTimeTrigger","value"],[3,"pickerType"],["dt2",""],["name","dueDatetime",1,"shadow-input",3,"min","ngModel","owlDateTime","ngModelChange"],["name","dueDatetime","id","dueDatetime","placeholder","Due Date & Time",1,"form-control",3,"owlDateTimeTrigger","value"],["dt1",""],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],["name","presentStatus","id","presentStatus","required","",1,"form-select",3,"ngModel"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"search","search-md","search-filter","search-filter-sm"],[1,"bx","bx-search"],["bindLabel","name","bindValue","name",3,"items","multiple","ngModel","ngModelOptions","hideSelected","change","ngModelChange"],["ng-option-tmp",""],["ng-label-tmp",""],["name","reminder","id","reminder","required","",1,"form-select",3,"ngModel"],["value","12"],["value","24"],["value","48"],["value","72"],["value","120"],["class","col-md-12 mt-3",4,"ngIf"],[2,"color","#F7517F","font-weight","bold"],[1,"card","card-lists"],[1,"card-body","p-0"],[1,"d-flex","align-items-center"],[1,"rounded-circle","me-2","img-thumbnail","shadow-sm",2,"height","50px","width","50px",3,"src"],[1,"d-flex","align-items-center","justify-content-between","search-list-content"],["ngOptionHighlight","search",1,"card-title",2,"white-space","normal"],[1,"card-subtitle","text-muted",2,"white-space","normal","word-wrap","anywhere"],["type","button",1,"btn","btn-outline-primary","btn-sm","ms-2"],[1,"bx","bx-user-plus"],[1,"ng-value-label"],["width","20px","height","20px",1,"rounded-circle","me-1",3,"src"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],[1,"col-md-12","mt-3"],["type","hidden","name","taskId","id","taskId",3,"ngModel"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","patientname","id","patientname",3,"ngModel"],["type","hidden","name","memberMail","id","memberMail",3,"ngModel"],["type","hidden","name","milestoneId","id","milestoneId",3,"ngModel"],["type","submit",1,"btn","btn-default","me-2"],[1,"bx","bx-save"],[1,"btn","btn-secondary",3,"routerLink"]],template:function(t,s){1&t&&(e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Milestones"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Edit General Task "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7),e.YNc(12,rt,7,2,"div",8),e.qZA(),e._UZ(13,"div",9),e.qZA(),e.YNc(14,pt,5,0,"div",10),e.YNc(15,ft,93,35,"div",11)),2&t&&(e.xp6(12),e.Q6J("ngIf",s.tabledata),e.xp6(2),e.Q6J("ngIf",s.sending),e.xp6(1),e.Q6J("ngIf",!s.sending))},directives:[g.yS,c.O5,m._Y,m.JL,m.F,m.Fj,m.Q7,m.nD,m.JJ,m.On,f.BO,f.sZ,f.hV,m.EJ,m.YN,m.Kr,Z.w9,Z.ir,Z.mR,b.x],pipes:[c.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.card-lists[_ngcontent-%COMP%]{box-shadow:none;background:transparent}.search-list-content[_ngcontent-%COMP%]{width:calc(100% - 96px)}.card-lists[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:18px}.card-lists[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:14px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]{max-height:340px}.date-container[_ngcontent-%COMP%]{position:relative}.shadow-input[_ngcontent-%COMP%]{position:absolute;top:22px;width:0px;height:0px;border:none}.search-filter-sm[_ngcontent-%COMP%]   .search-list-content[_ngcontent-%COMP%]{width:calc(100% - 30px)}.search-filter-sm[_ngcontent-%COMP%]   .card-lists[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:14px}.search-filter-sm[_ngcontent-%COMP%]   .card-lists[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .search-filter-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:12px}.search-filter-sm[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:2px 8px}"]}),i})();const bt=["videoPlayer"];function Zt(i,d){if(1&i&&(e.TgZ(0,"div",22)(1,"h3",23),e._uU(2),e.TgZ(3,"span",24),e._uU(4),e.qZA(),e.TgZ(5,"div",25),e._UZ(6,"div",26),e.qZA()()()),2&i){const t=e.oxw();e.xp6(2),e.hij("",t.tabledata.patientName," "),e.xp6(2),e.Oqu(t.tabledata.title)}}function Tt(i,d){if(1&i&&(e.TgZ(0,"a",54),e._UZ(1,"img",55),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(1),e.s9C("src",t.ImageUrl,e.LSH)}}function xt(i,d){if(1&i&&(e.TgZ(0,"a",54),e._UZ(1,"img",56),e._uU(2),e.qZA()),2&i){const t=e.oxw().$implicit;e.s9C("href",t.ImageUrl,e.LSH),e.xp6(2),e.Oqu(t.imgName)}}function At(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"video",57,58),e.NdJ("play",function(){return e.CHM(t),e.oxw(4).video()}),e._UZ(2,"source",59),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.s9C("src",t.ImageUrl,e.LSH)}}function yt(i,d){if(1&i&&(e.TgZ(0,"div",49)(1,"div",50)(2,"div",51),e._uU(3," \xa0"),e.YNc(4,Tt,2,2,"a",52),e.YNc(5,xt,3,2,"a",52),e.YNc(6,At,3,1,"video",53),e.qZA()()()),2&i){const t=d.$implicit;e.xp6(4),e.Q6J("ngIf","png"==t.imgName.split(".").pop()||"jpg"==t.imgName.split(".").pop()||"jpeg"==t.imgName.split(".").pop()||"gif"==t.imgName.split(".").pop()||"PNG"==t.imgName.split(".").pop()||"JPG"==t.imgName.split(".").pop()||"JPEG"==t.imgName.split(".").pop()||"GIF"==t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","png"!=t.imgName.split(".").pop()&&"jpg"!=t.imgName.split(".").pop()&&"jpeg"!=t.imgName.split(".").pop()&&"gif"!=t.imgName.split(".").pop()&&"PNG"!=t.imgName.split(".").pop()&&"JPG"!=t.imgName.split(".").pop()&&"JPEG"!=t.imgName.split(".").pop()&&"GIF"!=t.imgName.split(".").pop()&&"mp4"!=t.imgName.split(".").pop()&&"MP4"!=t.imgName.split(".").pop()&&"3gp"!=t.imgName.split(".").pop()&&"3GP"!=t.imgName.split(".").pop()&&"avi"!=t.imgName.split(".").pop()&&"AVI"!=t.imgName.split(".").pop()&&"wmv"!=t.imgName.split(".").pop()&&"WMV"!=t.imgName.split(".").pop()&&"mov"!=t.imgName.split(".").pop()&&"MOV"!=t.imgName.split(".").pop()),e.xp6(1),e.Q6J("ngIf","mp4"==t.imgName.split(".").pop()||"MP4"==t.imgName.split(".").pop()||"3gp"==t.imgName.split(".").pop()||"3GP"==t.imgName.split(".").pop()||"avi"==t.imgName.split(".").pop()||"AVI"==t.imgName.split(".").pop()||"wmv"==t.imgName.split(".").pop()||"WMV"==t.imgName.split(".").pop()||"mov"==t.imgName.split(".").pop()||"MOV"==t.imgName.split(".").pop())}}function Mt(i,d){if(1&i&&(e.TgZ(0,"div",45)(1,"div",46)(2,"label",47),e._uU(3,"Assets : "),e.qZA(),e.TgZ(4,"div",14),e.YNc(5,yt,7,3,"div",48),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.attachmentFiles)}}function wt(i,d){if(1&i&&(e.TgZ(0,"div",14)(1,"div",27)(2,"div",28)(3,"label",29),e._uU(4,"Title "),e.qZA(),e._UZ(5,"input",30),e.qZA()(),e.TgZ(6,"div",27)(7,"div",28)(8,"label",29),e._uU(9,"Start Date"),e.qZA(),e._UZ(10,"input",31),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"div",27)(13,"div",28)(14,"label",29),e._uU(15,"Due Date & Time"),e.qZA(),e._UZ(16,"input",32),e.ALo(17,"date"),e.qZA()(),e.TgZ(18,"div",27)(19,"div",28)(20,"label",29),e._uU(21,"Status"),e.qZA(),e.TgZ(22,"select",33)(23,"option",34),e._uU(24,"Select"),e.qZA(),e.TgZ(25,"option",35),e._uU(26,"Active"),e.qZA(),e.TgZ(27,"option",36),e._uU(28,"Inactive"),e.qZA(),e.TgZ(29,"option",37),e._uU(30,"Pending"),e.qZA(),e.TgZ(31,"option",38),e._uU(32,"Completed"),e.qZA()()()(),e.TgZ(33,"div",27)(34,"div",28)(35,"label",29),e._uU(36,"Assign Member"),e.qZA(),e._UZ(37,"input",30),e.qZA()(),e.TgZ(38,"div",27)(39,"div",28)(40,"label",29),e._uU(41,"Add Reminder"),e.qZA(),e.TgZ(42,"select",33)(43,"option",34),e._uU(44,"Select"),e.qZA(),e.TgZ(45,"option",39),e._uU(46,"12 Hours"),e.qZA(),e.TgZ(47,"option",40),e._uU(48,"1 Day"),e.qZA(),e.TgZ(49,"option",41),e._uU(50,"2 Days"),e.qZA(),e.TgZ(51,"option",42),e._uU(52,"3 Days"),e.qZA(),e.TgZ(53,"option",43),e._uU(54,"5 Days"),e.qZA()()()(),e.TgZ(55,"div",11)(56,"div",28)(57,"label",29),e._uU(58,"Description"),e.qZA(),e.TgZ(59,"p"),e._uU(60),e.qZA()()(),e.TgZ(61,"div",11),e.YNc(62,Mt,6,1,"div",44),e.qZA()()),2&i){const t=e.oxw();e.xp6(5),e.s9C("value",t.editdata.title),e.xp6(5),e.s9C("value",e.xi3(11,8,t.editdata.startdate,"MM/dd/yyyy")),e.xp6(6),e.s9C("value",e.xi3(17,11,t.editdata.duedate,"MM/dd/yyyy hh:mm a")),e.xp6(6),e.s9C("ngModel",t.editdata.presentStatus),e.xp6(15),e.s9C("value",t.editdata.memberName),e.xp6(5),e.s9C("ngModel",t.editdata.reminder),e.xp6(18),e.Oqu(t.removeHTML(t.editdata.description.text)),e.xp6(2),e.Q6J("ngIf",1==t.cvfastLinks)}}let Dt=(()=>{class i{constructor(t,s,a,l,r,o,p){this.location=t,this.dataService=s,this.router=a,this.utility=l,this.utilitydev=r,this.usr=o,this.route=p,this.defaultBindingsList=[{value:1,label:"Jhone Duo"},{value:2,label:"Danel Gray"},{value:3,label:"Pavilnys"}],this.module="patient",this.cvfastText=!1,this.cvfastLinks=!1,this.attachmentFiles=[],this.casefilesArray=[],this.gettaskId=this.route.snapshot.paramMap.get("taskId")}back(){this.location.back()}ngOnInit(){this.selectedMember=this.defaultBindingsList[0],this.getEditTasks()}getCaseDetails(t){this.tabledata="";let s=this.utility.apiData.userCases.ApiUrl;""!=t&&(s+="?caseId="+t),this.dataService.getallData(s,!0).subscribe(a=>{a&&(this.tabledata=JSON.parse(a.toString()))},a=>{404===a.status?n()("No task found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}getEditTasks(){let t=this.utility.apiData.userTasks.ApiUrl,s=this.gettaskId;""!=s&&(t+="?taskId="+s),this.dataService.getallData(t,!0).subscribe(a=>{a&&(this.editdata=JSON.parse(a.toString()),this.getCaseDetails(this.editdata.caseId),this.setcvFast(this.editdata.description),this.cvfastText=!0)},a=>{404===a.status?n()("No task found"):403===a.status?n()("You are unauthorized to access the data"):400===a.status?n()("Invalid data provided, please try again"):401===a.status?n()("You are unauthorized to access the page"):409===a.status?n()("Duplicate data entered"):405===a.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===a.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}setcvFast(t,s="task"){if("task"==s){if(this.attachmentFiles=Array(),t.links.length>0){this.cvfastLinks=!0;for(var a=0;a<t.links.length;a++){let l=t.links[a];this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t.links[a]+"&module="+this.module+"&type=get",!0).subscribe(o=>{o&&this.attachmentFiles.push({imgName:l,ImageUrl:o})},o=>{404===o.status?n()("No task found"):403===o.status?n()("You are unauthorized to access the data"):400===o.status?n()("Invalid data provided, please try again"):401===o.status?n()("You are unauthorized to access the page"):409===o.status?n()("Duplicate data entered"):405===o.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===o.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")})}}}else if(t.length>0){for(a=0;a<t.length;a++)this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t[a].files[0].name+"&module="+this.module+"&type=get",!0).subscribe(p=>{p&&(this.casefilesArray[a-1].files[0].url=p)},p=>{404===p.status?n()("No task found"):403===p.status?n()("You are unauthorized to access the data"):400===p.status?n()("Invalid data provided, please try again"):401===p.status?n()("You are unauthorized to access the page"):409===p.status?n()("Duplicate data entered"):405===p.status?n()({text:"Due to dependency data unable to complete operation"}).then(function(){window.location.reload()}):500===p.status?n()("The server encountered an unexpected condition that prevented it from fulfilling the request"):n()("Oops something went wrong, please try again")});this.editdata=this.casefilesArray}}video(){var t;null===(t=this.videoplayer)||void 0===t||t.nativeElement.play()}removeHTML(t){if(""!=t&&"undefined"!=t&&null!=t){var s=document.createElement("DIV");return s.innerHTML=t,s.textContent||s.innerText||""}return""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.Ye),e.Y36(x.T),e.Y36(g.F0),e.Y36(A.t),e.Y36(w.F),e.Y36(y.f),e.Y36(g.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-general-task-view"]],viewQuery:function(t,s){if(1&t&&e.Gf(bt,5),2&t){let a;e.iGM(a=e.CRH())&&(s.videoplayer=a.first)}},decls:29,vars:2,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/milestones"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],["class","d-inline-block",4,"ngIf"],[1,"col-md-6","text-end"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"row"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],["class","row",4,"ngIf"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-4"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["type","text","placeholder","Enter Title here ","readonly","",1,"form-control",3,"value"],["type","text","readonly","",1,"form-control",3,"value"],["name","dueDatetime","placeholder","Due Date & Time","readonly","",1,"form-control",3,"value"],["disabled","",1,"form-select",3,"ngModel"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","12"],["value","24"],["value","48"],["value","72"],["value","120"],["class","col-md-12 col-lg-12",4,"ngIf"],[1,"col-md-12","col-lg-12"],[1,"mb-3"],[1,"me-2","mb-3","text-muted"],["class","col-md-4 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-4","col-lg-4"],[1,"card","mb-3",2,"border","1px solid #D0D6DE"],[1,"card-body","d-flex","align-items-center"],["target","_tblank",3,"href",4,"ngIf"],["controls","","class","video","style","display:inline-block;vertical-align:middle;width:350px;height:200px;",3,"play",4,"ngIf"],["target","_tblank",3,"href"],[2,"display","inline-block","vertical-align","middle","width","350px","height","200px",3,"src"],["src","assets/images/file.png","width","50px",2,"display","inline-block","vertical-align","middle"],["controls","",1,"video",2,"display","inline-block","vertical-align","middle","width","350px","height","200px",3,"play"],["videoPlayer",""],["type","video/mp4",3,"src"]],template:function(t,s){1&t&&(e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Milestones"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," View General Task "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7),e.YNc(12,Zt,7,2,"div",8),e.qZA(),e._UZ(13,"div",9),e.qZA(),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"h5",16),e._uU(21,"View General Task"),e.qZA()(),e.TgZ(22,"div",17)(23,"a",18),e.NdJ("click",function(){return s.back()}),e._uU(24,"Back "),e.qZA()()()(),e.TgZ(25,"div",19)(26,"div",20)(27,"div",11),e.YNc(28,wt,63,14,"div",21),e.qZA()()()()()()),2&t&&(e.xp6(12),e.Q6J("ngIf",s.tabledata),e.xp6(16),e.Q6J("ngIf",s.editdata))},directives:[g.yS,c.O5,m.EJ,m.JJ,m.On,m.YN,m.Kr,c.sg],pipes:[c.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.form-control[readonly][_ngcontent-%COMP%]{background-color:#fff;opacity:1}"]}),i})();var Ct=h(5243);const Ut=[{path:"",component:q,children:[{path:"",redirectTo:"milestones-list",pathMatch:"full"},{path:"milestones-list",component:H},{path:"milestone-details/:milestoneId",component:Ee},{path:"milestone-add-members",component:Pe},{path:"milestone-add/:caseId",component:Re},{path:"milestone-edit/:milestoneId",component:Ke},{path:"general-task-add",component:dt},{path:"general-task-edit/:taskId",component:vt},{path:"general-task-view/:taskId",component:Dt}]}];let It=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[c.ez,g.Bz.forChild(Ut),C.T,Z.A0,Ct.PatientsModule,f.Ll,f.x,m.u5,U.x,m.UX,M.GV.forRoot({defaultVariation:"tooltip",variations:{tooltip:M.F7,popper:M.lz}})]]}),i})()}}]);