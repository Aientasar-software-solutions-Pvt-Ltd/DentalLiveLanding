"use strict";(self.webpackChunkDentalLive_dev=self.webpackChunkDentalLive_dev||[]).push([[807],{995:(x,O,n)=>{n.d(O,{F:()=>A});var h=n(5861),p=n(520),P=n(2340),c=n(7206),Z=n(5e3);let A=(()=>{class u{constructor(o){this.http=o}getUserDetails(){try{let o=sessionStorage.getItem("usr");if(!o)return!1;let r=JSON.parse(c.AES.decrypt(o,P.N.decryptKey).toString(c.enc.Utf8));return!(r.exp<Date.now())&&r}catch(o){return sessionStorage.removeItem("usr"),!1}}uploadBinaryData(o,r,b){var m=this;return new Promise(function(_,e){m.getPreSignedUrl(o,b,"put",r.type).then(d=>{m.saveDataS3(r,d.url).then(()=>{_(d.name)}).catch(a=>{console.log(a),e("Failed to Upload")})}).catch(d=>{console.log(d),e("Failed to Upload")})})}getPreSignedUrl(o,r,b="get",m){var _=this;return(0,h.Z)(function*(){let e=new p.WM,d=sessionStorage.getItem("usr");return e=e.set("authorization",d),yield _.http.get(`https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name=${o}&module=${r}&type=${b}&media=${m}`,{headers:e}).toPromise()})()}saveDataS3(o,r){var b=this;return(0,h.Z)(function*(){if(yield b.http.put(r,o).toPromise())return!0})()}}return u.\u0275fac=function(o){return new(o||u)(Z.LFG(p.eN))},u.\u0275prov=Z.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},7807:(x,O,n)=>{n.r(O),n.d(O,{DashboardModule:()=>_});var h=n(9808),p=n(1879),P=n(1373),c=n.n(P),t=n(5e3),Z=n(9114),A=n(2290),u=n(3762),T=n(995);function o(e,d){if(1&e&&(t.TgZ(0,"tr")(1,"td")(2,"div",45),t._UZ(3,"span",46),t.TgZ(4,"span",47),t._uU(5),t.qZA()()(),t.TgZ(6,"td")(7,"span",48),t._uU(8),t.ALo(9,"date"),t.qZA()()()),2&e){const a=d.$implicit;t.xp6(5),t.Oqu(a.messagetext),t.xp6(3),t.Oqu(t.xi3(9,2,a.dateCreated,"mediumDate"))}}function r(e,d){if(1&e&&(t.TgZ(0,"table",40)(1,"thead",41)(2,"tr",42)(3,"th",53),t._uU(4,"MILESTONE NAME"),t.qZA(),t.TgZ(5,"th",53),t._uU(6,"MILESTONE DATE"),t.qZA()()(),t.TgZ(7,"tbody"),t.YNc(8,o,10,5,"tr",54),t.qZA()()),2&e){const a=t.oxw();t.xp6(8),t.Q6J("ngForOf",a.messageAry)}}const m=[{path:"",component:(()=>{class e{constructor(a,s,l,v,C,i){this.dataService=a,this.utility=s,this.usr=l,this.router=v,this.utilitydev=C,this.route=i,this.messageArray=[],this.messageDataArray=[],this.messageAry=[],this.caseCount=0,this.caseinvitationCount=0,this.workworderCount=0,this.inboxCount=15}ngOnInit(){this.getLoginDeatils()}getLoginDeatils(){c()("Processing...please wait...",{buttons:[!1,!1],closeOnClickOutside:!1});let a=this.usr.getUserDetails(!1);a&&setTimeout(()=>{let s=this.utility.apiData.userLogin.ApiUrl;s+="?emailAddress="+a.emailAddress,this.dataService.getallData(s,!0).subscribe(l=>{if(l){c().close();let v=JSON.parse(l.toString());this.getThread(v[0].lastLoggedIn)}},l=>(c()("Unable to fetch data, please try again"),!1))},1e3)}getThread(a){if(c()("Processing...please wait...",{buttons:[!1,!1],closeOnClickOutside:!1}),this.usr.getUserDetails(!1)){let l=this.utility.apiData.userThreads.ApiUrl;l+="?dateTo="+(new Date).getTime(),l+="&dateFrom="+a,this.dataService.getallData(l,!0).subscribe(C=>{if(C){c().close();let g=JSON.parse(C.toString());g.sort((M,U)=>M.dateUpdated>U.dateUpdated?-1:1),this.messageDataArray=Array();for(var i=0;i<g.length;i++){var f=g[i].sk.split("#");"DETAILS"==f[0]?this.caseCount++:"CASEINVITES"==f[0]?this.caseinvitationCount++:"WORKORDERS"==f[0]?this.workworderCount++:"MILESTONES"==f[0]&&this.messageDataArray.push({patientId:g[i].patientId,caseId:g[i].caseId,patientName:g[i].patientName,dateUpdated:g[i].dateUpdated,dateCreated:g[i].dateCreated,messageId:"",messagetext:g[i].title,messageimg:"",messagecomment:"",messagecomments:""})}setTimeout(()=>{this.messageAry=this.messageDataArray,this.messageAry.sort((M,U)=>M.dateUpdated>U.dateUpdated?-1:1)},1e3)}},C=>(c()("Unable to fetch data, please try again"),!1))}}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(Z.T),t.Y36(A.t),t.Y36(u.f),t.Y36(p.F0),t.Y36(T.F),t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:142,vars:5,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"fw-bold"],[1,"col-md-6","text-end"],["routerLink","/cases/case-add/0",1,"btn","btn-pink","me-2","my-1"],[1,"bx","bx-briefcase-alt"],["routerLink","/patients/patient-add",1,"btn","btn-default","my-1"],[1,"bx","bx-plus-circle"],[1,"row"],[1,"col-12","col-sm-12","col-lg-7"],[1,"row","gy-4"],[1,"col-sm-6","col-md-6","col-lg-6"],["routerLink","/cases/case-list"],[1,"card","dashboard-card"],[1,"card-body"],[1,"float-start"],[1,"bx","bx-refresh","dicon"],[1,"counter"],["routerLink","/workorders/work-orders"],[1,"card","dashboard-card2"],[1,"bx","bx-briefcase-alt","dicon"],["routerLink","/caseinvites/invitation-lists"],[1,"card","dashboard-card3"],[1,"bx","bx-file","dicon"],["routerLink","/mail/inbox"],[1,"card","dashboard-card4"],[1,"bx","bxs-inbox","dicon"],[1,"card","shadow-sm","mt-4"],[1,"card-header","border-bottom-0","bg-white"],[1,"col-7","col-md-7","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-5","col-md-5"],[1,"d-flex","flex-wrap","align-items-center","justify-content-end"],["routerLink","#",1,"btn","btn-light-green","my-1","py-1","px-2"],[1,"card-body","p-0","pb-1"],[1,"table-responsive"],[1,"table","table-hover","table-nowrap","align-middle","mb-2"],[1,"thead-light"],[2,"text-transform","uppercase"],["width","65%",1,"body2"],["width","35%",1,"body2"],[1,"d-flex","align-items-center"],[1,"avatar-icon","avatar-vs"],[1,"ps-2","body2","d-block"],[1,"body2","text-muted"],[1,"col-12","col-sm-12","col-lg-5"],[1,"card","shadow-sm","mt-4","mt-lg-0"],["routerLink","/milestones/milestones-list",1,"btn","btn-light-green","my-1","py-1","px-2"],["class","table table-hover table-nowrap align-middle mb-2",4,"ngIf"],["width","50%",1,"body2"],[4,"ngFor","ngForOf"]],template:function(a,s){1&a&&(t.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),t._UZ(3,"i",3),t._uU(4," Dashboard"),t.qZA()()(),t.TgZ(5,"div",4)(6,"div",5)(7,"h3",6),t._uU(8,"Dashboard"),t.qZA()(),t.TgZ(9,"div",7)(10,"a",8),t._UZ(11,"i",9),t._uU(12," Start a Case "),t.qZA(),t.TgZ(13,"a",10),t._UZ(14,"i",11),t._uU(15," Add Patient "),t.qZA()()(),t.TgZ(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"a",16)(21,"div",17)(22,"div",18)(23,"div",19),t._UZ(24,"i",20),t.TgZ(25,"h5"),t._uU(26,"Case Updates"),t.qZA()(),t.TgZ(27,"div",21)(28,"span"),t._uU(29),t.qZA()()()()()(),t.TgZ(30,"div",15)(31,"a",22)(32,"div",23)(33,"div",18)(34,"div",19),t._UZ(35,"i",24),t.TgZ(36,"h5"),t._uU(37,"Work Orders"),t.qZA()(),t.TgZ(38,"div",21)(39,"span"),t._uU(40),t.qZA()()()()()(),t.TgZ(41,"div",15)(42,"a",25)(43,"div",26)(44,"div",18)(45,"div",19),t._UZ(46,"i",27),t.TgZ(47,"h5"),t._uU(48,"Invitations"),t.qZA()(),t.TgZ(49,"div",21)(50,"span"),t._uU(51),t.qZA()()()()()(),t.TgZ(52,"div",15)(53,"a",28)(54,"div",29)(55,"div",18)(56,"div",19),t._UZ(57,"i",30),t.TgZ(58,"h5"),t._uU(59,"Inbox"),t.qZA()(),t.TgZ(60,"div",21)(61,"span"),t._uU(62),t.qZA()()()()()()(),t.TgZ(63,"div",31)(64,"div",32)(65,"div",12)(66,"div",33)(67,"h5",34),t._uU(68,"Upcoming Meetings"),t.qZA()(),t.TgZ(69,"div",35)(70,"div",36)(71,"a",37),t._uU(72,"View All"),t.qZA()()()()(),t.TgZ(73,"div",38)(74,"div",39)(75,"table",40)(76,"thead",41)(77,"tr",42)(78,"th",43),t._uU(79,"MEETING TITLE"),t.qZA(),t.TgZ(80,"th",44),t._uU(81,"MEETING DATE/TIME"),t.qZA()()(),t.TgZ(82,"tbody")(83,"tr")(84,"td")(85,"div",45),t._UZ(86,"span",46),t.TgZ(87,"span",47),t._uU(88,"Root Canal Treatment"),t.qZA()()(),t.TgZ(89,"td")(90,"span",48),t._uU(91,"April 20 2022, 12:30 PM"),t.qZA()()(),t.TgZ(92,"tr")(93,"td")(94,"div",45),t._UZ(95,"span",46),t.TgZ(96,"span",47),t._uU(97,"Teeth Cleanings"),t.qZA()()(),t.TgZ(98,"td")(99,"span",48),t._uU(100,"April 20 2022, 12:30 PM"),t.qZA()()(),t.TgZ(101,"tr")(102,"td")(103,"div",45),t._UZ(104,"span",46),t.TgZ(105,"span",47),t._uU(106,"Teeth Whitening"),t.qZA()()(),t.TgZ(107,"td")(108,"span",48),t._uU(109,"April 19 2022, 01:00 PM"),t.qZA()()(),t.TgZ(110,"tr")(111,"td")(112,"div",45),t._UZ(113,"span",46),t.TgZ(114,"span",47),t._uU(115,"Fillings"),t.qZA()()(),t.TgZ(116,"td")(117,"span",48),t._uU(118,"April 15 2022 , 10:30 AM"),t.qZA()()(),t.TgZ(119,"tr")(120,"td")(121,"div",45),t._UZ(122,"span",46),t.TgZ(123,"span",47),t._uU(124,"Crowns"),t.qZA()()(),t.TgZ(125,"td")(126,"span",48),t._uU(127,"April 12 2022, 11:30 AM"),t.qZA()()()()()()()()(),t.TgZ(128,"div",49)(129,"div",50)(130,"div",32)(131,"div",12)(132,"div",33)(133,"h5",34),t._uU(134,"Milestones Alert"),t.qZA()(),t.TgZ(135,"div",35)(136,"div",36)(137,"a",51),t._uU(138,"View All"),t.qZA()()()()(),t.TgZ(139,"div",38)(140,"div",39),t.YNc(141,r,9,1,"table",52),t.qZA()()()()()),2&a&&(t.xp6(29),t.Oqu(s.caseCount),t.xp6(11),t.Oqu(s.workworderCount),t.xp6(11),t.Oqu(s.caseinvitationCount),t.xp6(11),t.Oqu(s.inboxCount),t.xp6(79),t.Q6J("ngIf",s.messageAry))},directives:[p.yS,h.O5,h.sg],pipes:[h.uU],styles:[".dashboard-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .dashboard-card2[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .dashboard-card3[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .dashboard-card4[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;padding:20px}.dashboard-card[_ngcontent-%COMP%]{border:1px solid #00D9CC;box-shadow:0 5px 25px #00d9cc33}.dashboard-card2[_ngcontent-%COMP%]{border:1px solid #FA9FBD;box-shadow:0 5px 25px #fa9fbd33}.dashboard-card3[_ngcontent-%COMP%]{border:1px solid #0070D2;box-shadow:0 5px 25px #0070d233}.dashboard-card4[_ngcontent-%COMP%]{border:1px solid #07D5E8;box-shadow:0 5px 25px #07d5e833}.dashboard-card[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], .dashboard-card2[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], .dashboard-card3[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%], .dashboard-card4[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{width:50px;height:50px;font-size:20px;text-align:center;color:#fff;font-weight:600;border-radius:50%;background:#00D9CC;float:right;display:flex;align-items:center;justify-content:center}.dashboard-card[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dashboard-card2[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dashboard-card3[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dashboard-card4[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.dashboard-card2[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{background:#FA9FBD}.dashboard-card3[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{background:#0070D2}.dashboard-card4[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{background:#07D5E8}.dashboard-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .dashboard-card2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .dashboard-card3[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .dashboard-card4[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#354053;font-size:20px;font-weight:600}.dashboard-card[_ngcontent-%COMP%]   .dicon[_ngcontent-%COMP%], .dashboard-card2[_ngcontent-%COMP%]   .dicon[_ngcontent-%COMP%], .dashboard-card3[_ngcontent-%COMP%]   .dicon[_ngcontent-%COMP%], .dashboard-card4[_ngcontent-%COMP%]   .dicon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:50px;color:#00d9cc;margin-bottom:10px}.dashboard-card2[_ngcontent-%COMP%]   .dicon[_ngcontent-%COMP%]{color:#fa9fbd}.dashboard-card3[_ngcontent-%COMP%]   .dicon[_ngcontent-%COMP%]{color:#0070d2}.dashboard-card4[_ngcontent-%COMP%]   .dicon[_ngcontent-%COMP%]{color:#07d5e8}"]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.ez,p.Bz.forChild(m)]]}),e})()}}]);