"use strict";(self.webpackChunkDentalLive_dev=self.webpackChunkDentalLive_dev||[]).push([[855],{6855:(fe,U,m)=>{m.r(U),m.d(U,{CasesModule:()=>be});var h=m(9808),g=m(6090),f=m(4376),y=m(4331),r=m(2382),_=m(3139),x=m(5415),e=m(5e3);let q=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-cases"]],decls:1,vars:0,template:function(t,a){1&t&&e._UZ(0,"router-outlet")},directives:[g.lC],encapsulation:2}),s})();var M=m(5226),d=m.n(M),v=m(9114),Z=m(2290),A=m(3762);function D(s,o){1&s&&(e.TgZ(0,"span",68),e._uU(1,"Active"),e.qZA())}function I(s,o){1&s&&(e.TgZ(0,"span",69),e._uU(1,"Inactive"),e.qZA())}function w(s,o){if(1&s&&(e.TgZ(0,"li",70)(1,"span",58),e._uU(2),e.qZA()()),2&s){const t=o.$implicit;e.xp6(2),e.Oqu(t.userName.charAt(0))}}function N(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",55)(3,"span",56),e._uU(4),e.qZA(),e._UZ(5,"input",57),e.qZA()(),e.TgZ(6,"td")(7,"div")(8,"span",58),e._uU(9),e.qZA(),e.TgZ(10,"span",59),e._uU(11),e.qZA()()(),e.TgZ(12,"td")(13,"span",52),e._uU(14),e.qZA()(),e.TgZ(15,"td")(16,"div"),e.YNc(17,D,2,0,"span",60),e._UZ(18,"br"),e.YNc(19,I,2,0,"span",61),e._UZ(20,"br"),e.TgZ(21,"small",62),e._uU(22),e.ALo(23,"date"),e.qZA()()(),e.TgZ(24,"td")(25,"ul",63),e.YNc(26,w,3,1,"li",64),e.qZA()(),e.TgZ(27,"td")(28,"div",65)(29,"a",66),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw(4).viewCase(n.caseId,n.patientId)}),e.TgZ(30,"i",67),e._uU(31,"visibility"),e.qZA()()()()()}if(2&s){const t=o.$implicit,a=o.index;e.xp6(4),e.Oqu(a),e.xp6(5),e.Oqu(t.patientName.charAt(0)),e.xp6(2),e.Oqu(t.patientName),e.xp6(3),e.Oqu(t.title),e.xp6(3),e.Q6J("ngIf",1==t.caseStatus),e.xp6(2),e.Q6J("ngIf",0==t.caseStatus),e.xp6(3),e.hij("Created on : ",e.xi3(23,8,t.dateCreated,"mediumDate"),""),e.xp6(4),e.Q6J("ngForOf",t.memberName)}}function S(s,o){if(1&s&&(e.TgZ(0,"tbody"),e.YNc(1,N,32,11,"tr",54),e.qZA()),2&s){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.tabledata)}}function O(s,o){if(1&s&&(e.TgZ(0,"table",49)(1,"thead",50)(2,"tr")(3,"th",51),e._uU(4,"\xa0 "),e.qZA(),e.TgZ(5,"th",52),e._uU(6,"PATIENT NAME"),e.qZA(),e.TgZ(7,"th",52),e._uU(8,"CASE TITLE"),e.qZA(),e.TgZ(9,"th",52),e._uU(10,"STATUS"),e.qZA(),e.TgZ(11,"th",52),e._uU(12,"MEMBERS"),e.qZA(),e.TgZ(13,"th",53),e._uU(14,"Actions"),e.qZA()()(),e.YNc(15,S,2,1,"tbody",27),e.qZA()),2&s){const t=e.oxw(2);e.Q6J("dtOptions",t.dtOptions),e.xp6(15),e.Q6J("ngIf",0!=(null==t.tabledata?null:t.tabledata.length))}}function F(s,o){if(1&s&&(e.TgZ(0,"div")(1,"div",47),e.YNc(2,O,16,2,"table",48),e.qZA()()),2&s){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.tabledata)}}function j(s,o){if(1&s&&(e.TgZ(0,"div")(1,"div",47)(2,"table",49)(3,"thead",50)(4,"tr")(5,"th",51),e._uU(6,"\xa0 "),e.qZA(),e.TgZ(7,"th",52),e._uU(8,"PATIENT NAME"),e.qZA(),e.TgZ(9,"th",52),e._uU(10,"CASE TITLE"),e.qZA(),e.TgZ(11,"th",52),e._uU(12,"STATUS"),e.qZA(),e.TgZ(13,"th",52),e._uU(14,"MEMBERS"),e.qZA(),e.TgZ(15,"th",53),e._uU(16,"Actions"),e.qZA()()(),e.TgZ(17,"tbody")(18,"tr")(19,"td")(20,"div",55),e._UZ(21,"input",57),e.qZA()(),e.TgZ(22,"td")(23,"div")(24,"span",58),e._uU(25,"D"),e.qZA(),e.TgZ(26,"span",59),e._uU(27,"Danial Doolittle"),e.qZA()()(),e.TgZ(28,"td")(29,"span",52),e._uU(30,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(31,"td")(32,"div")(33,"span",68),e._uU(34,"Active"),e.qZA(),e._UZ(35,"br"),e.TgZ(36,"small",62),e._uU(37,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(38,"td")(39,"ul",63)(40,"li",70)(41,"span",58),e._uU(42,"J"),e.qZA()(),e.TgZ(43,"li",70)(44,"span",58),e._uU(45,"D"),e.qZA()(),e.TgZ(46,"li",70)(47,"span",58),e._uU(48,"S"),e.qZA()(),e.TgZ(49,"li",70)(50,"span",58),e._uU(51,"R"),e.qZA()(),e.TgZ(52,"li",70)(53,"span",58),e._uU(54,"M"),e.qZA()()()(),e.TgZ(55,"td")(56,"div",65)(57,"a",71)(58,"i",67),e._uU(59,"visibility"),e.qZA()()()()(),e.TgZ(60,"tr")(61,"td")(62,"div",55),e._UZ(63,"input",57),e.qZA()(),e.TgZ(64,"td")(65,"div")(66,"span",58),e._uU(67,"D"),e.qZA(),e.TgZ(68,"span",59),e._uU(69,"Danial Doolittle"),e.qZA()()(),e.TgZ(70,"td")(71,"span",52),e._uU(72,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(73,"td")(74,"div")(75,"span",68),e._uU(76,"Active"),e.qZA(),e._UZ(77,"br"),e.TgZ(78,"small",62),e._uU(79,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(80,"td")(81,"ul",63)(82,"li",70)(83,"span",58),e._uU(84,"J"),e.qZA()(),e.TgZ(85,"li",70)(86,"span",58),e._uU(87,"D"),e.qZA()(),e.TgZ(88,"li",70)(89,"span",58),e._uU(90,"S"),e.qZA()(),e.TgZ(91,"li",70)(92,"span",58),e._uU(93,"R"),e.qZA()(),e.TgZ(94,"li",70)(95,"span",58),e._uU(96,"M"),e.qZA()()()(),e.TgZ(97,"td")(98,"div",65)(99,"a",71)(100,"i",67),e._uU(101,"visibility"),e.qZA()()()()(),e.TgZ(102,"tr")(103,"td")(104,"div",55),e._UZ(105,"input",57),e.qZA()(),e.TgZ(106,"td")(107,"div")(108,"span",58),e._uU(109,"D"),e.qZA(),e.TgZ(110,"span",59),e._uU(111,"Danial Doolittle"),e.qZA()()(),e.TgZ(112,"td")(113,"span",52),e._uU(114,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(115,"td")(116,"div")(117,"span",68),e._uU(118,"Active"),e.qZA(),e._UZ(119,"br"),e.TgZ(120,"small",62),e._uU(121,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(122,"td")(123,"ul",63)(124,"li",70)(125,"span",58),e._uU(126,"J"),e.qZA()(),e.TgZ(127,"li",70)(128,"span",58),e._uU(129,"D"),e.qZA()(),e.TgZ(130,"li",70)(131,"span",58),e._uU(132,"S"),e.qZA()(),e.TgZ(133,"li",70)(134,"span",58),e._uU(135,"R"),e.qZA()(),e.TgZ(136,"li",70)(137,"span",58),e._uU(138,"M"),e.qZA()()()(),e.TgZ(139,"td")(140,"div",65)(141,"a",71)(142,"i",67),e._uU(143,"visibility"),e.qZA()()()()(),e.TgZ(144,"tr")(145,"td")(146,"div",55),e._UZ(147,"input",57),e.qZA()(),e.TgZ(148,"td")(149,"div")(150,"span",58),e._uU(151,"D"),e.qZA(),e.TgZ(152,"span",59),e._uU(153,"Danial Doolittle"),e.qZA()()(),e.TgZ(154,"td")(155,"span",52),e._uU(156,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(157,"td")(158,"div")(159,"span",68),e._uU(160,"Active"),e.qZA(),e._UZ(161,"br"),e.TgZ(162,"small",62),e._uU(163,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(164,"td")(165,"ul",63)(166,"li",70)(167,"span",58),e._uU(168,"J"),e.qZA()(),e.TgZ(169,"li",70)(170,"span",58),e._uU(171,"D"),e.qZA()(),e.TgZ(172,"li",70)(173,"span",58),e._uU(174,"S"),e.qZA()(),e.TgZ(175,"li",70)(176,"span",58),e._uU(177,"R"),e.qZA()(),e.TgZ(178,"li",70)(179,"span",58),e._uU(180,"M"),e.qZA()()()(),e.TgZ(181,"td")(182,"div",65)(183,"a",71)(184,"i",67),e._uU(185,"visibility"),e.qZA()()()()(),e.TgZ(186,"tr")(187,"td")(188,"div",55),e._UZ(189,"input",57),e.qZA()(),e.TgZ(190,"td")(191,"div")(192,"span",58),e._uU(193,"D"),e.qZA(),e.TgZ(194,"span",59),e._uU(195,"Danial Doolittle"),e.qZA()()(),e.TgZ(196,"td")(197,"span",52),e._uU(198,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(199,"td")(200,"div")(201,"span",68),e._uU(202,"Aactive"),e.qZA(),e._UZ(203,"br"),e.TgZ(204,"small",62),e._uU(205,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(206,"td")(207,"ul",63)(208,"li",70)(209,"span",58),e._uU(210,"J"),e.qZA()(),e.TgZ(211,"li",70)(212,"span",58),e._uU(213,"D"),e.qZA()(),e.TgZ(214,"li",70)(215,"span",58),e._uU(216,"S"),e.qZA()(),e.TgZ(217,"li",70)(218,"span",58),e._uU(219,"R"),e.qZA()(),e.TgZ(220,"li",70)(221,"span",58),e._uU(222,"M"),e.qZA()()()(),e.TgZ(223,"td")(224,"div",65)(225,"a",71)(226,"i",67),e._uU(227,"visibility"),e.qZA()()()()(),e.TgZ(228,"tr")(229,"td")(230,"div",55),e._UZ(231,"input",57),e.qZA()(),e.TgZ(232,"td")(233,"div")(234,"span",58),e._uU(235,"D"),e.qZA(),e.TgZ(236,"span",59),e._uU(237,"Danial Doolittle"),e.qZA()()(),e.TgZ(238,"td")(239,"span",52),e._uU(240,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(241,"td")(242,"div")(243,"span",69),e._uU(244,"Inactive"),e.qZA(),e._UZ(245,"br"),e.TgZ(246,"small",62),e._uU(247,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(248,"td")(249,"ul",63)(250,"li",70)(251,"span",58),e._uU(252,"J"),e.qZA()(),e.TgZ(253,"li",70)(254,"span",58),e._uU(255,"D"),e.qZA()(),e.TgZ(256,"li",70)(257,"span",58),e._uU(258,"S"),e.qZA()(),e.TgZ(259,"li",70)(260,"span",58),e._uU(261,"R"),e.qZA()(),e.TgZ(262,"li",70)(263,"span",58),e._uU(264,"M"),e.qZA()()()(),e.TgZ(265,"td")(266,"div",65)(267,"a",71)(268,"i",67),e._uU(269,"visibility"),e.qZA()()()()(),e.TgZ(270,"tr")(271,"td")(272,"div",55),e._UZ(273,"input",57),e.qZA()(),e.TgZ(274,"td")(275,"div")(276,"span",58),e._uU(277,"D"),e.qZA(),e.TgZ(278,"span",59),e._uU(279,"Danial Doolittle"),e.qZA()()(),e.TgZ(280,"td")(281,"span",52),e._uU(282,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(283,"td")(284,"div")(285,"span",69),e._uU(286,"Inactive"),e.qZA(),e._UZ(287,"br"),e.TgZ(288,"small",62),e._uU(289,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(290,"td")(291,"ul",63)(292,"li",70)(293,"span",58),e._uU(294,"J"),e.qZA()(),e.TgZ(295,"li",70)(296,"span",58),e._uU(297,"D"),e.qZA()(),e.TgZ(298,"li",70)(299,"span",58),e._uU(300,"S"),e.qZA()(),e.TgZ(301,"li",70)(302,"span",58),e._uU(303,"R"),e.qZA()(),e.TgZ(304,"li",70)(305,"span",58),e._uU(306,"M"),e.qZA()()()(),e.TgZ(307,"td")(308,"div",65)(309,"a",71)(310,"i",67),e._uU(311,"visibility"),e.qZA()()()()(),e.TgZ(312,"tr")(313,"td")(314,"div",55),e._UZ(315,"input",57),e.qZA()(),e.TgZ(316,"td")(317,"div")(318,"span",58),e._uU(319,"D"),e.qZA(),e.TgZ(320,"span",59),e._uU(321,"Danial Doolittle"),e.qZA()()(),e.TgZ(322,"td")(323,"span",52),e._uU(324,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(325,"td")(326,"div")(327,"span",69),e._uU(328,"Inactive"),e.qZA(),e._UZ(329,"br"),e.TgZ(330,"small",62),e._uU(331,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(332,"td")(333,"ul",63)(334,"li",70)(335,"span",58),e._uU(336,"J"),e.qZA()(),e.TgZ(337,"li",70)(338,"span",58),e._uU(339,"D"),e.qZA()(),e.TgZ(340,"li",70)(341,"span",58),e._uU(342,"S"),e.qZA()(),e.TgZ(343,"li",70)(344,"span",58),e._uU(345,"R"),e.qZA()(),e.TgZ(346,"li",70)(347,"span",58),e._uU(348,"M"),e.qZA()()()(),e.TgZ(349,"td")(350,"div",65)(351,"a",71)(352,"i",67),e._uU(353,"visibility"),e.qZA()()()()(),e.TgZ(354,"tr")(355,"td")(356,"div",55),e._UZ(357,"input",57),e.qZA()(),e.TgZ(358,"td")(359,"div")(360,"span",58),e._uU(361,"D"),e.qZA(),e.TgZ(362,"span",59),e._uU(363,"Danial Doolittle"),e.qZA()()(),e.TgZ(364,"td")(365,"span",52),e._uU(366,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(367,"td")(368,"div")(369,"span",68),e._uU(370,"Active"),e.qZA(),e._UZ(371,"br"),e.TgZ(372,"small",62),e._uU(373,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(374,"td")(375,"ul",63)(376,"li",70)(377,"span",58),e._uU(378,"J"),e.qZA()(),e.TgZ(379,"li",70)(380,"span",58),e._uU(381,"D"),e.qZA()(),e.TgZ(382,"li",70)(383,"span",58),e._uU(384,"S"),e.qZA()(),e.TgZ(385,"li",70)(386,"span",58),e._uU(387,"R"),e.qZA()(),e.TgZ(388,"li",70)(389,"span",58),e._uU(390,"M"),e.qZA()()()(),e.TgZ(391,"td")(392,"div",65)(393,"a",71)(394,"i",67),e._uU(395,"visibility"),e.qZA()()()()(),e.TgZ(396,"tr")(397,"td")(398,"div",55),e._UZ(399,"input",57),e.qZA()(),e.TgZ(400,"td")(401,"div")(402,"span",58),e._uU(403,"D"),e.qZA(),e.TgZ(404,"span",59),e._uU(405,"Danial Doolittle"),e.qZA()()(),e.TgZ(406,"td")(407,"span",52),e._uU(408,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(409,"td")(410,"div")(411,"span",68),e._uU(412,"Active"),e.qZA(),e._UZ(413,"br"),e.TgZ(414,"small",62),e._uU(415,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(416,"td")(417,"ul",63)(418,"li",70)(419,"span",58),e._uU(420,"J"),e.qZA()(),e.TgZ(421,"li",70)(422,"span",58),e._uU(423,"D"),e.qZA()(),e.TgZ(424,"li",70)(425,"span",58),e._uU(426,"S"),e.qZA()(),e.TgZ(427,"li",70)(428,"span",58),e._uU(429,"R"),e.qZA()(),e.TgZ(430,"li",70)(431,"span",58),e._uU(432,"M"),e.qZA()()()(),e.TgZ(433,"td")(434,"div",65)(435,"a",71)(436,"i",67),e._uU(437,"visibility"),e.qZA()()()()(),e.TgZ(438,"tr")(439,"td")(440,"div",55),e._UZ(441,"input",57),e.qZA()(),e.TgZ(442,"td")(443,"div")(444,"span",58),e._uU(445,"D"),e.qZA(),e.TgZ(446,"span",59),e._uU(447,"Dee End"),e.qZA()()(),e.TgZ(448,"td")(449,"span",52),e._uU(450,"Dareen Leo Root Canel report"),e.qZA()(),e.TgZ(451,"td")(452,"div")(453,"span",68),e._uU(454,"Active"),e.qZA(),e._UZ(455,"br"),e.TgZ(456,"small",62),e._uU(457,"Created on : 14/APR/2020"),e.qZA()()(),e.TgZ(458,"td")(459,"ul",63)(460,"li",70)(461,"span",58),e._uU(462,"J"),e.qZA()(),e.TgZ(463,"li",70)(464,"span",58),e._uU(465,"D"),e.qZA()(),e.TgZ(466,"li",70)(467,"span",58),e._uU(468,"S"),e.qZA()(),e.TgZ(469,"li",70)(470,"span",58),e._uU(471,"R"),e.qZA()(),e.TgZ(472,"li",70)(473,"span",58),e._uU(474,"M"),e.qZA()()()(),e.TgZ(475,"td")(476,"div",65)(477,"a",71)(478,"i",67),e._uU(479,"visibility"),e.qZA()()()()()()()()()),2&s){const t=e.oxw();e.xp6(2),e.Q6J("dtOptions",t.dtOptions)}}let k=(()=>{class s{constructor(t,a,i,n){this.dataService=t,this.router=a,this.utility=i,this.usr=n,this.indexRow=0,this.id="myCases",this.dtOptions={},this.masterSelected=!1}tabContent(t){this.id=t}ngOnInit(){sessionStorage.setItem("checkPatient",""),sessionStorage.setItem("patientId",""),this.getallcase(),this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}searchText(t){var a=t.target.value;$("#dataTables").DataTable().search(a).draw()}getallcase(){this.usr.getUserDetails(!1)&&(d().fire({title:"Loading....",showConfirmButton:!1,timer:3e3}),this.dataService.getallData(this.utility.apiData.userCases.ApiUrl,!0).subscribe(i=>{if(i){let l=JSON.parse(i.toString());l.sort((c,u)=>c.dateUpdated>u.dateUpdated?-1:1),this.tabledata=Array();for(var n=0;n<l.length;n++)this.tabledata.push({id:n,patientName:l[n].patientName,title:l[n].title,caseStatus:l[n].caseStatus,dateCreated:l[n].dateCreated,memberName:"",patientId:l[n].patientId,caseId:l[n].caseId}),this.getCaseMemberList(l[n].caseId,n)}},i=>(d().fire("Unable to fetch data, please try again"),!1)))}viewCase(t,a){this.router.navigate(["master/master-list/"+t+"/caseDetails"])}onSubmit(t){let a=this.utility.apiData.userCases.ApiUrl,i=t.value.patientName;""!=i&&(a+="?patientName="+i),""!=t.value.title&&(a+=""!=i?"&title="+t.value.title:"?title="+t.value.title),""!=t.value.dateFrom&&(a+=""!=i||""!=t.value.title?"&dateFrom="+Date.parse(t.value.dateFrom):"?dateFrom="+Date.parse(t.value.dateFrom)),""!=t.value.dateTo&&(a+=""!=i||""!=t.value.dateFrom||""!=t.value.title?"&dateTo="+Date.parse(t.value.dateTo):"?dateTo="+Date.parse(t.value.dateTo)),this.dataService.getallData(a,!0).subscribe(n=>{n&&(this.tabledata=JSON.parse(n.toString()).reverse())},n=>{404===n.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===n.status?d().fire("Account Disabled,contact Dental-Live"):400===n.status?d().fire("Wrong Password,please try again"):401===n.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===n.status?d().fire(n.error):d().fire("Unable to fetch the data, please try again")})}getCaseMemberList(t,a){let i=this.usr.getUserDetails(!1),n=this.utility.apiData.userCaseInvites.ApiUrl;""!=t&&(n+="?caseId="+t),n+="&resourceOwner="+i.dentalId,this.dataService.getallData(n,!0).subscribe(l=>{if(l){let u=JSON.parse(l.toString());u.sort((p,C)=>p.dateUpdated>C.dateUpdated?-1:1),this.invitedatas=Array(),this.indexRow=0;for(var c=0;c<u.length;c++)this.invitedatas.push({id:this.indexRow,userName:""}),this.getuserdetailsall(u[c].invitedUserId,this.indexRow,a),this.indexRow++}},l=>{404===l.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===l.status?d().fire("Account Disabled,contact Dental-Live"):400===l.status?d().fire("Wrong Password,please try again"):401===l.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===l.status?d().fire(l.error):d().fire("Unable to fetch the data, please try again")})}getuserdetailsall(t,a,i){if(this.usr.getUserDetails(!1)){let l=this.utility.apiData.userColleague.ApiUrl;""!=t&&(l+="?dentalId="+t);let c=this.invitedatas;this.dataService.getallData(l,!0).subscribe(u=>{if(u){let p=JSON.parse(u.toString());c[a].userName=p[0].accountfirstName+" "+p[0].accountlastName,a+1==c.length&&(this.tabledata[i].memberName=c)}},u=>(d().fire("Unable to fetch data, please try again"),!1))}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.T),e.Y36(g.F0),e.Y36(Z.t),e.Y36(A.f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-case-list"]],decls:74,vars:6,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"col-md-6","text-end"],["routerLink","/cases/case-add",1,"btn","btn-default","btn-lg"],[1,"bx","bx-plus-circle"],[1,"row","align-items-center"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"my-2"],[1,"body1","card-title","mb-0"],[1,"d-flex","align-items-center","flex-wrap"],[1,"nav","nav-pills","nav-justified","tabview","me-3"],["href","javascruipt:void(0);",1,"nav-link",3,"click"],["data-bs-toggle","modal","data-bs-target","#filterModal",1,"btn","filter-btn","me-2","my-2"],[1,"bx","bx-filter-alt"],[1,"d-none","d-sm-inline-block","ms-2"],[1,"search","search-md"],[1,"bx","bx-search"],["type","text","placeholder","Search",1,"form-control",3,"keyup"],[1,"card-body","p-0","pb-3"],[4,"ngIf"],["id","filterModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","mainForm",3,"ngSubmit"],["f","ngForm"],[1,"modal-body"],[1,"row","gy-3"],[1,"search"],["type","text","ngModel","","name","patientName","id","patientName","placeholder","Search by Patients Name",1,"form-control"],["type","text","ngModel","","name","title","id","title","placeholder","Search by Case Name",1,"form-control"],[1,"form-label","body2","text-dark"],["type","date","name","dateFrom","ngModel","","id","dateFrom",1,"form-control"],["type","date","name","dateTo","ngModel","","id","dateTo",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default"],[1,"table-responsive"],["class","table table-hover table-nowrap align-middle","datatable","","id","dataTables",3,"dtOptions",4,"ngIf"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light","text-uppercase"],["data-orderable","false",2,"width","15px"],[1,"body2"],["data-orderable","false",1,"body2"],[4,"ngFor","ngForOf"],[1,"form-check","form-check-inline"],[1,"d-none"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","mt-2"],[1,"avatar-icon"],[1,"body2","ms-1"],["class","badge rounded-pill badge-success body2",4,"ngIf"],["class","badge rounded-pill badge-warning body2",4,"ngIf"],[1,"text-muted"],[1,"avatar-list"],["class","avatar-item",4,"ngFor","ngForOf"],[1,"d-flex"],["href","javascript:void(0);",3,"click"],[1,"material-icons","text-light-green"],[1,"badge","rounded-pill","badge-success","body2"],[1,"badge","rounded-pill","badge-warning","body2"],[1,"avatar-item"],["routerLink","/master"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6," Cases "),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"h3"),e._uU(10,"Cases"),e.qZA()(),e.TgZ(11,"div",7)(12,"a",8),e._UZ(13,"i",9),e._uU(14," Add Case"),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h5",16),e._uU(22,"List of Cases"),e.qZA()(),e.TgZ(23,"div",17)(24,"div",18)(25,"a",19),e.NdJ("click",function(){return a.tabContent("myCases")}),e._uU(26,"My Cases"),e.qZA(),e.TgZ(27,"a",19),e.NdJ("click",function(){return a.tabContent("colleaguesCases")}),e._uU(28,"Colleagues Cases"),e.qZA()(),e.TgZ(29,"button",20),e._UZ(30,"i",21),e.TgZ(31,"span",22),e._uU(32,"Filter"),e.qZA()(),e.TgZ(33,"div",23),e._UZ(34,"i",24),e.TgZ(35,"input",25),e.NdJ("keyup",function(l){return a.searchText(l)}),e.qZA()()()()(),e.TgZ(36,"div",26),e.YNc(37,F,3,1,"div",27),e.YNc(38,j,480,1,"div",27),e.qZA()()()(),e.TgZ(39,"div",28)(40,"div",29)(41,"div",30)(42,"div",31)(43,"h5",32),e._uU(44,"Filter"),e.qZA(),e._UZ(45,"button",33),e.qZA(),e.TgZ(46,"form",34,35),e.NdJ("ngSubmit",function(){e.CHM(i);const l=e.MAs(47);return a.onSubmit(l)}),e.TgZ(48,"div",36)(49,"div",37)(50,"div",11)(51,"div",38),e._UZ(52,"i",24)(53,"input",39),e.qZA()(),e.TgZ(54,"div",11)(55,"div",38),e._UZ(56,"i",24)(57,"input",40),e.qZA()(),e.TgZ(58,"div",11)(59,"label",41),e._uU(60,"Search by Date:"),e.qZA()(),e.TgZ(61,"div",6)(62,"label",41),e._uU(63,"From"),e.qZA(),e._UZ(64,"input",42),e.qZA(),e.TgZ(65,"div",6)(66,"label",41),e._uU(67,"To"),e.qZA(),e._UZ(68,"input",43),e.qZA()()(),e.TgZ(69,"div",44)(70,"button",45),e._uU(71,"Close"),e.qZA(),e.TgZ(72,"button",46),e._uU(73,"Apply"),e.qZA()()()()()()}2&t&&(e.xp6(25),e.ekj("active","myCases"===a.id),e.xp6(2),e.ekj("active","colleaguesCases"===a.id),e.xp6(10),e.Q6J("ngIf","myCases"===a.id),e.xp6(1),e.Q6J("ngIf","colleaguesCases"===a.id))},directives:[g.yS,h.O5,x.G,h.sg,r._Y,r.JL,r.F,r.Fj,r.JJ,r.On],pipes:[h.uU],styles:[".tabview[_ngcontent-%COMP%]{background:#fdfdfd;border-radius:20px;border:1px solid #0070d2;padding:3px;box-shadow:0 4px 8px #0000001a;width:380px}.tabview[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:16px;font-family:Rubik;font-weight:400;color:#5d6a7e!important;padding:.3rem .8rem;border-radius:20px!important}.tabview[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff!important;background:#0070D2!important}@media (max-width:575px){.tabview[_ngcontent-%COMP%]{width:100%}}"]}),s})();var b=m(4580);function J(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"ng-autocomplete",57),e.NdJ("selected",function(i){return e.CHM(t),e.oxw().selectEvent(i)})("inputChanged",function(i){return e.CHM(t),e.oxw().onChangeSearch(i)})("inputFocused",function(i){return e.CHM(t),e.oxw().onFocused(i)}),e.qZA()}if(2&s){const t=e.oxw(),a=e.MAs(32),i=e.MAs(34);e.s9C("ngModel",t.patientName),e.Q6J("data",t.allpatient)("required",!0)("searchKeyword",t.keyword)("itemTemplate",a)("notFoundTemplate",i)}}function E(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"ng-autocomplete",58),e.NdJ("selected",function(i){return e.CHM(t),e.oxw().selectEvent(i)})("inputChanged",function(i){return e.CHM(t),e.oxw().onChangeSearch(i)})("inputFocused",function(i){return e.CHM(t),e.oxw().onFocused(i)}),e.qZA()}if(2&s){const t=e.oxw(),a=e.MAs(32),i=e.MAs(34);e.s9C("ngModel",t.patientName),e.Q6J("data",t.allpatient)("required",!0)("disabled",!0)("searchKeyword",t.keyword)("itemTemplate",a)("notFoundTemplate",i)}}function L(s,o){1&s&&e._UZ(0,"a",59),2&s&&e.Q6J("innerHTML",o.$implicit.name,e.oJD)}function P(s,o){1&s&&e._UZ(0,"div",59),2&s&&e.Q6J("innerHTML",o.$implicit,e.oJD)}function Y(s,o){if(1&s&&e._UZ(0,"input",60),2&s){const t=e.oxw();e.s9C("ngModel",t.patientName)}}function Q(s,o){if(1&s&&e._UZ(0,"img",61),2&s){const t=e.oxw();e.s9C("src",t.patientImg,e.LSH)}}function H(s,o){if(1&s&&e._UZ(0,"img",61),2&s){const t=e.oxw();e.s9C("src",t.Img,e.LSH)}}function R(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",63)(2,"input",64),e.NdJ("change",function(){const n=e.CHM(t).$implicit;return e.oxw().onChange(n.id)}),e.qZA(),e.TgZ(3,"label",65),e._uU(4),e.qZA()()()}if(2&s){const t=o.$implicit;e.xp6(2),e.s9C("id",t.name),e.xp6(1),e.s9C("for",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function G(s,o){1&s&&(e.TgZ(0,"div",66)(1,"div",63)(2,"label",67),e._uU(3,"Please select at least one casetype!"),e.qZA()()())}let W=(()=>{class s{constructor(t,a,i,n){this.dataService=t,this.utility=a,this.usr=i,this.router=n,this.id="addNonMembers",this.keyword="name",this.allpatient=[],this.module="patient",this.Img="assets/images/avatar3.png",this.resourceOwn="",this.patientName="",this.patientImage="",this.Pid="",this.caseInsertedId="",this.caseType=!0,this.caseImage=!1,this.checkPatient=sessionStorage.getItem("checkPatient"),this.jsonObj={resourceOwner:"",patientId:"",patientName:"",image:"",title:"",caseStatus:!0,description:{},caseType:Array()},this.casetype=[{name:"General Dentistry",id:1},{name:"Endodontics",id:2},{name:"Dental Pediatrics",id:3},{name:"Prosthodontics",id:4},{name:"Oral Surgery",id:5},{name:"Lab",id:6},{name:"Periodontics",id:7},{name:"Oral Pathology",id:8},{name:"Dentures",id:9},{name:"Orthodontics",id:10},{name:"Oral Radiology",id:11},{name:"Hygiene",id:12}],this.btnState=!0,this.casetypeArray=Array()}tabContent(t){this.id=t}actionMethod(t){t.target.disabled=!0,this.btnState=!(t.target.disabled=!0)}ngOnInit(){this.getPatiantDetails(),this.getAllPatiant()}getAllPatiant(){this.usr.getUserDetails(!1)&&this.dataService.getallData(this.utility.apiData.userPatients.ApiUrl,!0).subscribe(i=>{if(i){this.tabledataAll=JSON.parse(i.toString()),this.allpatient=Array();for(var n=0;n<this.tabledataAll.length;n++)if(1==this.tabledataAll[n].isActive){let l=this.tabledataAll[n].firstName+" "+this.tabledataAll[n].lastName;this.allpatient.push(this.tabledataAll[n].image?{id:this.tabledataAll[n].patientId,name:l,patientimage:this.tabledataAll[n].image}:{id:this.tabledataAll[n].patientId,name:l,patientimage:""})}}},i=>(d().fire("Unable to fetch data, please try again"),!1))}onSubmit(t){if(t.invalid||0==t.value.caseType)return this.caseType=!1,t.value.caseType>0&&(this.caseType=!0),void t.form.markAllAsTouched();this.onGetdateData(t.value)}selectEvent(t){this.patientName=t.name,this.patientImage=t.patientimage,this.Pid=t.id,setTimeout(()=>{t.patientimage&&this.setcvImage(t.patientimage)},1e3)}onChangeSearch(t){}onFocused(t){}onGetdateData(t){this.jsonObj.resourceOwner=t.resourceOwner,this.jsonObj.patientId=t.patientId,this.jsonObj.patientName=t.patientName,this.jsonObj.image=t.image,this.jsonObj.title=t.title,this.jsonObj.caseStatus=!0,this.jsonObj.caseType=this.casetypeArray,(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObj.description=this.cvfastval.returnCvfast()),this.cvfastval.processFiles(this.utility.apiData.userCases.ApiUrl,this.jsonObj,!0,"Cases details added successfully","cases/case-add-invite-members","post","invitecaseId","description")}setcvImage(t){this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t+"&module="+this.module+"&type=get",!0).subscribe(i=>{i&&(this.patientImg=i,this.caseImage=!0)},i=>{404===i.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===i.status?d().fire("Account Disabled,contact Dental-Live"):400===i.status?d().fire("Wrong Password,please try again"):401===i.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===i.status?d().fire(i.error):d().fire("Unable to fetch the data, please try again")})}onChange(t){const a=this.casetypeArray;if(a.includes(t)){let i=a.indexOf(t);a.splice(i,1),this.casetypeArray=a}else a.push(t),this.casetypeArray=a}getPatiantDetails(){let t=this.usr.getUserDetails(!1);this.resourceOwn=t.emailAddress;let a=this.utility.apiData.userPatients.ApiUrl,i=sessionStorage.getItem("patientId");""!=i&&(a+="?patientId="+i,this.dataService.getallData(a,!0).subscribe(n=>{n&&(this.tabledata=JSON.parse(n.toString()),this.patientName=this.tabledata.firstName+" "+this.tabledata.lastName,this.patientImage=this.tabledata.image,this.Pid=this.tabledata.patientId,setTimeout(()=>{this.tabledata.image&&this.setcvImage(this.tabledata.image)},1e3))},n=>{404===n.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===n.status?d().fire("Account Disabled,contact Dental-Live"):400===n.status?d().fire("Wrong Password,please try again"):401===n.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===n.status?d().fire(n.error):d().fire("Unable to fetch the data, please try again")}))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.T),e.Y36(Z.t),e.Y36(A.f),e.Y36(g.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-case-add"]],viewQuery:function(t,a){if(1&t&&e.Gf(b.x,5),2&t){let i;e.iGM(i=e.CRH())&&(a.cvfastval=i.first)}},decls:91,vars:11,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/cases/case-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"col-md-6","text-end"],[1,"row","pt-2"],[1,"col-md-10"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mt-2"],[1,"col-md-12"],["id","mainForm",3,"ngSubmit"],["f","ngForm"],[1,"row"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["name","patientName","id","patientName","class","form-control","style","padding:0px;","placeholder","Search patient name","historyIdentifier","allpatient",3,"data","ngModel","required","searchKeyword","itemTemplate","notFoundTemplate","selected","inputChanged","inputFocused",4,"ngIf"],["name","allpatient","id","allpatient","class","form-control","style","padding:0px;","placeholder","Search patient name","historyIdentifier","allpatient",3,"data","ngModel","required","disabled","searchKeyword","itemTemplate","notFoundTemplate","selected","inputChanged","inputFocused",4,"ngIf"],["itemTemplate",""],["notFoundTemplate",""],["type","hidden","class","form-control","required","","name","patientName","id","patientName",3,"ngModel",4,"ngIf"],["type","hidden","required","","name","patientId",1,"form-control",3,"ngModel"],["type","hidden","required","","name","resourceOwner",1,"form-control",3,"ngModel"],["type","hidden","required","","name","caseType","id","caseType",1,"form-control",3,"ngModel"],["type","hidden","name","image",1,"form-control",3,"ngModel"],["type","text","required","","ngModel","","name","title",1,"form-control"],[1,"mb-4","text-center"],[1,"justify-content-center","p-md-2","mt-3"],[1,"capture"],["alt","","class","mb-2 rounded-circle","width","100px","height","100px",3,"src",4,"ngIf"],["class","col-6 col-sm-4 col-md-3 mb-2",4,"ngFor","ngForOf"],["class","col-12 col-sm-12 col-md-12mb-2",4,"ngIf"],[1,"col-md-12","mb-2"],["type","submit",1,"btn","btn-default","mt-1","me-2"],["routerLink","#",1,"btn","btn-pink","mt-1","me-2"],["id","inviteMembers","tabindex","-1","aria-labelledby","inviteMembersLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","inviteMembersLabel",1,"modal-title","body1"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","gy-3"],[1,"search"],[1,"bx","bx-search"],["type","text","placeholder","Search here",1,"form-control"],[1,"col-md-12","text-end"],["type","button",1,"btn","btn-default","btn-sm","px-2"],[1,"bx","bx-plus","me-0"],[1,"modal-footer","text-center","justify-content-center","border-top-0"],["data-bs-dismiss","modal",1,"btn","btn-default"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["name","patientName","id","patientName","placeholder","Search patient name","historyIdentifier","allpatient",1,"form-control",2,"padding","0px",3,"data","ngModel","required","searchKeyword","itemTemplate","notFoundTemplate","selected","inputChanged","inputFocused"],["name","allpatient","id","allpatient","placeholder","Search patient name","historyIdentifier","allpatient",1,"form-control",2,"padding","0px",3,"data","ngModel","required","disabled","searchKeyword","itemTemplate","notFoundTemplate","selected","inputChanged","inputFocused"],[3,"innerHTML"],["type","hidden","required","","name","patientName","id","patientName",1,"form-control",3,"ngModel"],["alt","","width","100px","height","100px",1,"mb-2","rounded-circle",3,"src"],[1,"col-6","col-sm-4","col-md-3","mb-2"],[1,"form-check","form-check-inline"],["name","casetypeArray","type","checkbox",1,"form-check-input",3,"id","change"],[1,"form-check-label",3,"for"],[1,"col-12","col-sm-12","col-md-12mb-2"],[1,"form-check-label","text-danger"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Cases"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Add Case "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3"),e._uU(14,"Add Case"),e.qZA()()(),e._UZ(15,"div",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"form",16,17),e.NdJ("ngSubmit",function(){e.CHM(i);const l=e.MAs(23);return a.onSubmit(l)}),e.TgZ(24,"div",18)(25,"div",7)(26,"div",19)(27,"label",20),e._uU(28,"Patient Name"),e.qZA(),e.YNc(29,J,1,6,"ng-autocomplete",21),e.YNc(30,E,1,7,"ng-autocomplete",22),e.YNc(31,L,1,1,"ng-template",null,23,e.W1O),e.YNc(33,P,1,1,"ng-template",null,24,e.W1O),e.YNc(35,Y,1,1,"input",25),e._UZ(36,"input",26)(37,"input",27)(38,"input",28)(39,"input",29),e.qZA(),e.TgZ(40,"div",19)(41,"label",20),e._uU(42,"Case Title"),e.qZA(),e._UZ(43,"input",30),e.qZA()(),e.TgZ(44,"div",7)(45,"div",31)(46,"label",20),e._uU(47,"Patient Image"),e.qZA(),e.TgZ(48,"div",32)(49,"div",33),e.YNc(50,Q,1,1,"img",34),e.YNc(51,H,1,1,"img",34),e.qZA()()()(),e.TgZ(52,"div",15)(53,"div",19)(54,"label",20),e._uU(55,"Description "),e.qZA(),e._UZ(56,"app-cvfast"),e.qZA()(),e.TgZ(57,"div",15)(58,"div")(59,"label",20),e._uU(60,"Case Type"),e.qZA(),e.TgZ(61,"div",18),e.YNc(62,R,5,3,"div",35),e.YNc(63,G,4,0,"div",36),e.qZA()()()(),e.TgZ(64,"div",18)(65,"div",37)(66,"button",38),e._uU(67,"Save"),e.qZA(),e.TgZ(68,"a",39),e._uU(69,"Cancel"),e.qZA()()()()()()()()()(),e.TgZ(70,"div",40)(71,"div",41)(72,"div",42)(73,"div",43)(74,"h5",44),e._uU(75,"Invite Members"),e.qZA(),e._UZ(76,"button",45),e.qZA(),e.TgZ(77,"div",46)(78,"div",47)(79,"div",15)(80,"div",48),e._UZ(81,"i",49)(82,"input",50),e.qZA()(),e.TgZ(83,"div",51)(84,"button",52),e._UZ(85,"i",53),e.qZA()()()(),e.TgZ(86,"div",54)(87,"a",55),e._uU(88,"Save"),e.qZA(),e.TgZ(89,"button",56),e._uU(90,"Cancel"),e.qZA()()()()()}2&t&&(e.xp6(29),e.Q6J("ngIf",""==a.checkPatient),e.xp6(1),e.Q6J("ngIf","1"==a.checkPatient),e.xp6(5),e.Q6J("ngIf","1"==a.checkPatient),e.xp6(1),e.s9C("ngModel",a.Pid),e.xp6(1),e.s9C("ngModel",a.resourceOwn),e.xp6(1),e.s9C("ngModel",a.casetypeArray.length),e.xp6(1),e.s9C("ngModel",a.patientImage),e.xp6(11),e.Q6J("ngIf",1==a.caseImage),e.xp6(1),e.Q6J("ngIf",0==a.caseImage),e.xp6(11),e.Q6J("ngForOf",a.casetype),e.xp6(1),e.Q6J("ngIf",0==a.caseType))},directives:[g.yS,r._Y,r.JL,r.F,h.O5,y.YR,r.JJ,r.On,r.Q7,r.Fj,b.x,h.sg],styles:[""]}),s})();function z(s,o){if(1&s&&e._UZ(0,"img",35),2&s){const t=e.oxw();e.s9C("src",t.patientImg,e.LSH)}}function V(s,o){if(1&s&&e._UZ(0,"img",35),2&s){const t=e.oxw();e.s9C("src",t.Img,e.LSH)}}function B(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"input",41),e.NdJ("change",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onChange(i.id)}),e.qZA()}if(2&s){const t=e.oxw().$implicit;e.s9C("id",t.name)}}function X(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"input",42),e.NdJ("change",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().onChange(i.id)}),e.qZA()}if(2&s){const t=e.oxw().$implicit;e.s9C("id",t.name)}}function K(s,o){if(1&s&&(e.TgZ(0,"div",36)(1,"div",37),e.YNc(2,B,1,1,"input",38),e.YNc(3,X,1,1,"input",39),e.TgZ(4,"label",40),e._uU(5),e.qZA()()()),2&s){const t=o.$implicit;e.xp6(2),e.Q6J("ngIf",1==t.isChecked),e.xp6(1),e.Q6J("ngIf",0==t.isChecked),e.xp6(1),e.s9C("for",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function ee(s,o){1&s&&(e.TgZ(0,"div",43)(1,"div",37)(2,"label",44),e._uU(3,"Please select at least one casetype!"),e.qZA()()())}let te=(()=>{class s{constructor(t,a,i,n,l){this.dataService=t,this.utility=a,this.usr=i,this.router=n,this.route=l,this.module="patient",this.Img="assets/images/avatar3.png",this.resourceOwn="",this.patientName="",this.patientImage="",this.Pid="",this.caseType=!0,this.caseImage=!1,this.jsonObj={patientId:"",patientName:"",caseId:"",image:"",title:"",caseStatus:!0,description:{},caseType:Array()},this.casetype=[{name:"General Dentistry",id:1,isChecked:!1},{name:"Endodontics",id:2,isChecked:!1},{name:"Dental Pediatrics",id:3,isChecked:!1},{name:"Prosthodontics",id:4,isChecked:!1},{name:"Oral Surgery",id:5,isChecked:!1},{name:"Lab",id:6,isChecked:!1},{name:"Periodontics",id:7,isChecked:!1},{name:"Oral Pathology",id:8,isChecked:!1},{name:"Dentures",id:9,isChecked:!1},{name:"Orthodontics",id:10,isChecked:!1},{name:"Oral Radiology",id:11,isChecked:!1},{name:"Hygiene",id:12,isChecked:!1}],this.casetypeArray=Array(),this.getcaseId=this.route.snapshot.paramMap.get("caseId")}ngOnInit(){this.getCasedetails()}onGetdateData(t){this.jsonObj.image=t.image,this.jsonObj.title=t.title,this.jsonObj.patientId=t.patientId,this.jsonObj.patientName=t.patientName,this.jsonObj.caseId=this.caseId,this.jsonObj.caseStatus=!0,this.jsonObj.caseType=this.casetypeArray,(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObj.description=this.cvfastval.returnCvfast()),this.cvfastval.processFiles(this.utility.apiData.userCases.ApiUrl,this.jsonObj,!0,"Case updated successfully","master/master-list/"+this.getcaseId+"/caseDetails","put","","description",0)}onSubmit(t){t.invalid?t.form.markAllAsTouched():this.onGetdateData(t.value)}getCasedetails(){d().fire({html:'<div class="sweet_loader"><img style="width:50px;" src="https://www.boasnotas.com/img/loading2.gif"/></div>',showConfirmButton:!1,allowOutsideClick:!1,timer:2200}),this.tabledata="";let a=this.utility.apiData.userCases.ApiUrl;this.caseId=this.getcaseId,""!=this.caseId&&(a+="?caseId="+this.caseId),this.dataService.getallData(a,!0).subscribe(i=>{i&&(this.tabledata=JSON.parse(i.toString()),this.setCaseType(this.tabledata.caseType),this.getallPatient(this.tabledata.patientId),setTimeout(()=>{this.setcvFast()},1e3))},i=>{404===i.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===i.status?d().fire("Account Disabled,contact Dental-Live"):400===i.status?d().fire("Wrong Password,please try again"):401===i.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===i.status?d().fire(i.error):d().fire("Unable to fetch the data, please try again")})}setcvFast(){this.cvfastval.setCvfast(this.tabledata.description)}setCaseType(t){if(t.length>0)for(var a=0;a<t.length;a++)this.getDimensionsByFilter(t[a])}getDimensionsByFilter(t){this.onChange(t);for(var a=0;a<this.casetype.length;a++)this.casetype[a].id==t&&(this.casetype[a].isChecked=!0)}getallPatient(t){let a=this.utility.apiData.userPatients.ApiUrl;""!=t&&(a+="?patientId="+t),this.dataService.getallData(a,!0).subscribe(i=>{i&&(this.patientdata=JSON.parse(i.toString()),this.patientName=this.patientdata.firstName+" "+this.patientdata.lastName,this.patientImage=this.patientdata.image,this.Pid=this.patientdata.patientId,setTimeout(()=>{this.patientdata.image&&this.setcvImage(this.patientdata.image)},1e3))},i=>{404===i.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===i.status?d().fire("Account Disabled,contact Dental-Live"):400===i.status?d().fire("Wrong Password,please try again"):401===i.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===i.status?d().fire(i.error):d().fire("Unable to fetch the data, please try again")})}setcvImage(t){this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t+"&module="+this.module+"&type=get",!0).subscribe(i=>{i&&(this.patientImg=i,this.caseImage=!0)},i=>{404===i.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===i.status?d().fire("Account Disabled,contact Dental-Live"):400===i.status?d().fire("Wrong Password,please try again"):401===i.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===i.status?d().fire(i.error):d().fire("Unable to fetch the data, please try again")})}onChange(t){const a=this.casetypeArray;if(a.includes(t)){let i=a.indexOf(t);a.splice(i,1),this.casetypeArray=a}else a.push(t),this.casetypeArray=a}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.T),e.Y36(Z.t),e.Y36(A.f),e.Y36(g.F0),e.Y36(g.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-case-edit"]],viewQuery:function(t,a){if(1&t&&e.Gf(b.x,5),2&t){let i;e.iGM(i=e.CRH())&&(a.cvfastval=i.first)}},decls:63,vars:9,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/cases/case-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"col-md-6","text-end"],[1,"row","pt-2"],[1,"col-md-10"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mt-2"],[1,"col-md-12"],["id","mainForm",3,"ngSubmit"],["f","ngForm"],[1,"row"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["type","text","readonly","","required","","name","patientName","id","patientName",1,"form-control",3,"ngModel"],["type","hidden","required","","name","patientId",1,"form-control",3,"ngModel"],["type","hidden","required","","name","caseType","id","caseType",1,"form-control",3,"ngModel"],["type","hidden","required","","name","image",1,"form-control",3,"ngModel"],["type","text","name","title","id","title",1,"form-control",3,"ngModel"],[1,"mb-4","text-center"],[1,"justify-content-center","p-md-2","mt-3"],[1,"capture"],["alt","","class","mb-2 rounded-circle","width","100px","height","100px",3,"src",4,"ngIf"],["class","col-6 col-sm-4 col-md-3 mb-2",4,"ngFor","ngForOf"],["class","col-12 col-sm-12 col-md-12mb-2",4,"ngIf"],[1,"col-md-12","mb-2"],["type","submit",1,"btn","btn-default","mt-1","me-2"],["routerLink","/cases/case-list",1,"btn","btn-pink","mt-1","me-2"],["alt","","width","100px","height","100px",1,"mb-2","rounded-circle",3,"src"],[1,"col-6","col-sm-4","col-md-3","mb-2"],[1,"form-check","form-check-inline"],["class","form-check-input","checked","","name","casetypeArray","type","checkbox",3,"id","change",4,"ngIf"],["class","form-check-input","name","casetypeArray","type","checkbox",3,"id","change",4,"ngIf"],[1,"form-check-label",3,"for"],["checked","","name","casetypeArray","type","checkbox",1,"form-check-input",3,"id","change"],["name","casetypeArray","type","checkbox",1,"form-check-input",3,"id","change"],[1,"col-12","col-sm-12","col-md-12mb-2"],[1,"form-check-label","text-danger"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Cases"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Edit Case "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3"),e._uU(14,"Edit Case"),e.qZA()()(),e._UZ(15,"div",9),e.qZA(),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"form",16,17),e.NdJ("ngSubmit",function(){e.CHM(i);const l=e.MAs(23);return a.onSubmit(l)}),e.TgZ(24,"div",18)(25,"div",7)(26,"div",19)(27,"label",20),e._uU(28,"Patient Name"),e.qZA(),e._UZ(29,"input",21)(30,"input",22)(31,"input",23)(32,"input",24),e.qZA(),e.TgZ(33,"div",19)(34,"label",20),e._uU(35,"Case Title"),e.qZA(),e._UZ(36,"input",25),e.qZA()(),e.TgZ(37,"div",7)(38,"div",26)(39,"label",20),e._uU(40,"Patient Image"),e.qZA(),e.TgZ(41,"div",27)(42,"div",28),e.YNc(43,z,1,1,"img",29),e.YNc(44,V,1,1,"img",29),e.qZA()()()(),e.TgZ(45,"div",15)(46,"div",19)(47,"label",20),e._uU(48,"Description "),e.qZA(),e._UZ(49,"app-cvfast"),e.qZA()(),e.TgZ(50,"div",15)(51,"div")(52,"label",20),e._uU(53,"Case Type"),e.qZA(),e.TgZ(54,"div",18),e.YNc(55,K,6,4,"div",30),e.YNc(56,ee,4,0,"div",31),e.qZA()()()(),e.TgZ(57,"div",18)(58,"div",32)(59,"button",33),e._uU(60,"Save"),e.qZA(),e.TgZ(61,"a",34),e._uU(62,"Cancel"),e.qZA()()()()()()()()()()}2&t&&(e.xp6(29),e.s9C("ngModel",a.patientName),e.xp6(1),e.s9C("ngModel",a.Pid),e.xp6(1),e.s9C("ngModel",a.casetypeArray.length),e.xp6(1),e.s9C("ngModel",a.patientImage),e.xp6(4),e.s9C("ngModel",a.tabledata.title),e.xp6(7),e.Q6J("ngIf",1==a.caseImage),e.xp6(1),e.Q6J("ngIf",0==a.caseImage),e.xp6(11),e.Q6J("ngForOf",a.casetype),e.xp6(1),e.Q6J("ngIf",0==a.caseType))},directives:[g.yS,r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On,h.O5,b.x,h.sg],styles:[".ast-delete-icon[_ngcontent-%COMP%]{color:#f7517f;font-size:1.25rem;line-height:1;position:absolute;right:4px;top:4px}"]}),s})();var T=m(995);function ae(s,o){if(1&s&&(e.TgZ(0,"div",44)(1,"div",45)(2,"div",46),e._UZ(3,"img",47),e.TgZ(4,"div",48)(5,"div")(6,"h5",49),e._uU(7),e.qZA(),e.TgZ(8,"h6",50),e._uU(9),e.qZA()(),e.TgZ(10,"div")(11,"button",51),e._UZ(12,"i",52),e._uU(13," Add"),e.qZA()()()()()()),2&s){const t=o.item;e.xp6(3),e.Q6J("src",t.avatar,e.LSH),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.emailAddress)}}function ie(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"span",53),e._UZ(1,"img",54),e._uU(2),e.qZA(),e.TgZ(3,"span",55),e.NdJ("click",function(){const i=e.CHM(t);return i.clear(i.item)}),e._uU(4,"\xd7"),e.qZA()}if(2&s){const t=o.item;e.xp6(1),e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",t.name,"")}}let se=(()=>{class s{constructor(t,a,i,n,l){this.dataService=t,this.utility=a,this.usr=i,this.router=n,this.utilitydev=l,this.allMember=[],this.allMemberEmail=[],this.allMemberName=[],this.allMemberDentalId=[],this.selectedCity="",this.jsonObjInvite={patientId:"",caseId:"",patientName:"",invitationText:{},invitedUserMail:"",invitedUserId:"",presentStatus:0},this.jsonObjInviteEdit={patientId:"",caseId:"",patientName:"",invitedUserMail:"",invitedUserId:"",invitationId:"",presentStatus:3}}ngOnInit(){this.getCaseDetails(),this.getAllMembers()}getCaseDetails(){d().fire({title:"Loading....",showConfirmButton:!1,timer:2200});let t=this.utility.apiData.userCases.ApiUrl,a=sessionStorage.getItem("invitecaseId");""!=a&&(t+="?caseId="+a),this.dataService.getallData(t,!0).subscribe(i=>{i&&(this.tabledata=JSON.parse(i.toString()))},i=>{404===i.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===i.status?d().fire("Account Disabled,contact Dental-Live"):400===i.status?d().fire("Wrong Password,please try again"):401===i.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===i.status?d().fire(i.error):d().fire("Unable to fetch the data, please try again")})}getAllMembers(){let t=this.usr.getUserDetails(!1);t&&this.dataService.getallData(this.utility.apiData.userColleague.ApiUrl,!0).subscribe(i=>{if(i){let l=JSON.parse(i.toString());this.allMember=Array();for(var n=0;n<l.length;n++)if(t.emailAddress!=l[n].emailAddress){let u="";u=null!=l[n].imageSrc?"https://dentallive-accounts.s3-us-west-2.amazonaws.com/"+l[n].imageSrc:"//www.gravatar.com/avatar/b0d8c6e5ea589e6fc3d3e08afb1873bb?d=retro&r=g&s=30 2x",this.allMember.push({id:n,avatar:u,emailAddress:l[n].emailAddress,dentalId:l[n].dentalId,name:l[n].accountfirstName+" "+l[n].accountlastName})}}},i=>(d().fire("Unable to fetch data, please try again"),!1))}selectEvent(t){this.allMemberEmail=Array(),this.allMemberName=Array(),this.allMemberDentalId=Array();for(var a=0;a<t.length;a++)this.allMemberEmail.push(t[a].emailAddress),this.allMemberName.push(t[a].name),this.allMemberDentalId.push(t[a].dentalId)}onSubmitInvite(t){if(t.invalid)t.form.markAllAsTouched();else for(var a=0,i=0;i<this.allMemberEmail.length;i++)this.jsonObjInvite.caseId=t.value.caseId,this.jsonObjInvite.patientId=t.value.patientId,this.jsonObjInvite.patientName=t.value.patientName,this.jsonObjInvite.presentStatus=0,(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObjInvite.invitationText=this.cvfastval.returnCvfast()),this.jsonObjInvite.invitedUserMail=this.allMemberEmail[i],this.jsonObjInvite.invitedUserId=this.allMemberDentalId[i],++a==this.allMemberEmail.length?this.cvfastval.processFiles(this.utility.apiData.userCaseInvites.ApiUrl,this.jsonObjInvite,!0,"Invitation send successfully","cases/case-add-milestone","post","","invitationText"):this.cvfastval.processFiles(this.utility.apiData.userCaseInvites.ApiUrl,this.jsonObjInvite,!0,"","","post","","invitationText")}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.T),e.Y36(Z.t),e.Y36(A.f),e.Y36(g.F0),e.Y36(T.F))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-case-add-invite-members"]],viewQuery:function(t,a){if(1&t&&e.Gf(b.x,5),2&t){let i;e.iGM(i=e.CRH())&&(a.cvfastval=i.first)}},decls:61,vars:6,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/cases"],["routerLink","/cases/case-add"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"col-md-6","text-end"],[1,"row","pt-2"],[1,"col-md-10"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mt-2"],[1,"col-md-12"],["id","InviteForm",3,"ngSubmit"],["InviteForm","ngForm"],[1,"modal-header"],["id","inviteMembersLabel",1,"modal-title","body1"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","gy-3"],[1,"search"],[1,"search","search-md","search-filter"],[1,"bx","bx-search"],["bindLabel","name","bindValue","name","required","",3,"items","multiple","hideSelected","ngModel","change"],["ng-option-tmp",""],["ng-label-tmp",""],[1,"modal-footer","text-center","justify-content-center","border-top-0"],["type","hidden","name","caseId","id","caseId",3,"ngModel"],["type","hidden","name","patientId","id","patientId",3,"ngModel"],["type","hidden","name","patientName","id","patientName",3,"ngModel"],["type","button","data-bs-toggle","modal","data-bs-target","#skipNext",1,"btn","btn-default","me-2"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","skipNext","tabindex","-1","aria-labelledby","skipNextLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"text-dark","mb-3"],[1,"d-flex","justify-content-between"],["routerLink","/cases/case-add-file-upload","data-bs-dismiss","modal",1,"btn","btn-secondary","me-2"],["type","submit","data-bs-toggle","modal","data-bs-target","#skipNext",1,"btn","btn-default","me-2"],[1,"card","card-lists"],[1,"card-body","p-0"],[1,"d-flex","align-items-center"],["height","74","width","74",1,"rounded-circle","me-3","img-thumbnail","shadow-sm",3,"src"],[1,"d-flex","align-items-center","justify-content-between","search-list-content"],["ngOptionHighlight","search",1,"card-title",2,"white-space","normal"],[1,"card-subtitle","mb-2","text-muted",2,"white-space","normal","word-wrap","anywhere"],["type","button",1,"btn","btn-outline-primary","btn-sm","ms-2"],[1,"bx","bx-user-plus"],[1,"ng-value-label"],["width","20px","height","20px",1,"rounded-circle","me-1",3,"src"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Cases"),e.qZA()(),e.TgZ(8,"li",1)(9,"a",5),e._uU(10,"Add Cases"),e.qZA()(),e.TgZ(11,"li",6),e._uU(12," Invite Members "),e.qZA()(),e.TgZ(13,"div",7)(14,"div",8)(15,"div",9)(16,"h3"),e._uU(17,"Invite Members"),e.qZA()()(),e._UZ(18,"div",10),e.qZA(),e.TgZ(19,"div",11)(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"form",17,18),e.NdJ("ngSubmit",function(){e.CHM(i);const l=e.MAs(26);return a.onSubmitInvite(l)}),e.TgZ(27,"div",19)(28,"h5",20),e._uU(29,"Invite Members"),e.qZA(),e._UZ(30,"button",21),e.qZA(),e.TgZ(31,"div",22)(32,"div",23)(33,"div",16)(34,"div",24)(35,"div",25),e._UZ(36,"i",26),e.TgZ(37,"ng-select",27),e.NdJ("ngModel",function(){return a.selectedCity})("change",function(l){return a.selectEvent(l)}),e.YNc(38,ae,14,3,"ng-template",28),e.YNc(39,ie,5,2,"ng-template",29),e.qZA()()()(),e.TgZ(40,"div",16),e._UZ(41,"app-cvfast"),e.qZA()()(),e.TgZ(42,"div",30),e._UZ(43,"input",31)(44,"input",32)(45,"input",33),e.TgZ(46,"button",34),e._uU(47,"Save"),e.qZA(),e.TgZ(48,"button",35),e._uU(49,"Cancel"),e.qZA(),e.TgZ(50,"div",36)(51,"div",37)(52,"div",38)(53,"div",39)(54,"h6",40),e._uU(55,"Would you like to go?"),e.qZA(),e.TgZ(56,"div",41)(57,"a",42),e._uU(58,"Skip"),e.qZA(),e.TgZ(59,"button",43),e._uU(60,"Next"),e.qZA()()()()()()()()()()()()()()}2&t&&(e.xp6(37),e.Q6J("items",a.allMember)("multiple",!0)("hideSelected",!0),e.xp6(6),e.s9C("ngModel",a.tabledata.caseId),e.xp6(1),e.s9C("ngModel",a.tabledata.patientId),e.xp6(1),e.s9C("ngModel",a.tabledata.patientName))},directives:[g.yS,r._Y,r.JL,r.F,f.w9,r.Q7,r.JJ,r.On,f.ir,f.mR,b.x,r.Fj],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.card-lists[_ngcontent-%COMP%]{box-shadow:none;background:transparent}.search-list-content[_ngcontent-%COMP%]{width:calc(100% - 96px)}.card-lists[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:18px}.card-lists[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:14px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]{max-height:340px}"]}),s})();function ne(s,o){1&s&&(e.TgZ(0,"span",63),e._uU(1," Due date & time should be greater than start date"),e.qZA())}function le(s,o){if(1&s&&(e.TgZ(0,"div",64)(1,"div",65)(2,"div",66),e._UZ(3,"img",67),e.TgZ(4,"div",68)(5,"div")(6,"h5",69),e._uU(7),e.qZA(),e.TgZ(8,"h6",70),e._uU(9),e.qZA()(),e.TgZ(10,"div")(11,"button",71),e._UZ(12,"i",72),e._uU(13," Add"),e.qZA()()()()()()),2&s){const t=o.item;e.xp6(3),e.Q6J("src",t.avatar,e.LSH),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.emailAddress)}}function de(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"span",73),e._UZ(1,"img",74),e._uU(2),e.qZA(),e.TgZ(3,"span",75),e.NdJ("click",function(){const i=e.CHM(t);return i.clear(i.item)}),e._uU(4,"\ufffd"),e.qZA()}if(2&s){const t=o.item;e.xp6(1),e.Q6J("src",t.avatar,e.LSH),e.xp6(1),e.hij(" ",t.name,"")}}let oe=(()=>{class s{constructor(t,a,i,n,l,c){this.location=t,this.dataService=a,this.router=i,this.utility=n,this.utilitydev=l,this.usr=c,this.allMember=[],this.allMemberEmail=[],this.allMemberName=[],this.selectedCity="",this.module="patient",this.defaultBindingsList=[{value:1,label:"Jhone Duo"},{value:2,label:"Danel Gray"},{value:3,label:"Pavilnys"}],this.isvalidDate=!1,this.jsonObj={caseId:"",patientId:"",patientName:"",title:"",description:{},startdate:0,duedate:0,presentStatus:0,reminder:0,memberMail:"",memberName:"",milestoneId:""}}back(){this.location.back()}ngOnInit(){this.selectedMember=this.defaultBindingsList[0],this.getCaseDetails(),this.getAllMembers(),this.milestoneIdadd=sessionStorage.getItem("invitemilestoneId")}getuserdetailsall(t,a){if(this.usr.getUserDetails(!1)){let n=this.utility.apiData.userColleague.ApiUrl;""!=t&&(n+="?emailAddress="+t),this.dataService.getallData(n,!0).subscribe(l=>{if(l){let c=JSON.parse(l.toString()),u="";u=null!=c.imageSrc?"https://dentallive-accounts.s3-us-west-2.amazonaws.com/"+c.imageSrc:"//www.gravatar.com/avatar/b0d8c6e5ea589e6fc3d3e08afb1873bb?d=retro&r=g&s=30 2x",this.allMember[a].name=c.accountfirstName+" "+c.accountlastName,this.allMember[a].emailAddress=c.emailAddress,this.allMember[a].avatar=u}},l=>(d().fire("Unable to fetch data, please try again"),!1))}}getAllMembers(){if(this.usr.getUserDetails(!1)){let a=this.utility.apiData.userCaseInvites.ApiUrl,i=sessionStorage.getItem("invitecaseId");""!=i&&(a+="?caseId="+i),this.dataService.getallData(a,!0).subscribe(n=>{if(n){let c=JSON.parse(n.toString());c.sort((u,p)=>u.dateUpdated>p.dateUpdated?-1:1),this.allMember=Array();for(var l=0;l<c.length;l++)this.allMember.push({id:l,avatar:"",emailAddress:"",name:""}),this.getuserdetailsall(c[l].invitedUserMail,l)}},n=>{404===n.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===n.status?d().fire("Account Disabled,contact Dental-Live"):400===n.status?d().fire("Wrong Password,please try again"):401===n.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===n.status?d().fire(n.error):d().fire("Unable to fetch the data, please try again")})}}selectEvent(t){this.allMemberEmail=Array(),this.allMemberName=Array();for(var a=0;a<t.length;a++)this.allMemberEmail.push(t[a].emailAddress),this.allMemberName.push(t[a].name)}onSubmitTask(t){this.allMemberEmail.join(", "),this.allMemberName.join(", "),this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.dueDatetime),t.invalid||1==this.isvalidDate?t.form.markAllAsTouched():this.onGetdateData(t.value)}onGetdateData(t){this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,this.jsonObj.patientName=t.patientname,this.jsonObj.title=t.title,(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObj.description=this.cvfastval.returnCvfast()),this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.duedate=Date.parse(t.dueDatetime),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.reminder=Number(t.reminder);let a=this.allMemberEmail.join(", "),i=this.allMemberName.join(", ");this.jsonObj.memberMail=a,this.jsonObj.memberName=i,this.jsonObj.milestoneId=this.milestoneIdadd,this.cvfastval.processFiles(this.utility.apiData.userTasks.ApiUrl,this.jsonObj,!0,"Task added successfully","cases/case-add-file-upload","post","","description")}getCaseDetails(){let t=this.utility.apiData.userCases.ApiUrl,a=sessionStorage.getItem("invitecaseId");""!=a&&(t+="?caseId="+a),this.dataService.getallData(t,!0).subscribe(i=>{i&&(this.tabledata=JSON.parse(i.toString()))},i=>{404===i.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===i.status?d().fire("Account Disabled,contact Dental-Live"):400===i.status?d().fire("Wrong Password,please try again"):401===i.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===i.status?d().fire(i.error):d().fire("Unable to fetch the data, please try again")})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(h.Ye),e.Y36(v.T),e.Y36(g.F0),e.Y36(Z.t),e.Y36(T.F),e.Y36(A.f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-case-add-task-add"]],viewQuery:function(t,a){if(1&t&&e.Gf(b.x,5),2&t){let i;e.iGM(i=e.CRH())&&(a.cvfastval=i.first)}},decls:121,vars:14,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/cases"],["routerLink","/cases/case-add"],["routerLink","/cases/case-add-invite-members"],["routerLink","/cases/case-add-milestone"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"col-md-6","text-end"],[1,"row","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mt-2"],["id","taskForm",3,"ngSubmit"],["taskForm","ngForm"],[1,"row"],[1,"col-md-4"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["type","text","placeholder","Enter Title here","name","title","id","title","required","","ngModel","",1,"form-control"],["name","startdate","id","startdate","placeholder","Start Date","required","","ngModel","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger"],[3,"pickerType"],["sd",""],["name","dueDatetime","id","dueDatetime","placeholder","Due Date & Time","required","","ngModel","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger"],["dt1",""],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],["name","presentStatus","id","presentStatus","required","","ngModel","",1,"form-select"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"search","search-md","search-filter"],[1,"bx","bx-search"],["bindLabel","name","bindValue","name",3,"items","multiple","hideSelected","ngModel","change"],["ng-option-tmp",""],["ng-label-tmp",""],["name","reminder","id","reminder","ngModel","","required","",1,"form-select"],["value","12","selected",""],["value","24"],["value","48"],["value","72"],["value","120"],[1,"col-md-12","mb-2"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","patientname","id","patientname",3,"ngModel"],["type","hidden","name","memberMail","id","memberMail","ngModel","jhon@gmail.com"],["type","button","data-bs-toggle","modal","data-bs-target","#skipNext",1,"btn","btn-default","mt-1","me-2",3,"disabled"],["type","button",1,"btn","btn-pink","mt-1","me-2"],["id","skipNext","tabindex","-1","aria-labelledby","skipNextLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"text-dark","mb-3"],[1,"d-flex","justify-content-between"],["routerLink","/cases/case-add-file-upload","data-bs-dismiss","modal",1,"btn","btn-secondary","me-2"],["type","submit","data-bs-toggle","modal","data-bs-target","#skipNext",1,"btn","btn-default","mt-1","me-2",3,"disabled"],[2,"color","#F7517F","font-weight","bold"],[1,"card","card-lists"],[1,"card-body","p-0"],[1,"d-flex","align-items-center"],["height","74","width","74",1,"rounded-circle","me-3","img-thumbnail","shadow-sm",3,"src"],[1,"d-flex","align-items-center","justify-content-between","search-list-content"],["ngOptionHighlight","search",1,"card-title",2,"white-space","normal"],[1,"card-subtitle","mb-2","text-muted",2,"white-space","normal","word-wrap","anywhere"],["type","button",1,"btn","btn-outline-primary","btn-sm","ms-2"],[1,"bx","bx-user-plus"],[1,"ng-value-label"],["width","20px","height","20px",1,"rounded-circle","me-1",3,"src"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Cases"),e.qZA()(),e.TgZ(8,"li",1)(9,"a",5),e._uU(10,"Add Cases"),e.qZA()(),e.TgZ(11,"li",1)(12,"a",6),e._uU(13,"Invite Members"),e.qZA()(),e.TgZ(14,"li",1)(15,"a",7),e._uU(16,"Add Milestone"),e.qZA()(),e.TgZ(17,"li",8),e._uU(18," Add Task "),e.qZA()(),e.TgZ(19,"div",9)(20,"div",10)(21,"div",11)(22,"h3"),e._uU(23,"Add Task"),e.qZA()()(),e._UZ(24,"div",12),e.qZA(),e.TgZ(25,"div",13)(26,"div",14)(27,"div",15)(28,"div",16)(29,"div",17)(30,"div",14)(31,"form",18,19),e.NdJ("ngSubmit",function(){e.CHM(i);const l=e.MAs(32);return a.onSubmitTask(l)}),e.TgZ(33,"div",20)(34,"div",21)(35,"div",22)(36,"label",23),e._uU(37,"Title "),e.qZA(),e._UZ(38,"input",24),e.qZA()(),e.TgZ(39,"div",21)(40,"div",22)(41,"label",23),e._uU(42,"Start Date"),e.qZA(),e._UZ(43,"input",25)(44,"owl-date-time",26,27),e.qZA()(),e.TgZ(46,"div",21)(47,"div",22)(48,"label",23),e._uU(49,"Due Date & Time"),e.qZA(),e._UZ(50,"input",28)(51,"owl-date-time",null,29),e.YNc(53,ne,2,0,"span",30),e.qZA()(),e.TgZ(54,"div",21)(55,"div",22)(56,"label",23),e._uU(57,"Status"),e.qZA(),e.TgZ(58,"select",31)(59,"option",32),e._uU(60,"Select"),e.qZA(),e.TgZ(61,"option",33),e._uU(62,"Active"),e.qZA(),e.TgZ(63,"option",34),e._uU(64,"Inactive"),e.qZA(),e.TgZ(65,"option",35),e._uU(66,"Pending"),e.qZA(),e.TgZ(67,"option",36),e._uU(68,"Completed"),e.qZA()()()(),e.TgZ(69,"div",21)(70,"div",22)(71,"label",23),e._uU(72,"Assign Member"),e.qZA(),e.TgZ(73,"div",37),e._UZ(74,"i",38),e.TgZ(75,"ng-select",39),e.NdJ("ngModel",function(){return a.selectedCity})("change",function(l){return a.selectEvent(l)}),e.YNc(76,le,14,3,"ng-template",40),e.YNc(77,de,5,2,"ng-template",41),e.qZA()()()(),e.TgZ(78,"div",21)(79,"div",22)(80,"label",23),e._uU(81,"Add Reminder"),e.qZA(),e.TgZ(82,"select",42)(83,"option",32),e._uU(84,"Select"),e.qZA(),e.TgZ(85,"option",43),e._uU(86,"12 Hours"),e.qZA(),e.TgZ(87,"option",44),e._uU(88,"1 Day"),e.qZA(),e.TgZ(89,"option",45),e._uU(90,"2 Days"),e.qZA(),e.TgZ(91,"option",46),e._uU(92,"3 Days"),e.qZA(),e.TgZ(93,"option",47),e._uU(94,"5 Days"),e.qZA()()()(),e.TgZ(95,"div",14)(96,"div",22)(97,"label",23),e._uU(98,"Description"),e.qZA(),e._UZ(99,"app-cvfast"),e.qZA()()(),e.TgZ(100,"div",20)(101,"div",48),e._UZ(102,"input",49)(103,"input",50)(104,"input",51)(105,"input",52),e.TgZ(106,"button",53),e._uU(107,"Save"),e.qZA(),e.TgZ(108,"button",54),e._uU(109,"Cancel"),e.qZA(),e.TgZ(110,"div",55)(111,"div",56)(112,"div",57)(113,"div",58)(114,"h6",59),e._uU(115,"Would you like to go?"),e.qZA(),e.TgZ(116,"div",60)(117,"a",61),e._uU(118,"Skip"),e.qZA(),e.TgZ(119,"button",62),e._uU(120,"Next"),e.qZA()()()()()()()()()()()()()()()}if(2&t){const i=e.MAs(32),n=e.MAs(45),l=e.MAs(52);e.xp6(43),e.Q6J("owlDateTime",n)("owlDateTimeTrigger",n),e.xp6(1),e.Q6J("pickerType","calendar"),e.xp6(6),e.Q6J("owlDateTime",l)("owlDateTimeTrigger",l),e.xp6(3),e.Q6J("ngIf",1==a.isvalidDate),e.xp6(22),e.Q6J("items",a.allMember)("multiple",!0)("hideSelected",!0),e.xp6(27),e.s9C("ngModel",a.tabledata.caseId),e.xp6(1),e.s9C("ngModel",a.tabledata.patientId),e.xp6(1),e.s9C("ngModel",a.tabledata.patientName),e.xp6(2),e.Q6J("disabled",!i.form.valid),e.xp6(13),e.Q6J("disabled",!i.form.valid)}},directives:[g.yS,r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On,_.BO,_.sZ,_.hV,h.O5,r.EJ,r.YN,r.Kr,f.w9,f.ir,f.mR,b.x],styles:[""]}),s})(),re=(()=>{class s{constructor(t,a,i,n,l){this.dataService=t,this.utility=a,this.usr=i,this.router=n,this.utilitydev=l,this.UploadFiles=[],this.attachmentUploadFiles=[],this.module="patient",this.jsonObj={ownerName:"",caseId:"",patientId:"",patientName:"",dateCreated:0,files:Array()}}ngOnInit(){this.getCaseDetails()}getTimeStamp(t){var a=t.split("/");return new Date(a[2],a[0]-1,a[1]).getTime()}getCaseDetails(){let t=this.utility.apiData.userCases.ApiUrl,a=sessionStorage.getItem("invitecaseId");""!=a&&(t+="?caseId="+a),this.dataService.getallData(t,!0).subscribe(i=>{i&&(this.tabledata=JSON.parse(i.toString()))},i=>{404===i.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===i.status?d().fire("Account Disabled,contact Dental-Live"):400===i.status?d().fire("Wrong Password,please try again"):401===i.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===i.status?d().fire(i.error):d().fire("Unable to fetch the data, please try again")})}getUniqueName(t){let a=0;return a>0&&(t=t.split(".")[0]+"_"+a+"."+t.split(".")[1]),a++,t}loadFiles(t){if(t.target.files.length>0){if(!["image","video","audio","pdf","msword","ms-excel","docx","doc","xls","xlsx","txt"].some(i=>t.target.files[0].type.includes(i)))return void d().fire("File Extenion Not Allowed");this.attachmentUploadFiles=Array(),this.attachmentUploadFiles.push({name:this.getUniqueName(t.target.files[0].name),binaryData:t.target.files[0],size:t.target.files[0].size,type:t.target.files[0].type})}}onGetdateData(t){this.jsonObj.ownerName=t.resorceowner,this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,this.jsonObj.patientName=t.patientname,t.uploadfile&&(this.jsonObj.files=this.UploadFiles),this.dataService.postData(this.utility.apiData.userCaseFiles.ApiUrl,JSON.stringify(this.jsonObj),!0).subscribe(a=>{a&&(a=JSON.parse(a.toString())),d().fire("Files added successfully"),setTimeout(()=>{this.router.navigate(["cases/case-list"])},1e3)},a=>{404===a.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===a.status?d().fire("Account Disabled,contact Dental-Live"):400===a.status?d().fire("Wrong Password,please try again"):401===a.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===a.status?d().fire(a.error):d().fire("Unable to fetch the data, please try again")})}onSubmitFiles(t){if(t.invalid)t.form.markAllAsTouched();else if(t.value.uploadfile){let a=this.attachmentUploadFiles[0].type,i=Math.round(this.attachmentUploadFiles[0].size/1024),n=this.attachmentUploadFiles.map(l=>this.utilitydev.uploadBinaryData(l.name,l.binaryData,this.module));Promise.all(n).then(l=>{this.attachmentUploadFiles=[];let c=l[0];this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+c+"&module="+this.module+"&type=get",!0).subscribe(p=>{p&&(this.UploadFiles=Array(),this.UploadFiles.push({url:p,name:c,mediaType:a,mediaSize:i.toString()}),this.onGetdateData(t.value))},p=>{404===p.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===p.status?d().fire("Account Disabled,contact Dental-Live"):400===p.status?d().fire("Wrong Password,please try again"):401===p.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===p.status?d().fire(p.error):d().fire("Unable to fetch the data, please try again")})}).catch(l=>(console.log(l),!1))}else this.onGetdateData(t.value)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(v.T),e.Y36(Z.t),e.Y36(A.f),e.Y36(g.F0),e.Y36(T.F))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-case-add-file-upload"]],decls:61,vars:6,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/cases/case-list"],["routerLink","/cases/case-add"],["routerLink","/cases/case-add-invite-members"],["routerLink","/cases/case-add-milestone"],["routerLink","/cases/case-add-task-add"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"col-md-6","text-end"],[1,"row","pt-2"],[1,"col-md-10"],[1,"card","shadow-sm"],[1,"card-body"],[1,"row","mt-2"],[1,"col-md-12"],["id","filesForm",3,"ngSubmit"],["filesForm","ngForm"],[1,"row","gy-4"],[1,"form-label","body2","text-dark"],["type","file","ngModel","","name","uploadfile","id","uploadfile","required","","accept",".doc,.docx,application/msword,.txt,.xls,.xlsx,image/*,video/*,.pdf,.ppt,.pptx",1,"form-control",2,"line-height","2.2","background-color","#EFF3F7","border","2px dashed #AEB4BF",3,"change"],[1,"row"],[1,"col-md-12","mt-4","mb-2"],["type","hidden","name","resorceowner","id","resorceowner",3,"ngModel"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","patientname","id","patientname",3,"ngModel"],["type","hidden","name","datecreated","id","datecreated",3,"ngModel"],["type","submit",1,"btn","btn-default","mt-1","me-2",3,"disabled"],["type","button",1,"btn","btn-pink","mt-1","me-2"],["id","doneModal","tabindex","-1","aria-labelledby","doneModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"text-dark","mb-3"],[1,"d-flex","justify-content-center"],["routerLink","/cases/case-list","data-bs-dismiss","modal",1,"btn","btn-default"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Cases"),e.qZA()(),e.TgZ(8,"li",1)(9,"a",5),e._uU(10,"Add Cases"),e.qZA()(),e.TgZ(11,"li",1)(12,"a",6),e._uU(13,"Invite Members"),e.qZA()(),e.TgZ(14,"li",1)(15,"a",7),e._uU(16,"Add Milestone"),e.qZA()(),e.TgZ(17,"li",1)(18,"a",8),e._uU(19,"Add Task"),e.qZA()(),e.TgZ(20,"li",9),e._uU(21," Upload Files "),e.qZA()(),e.TgZ(22,"div",10)(23,"div",11)(24,"div",12)(25,"h3"),e._uU(26,"Upload Files"),e.qZA()()(),e._UZ(27,"div",13),e.qZA(),e.TgZ(28,"div",14)(29,"div",15)(30,"div",16)(31,"div",17)(32,"div",18)(33,"div",19)(34,"form",20,21),e.NdJ("ngSubmit",function(){e.CHM(i);const l=e.MAs(35);return a.onSubmitFiles(l)}),e.TgZ(36,"div",22)(37,"div",11)(38,"label",23),e._uU(39,"Upload File"),e.qZA(),e.TgZ(40,"input",24),e.NdJ("change",function(l){return a.loadFiles(l)}),e.qZA()()(),e.TgZ(41,"div",25)(42,"div",26),e._UZ(43,"input",27)(44,"input",28)(45,"input",29)(46,"input",30)(47,"input",31),e.TgZ(48,"button",32),e._uU(49,"Save"),e.qZA(),e.TgZ(50,"button",33),e._uU(51,"Cancel"),e.qZA()()()()()()()()()(),e.TgZ(52,"div",34)(53,"div",35)(54,"div",36)(55,"div",37)(56,"h6",38),e._uU(57,"Case Added Successfully"),e.qZA(),e.TgZ(58,"div",39)(59,"a",40),e._uU(60,"Done"),e.qZA()()()()()()}if(2&t){const i=e.MAs(35);e.xp6(43),e.s9C("ngModel",a.tabledata.fetchedData[0].data[0].resorceOwner),e.xp6(1),e.s9C("ngModel",a.tabledata.caseId),e.xp6(1),e.s9C("ngModel",a.tabledata.patientId),e.xp6(1),e.s9C("ngModel",a.tabledata.patientName),e.xp6(1),e.s9C("ngModel",a.tabledata.dateCreated),e.xp6(1),e.Q6J("disabled",!i.form.valid)}},directives:[g.yS,r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Q7],styles:[""]}),s})();function ce(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"ng-select",62),e.NdJ("ngModel",function(){return e.CHM(t),e.oxw().casesName})("change",function(i){return e.CHM(t),e.oxw().selectEvent(i)}),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("items",t.allcases)("editableSearchTerm",!0)}}function ue(s,o){if(1&s&&e._UZ(0,"input",63),2&s){const t=e.oxw();e.s9C("ngModel",t.casesName)}}function me(s,o){1&s&&(e.TgZ(0,"span",64),e._uU(1," Due date & time should be greater than start date"),e.qZA())}let pe=(()=>{class s{constructor(t,a,i,n,l,c){this.location=t,this.dataService=a,this.router=i,this.utility=n,this.utilitydev=l,this.usr=c,this.isvalidDate=!1,this.allcases=[],this.caseid="",this.patientid="",this.casesName="",this.patientName="",this.checkCase="1",this.jsonObj={caseId:"",patientId:"",patientName:"",title:"",description:{},startdate:0,duedate:0,presentStatus:0,reminder:0}}back(){this.location.back()}ngOnInit(){this.getCaseDetails(),this.getAllCases()}onSubmitMilestone(t){this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.dueDatetime),t.invalid||1==this.isvalidDate?t.form.markAllAsTouched():this.onGetdateData(t.value)}onGetdateData(t){this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,this.jsonObj.patientName=t.patientName,this.jsonObj.title=t.title,(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObj.description=this.cvfastval.returnCvfast()),this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.duedate=Date.parse(t.dueDatetime),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.reminder=Number(t.reminder),this.cvfastval.processFiles(this.utility.apiData.userMilestones.ApiUrl,this.jsonObj,!0,"Milestone added successfully","cases/case-add-task-add","post","invitemilestoneId","description")}getAllCases(){this.usr.getUserDetails(!1)&&(d().fire({html:'<div class="sweet_loader"><img style="width:50px;" src="https://www.boasnotas.com/img/loading2.gif"/></div>',icon:"https://www.boasnotas.com/img/loading2.gif",showConfirmButton:!1,allowOutsideClick:!1,closeOnClickOutside:!1,timer:2200}),this.dataService.getallData(this.utility.apiData.userCases.ApiUrl,!0).subscribe(n=>{if(n){this.tabledataAll=JSON.parse(n.toString()),this.allcases=Array();for(var l=0;l<this.tabledataAll.length;l++)if(1==this.tabledataAll[l].caseStatus){let c=this.tabledataAll[l].title;this.allcases.push({value:this.tabledataAll[l].caseId,caseId:this.tabledataAll[l].caseId,patientName:this.tabledataAll[l].patientName,patientId:this.tabledataAll[l].patientId,name:c,label:c})}}},n=>(d().fire("Unable to fetch data, please try again"),!1)))}selectEvent(t){this.caseid=t.caseId,this.patientid=t.patientId,this.patientName=t.patientName,this.casesName=t.name}getCaseDetails(){let t=this.utility.apiData.userCases.ApiUrl,a=sessionStorage.getItem("invitecaseId");""!=a&&(t+="?caseId="+a,this.dataService.getallData(t,!0).subscribe(i=>{i&&(this.tabledata=JSON.parse(i.toString()),this.casesName=this.tabledata.title,this.patientName=this.tabledata.patientName,this.caseid=this.tabledata.caseId,this.patientid=this.tabledata.patientId)},i=>{404===i.status?d().fire("E-Mail ID does not exists,please signup to continue"):403===i.status?d().fire("Account Disabled,contact Dental-Live"):400===i.status?d().fire("Wrong Password,please try again"):401===i.status?d().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===i.status?d().fire(i.error):d().fire("Unable to fetch the data, please try again")}))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(h.Ye),e.Y36(v.T),e.Y36(g.F0),e.Y36(Z.t),e.Y36(T.F),e.Y36(A.f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-milestone-add"]],viewQuery:function(t,a){if(1&t&&e.Gf(b.x,5),2&t){let i;e.iGM(i=e.CRH())&&(a.cvfastval=i.first)}},decls:109,vars:13,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/cases"],["routerLink","/cases/case-add"],["routerLink","/cases/case-add-invite-members"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],["id","milestoneForm",3,"ngSubmit"],["milestoneForm","ngForm"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"row"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["placeholder","Select","required","","name","caseName","id","caseName",3,"items","editableSearchTerm","ngModel","change",4,"ngIf"],["type","text","readonly","","class","form-control","placeholder","Enter Title here","name","caseName","id","caseName","ngModel","","required","",3,"ngModel",4,"ngIf"],["type","text","placeholder","Enter Title","name","title","id","title","ngModel","","required","",1,"form-control"],[1,"col-ms-6","col-md-4"],[1,"form-label","body2","mb-3","text-dark"],["name","startdate","id","startdate","placeholder","Start Date & Time","ngModel","","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger"],["dt2",""],["name","dueDatetime","id","dueDatetime","placeholder","Due Date & Time","ngModel","","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger"],["dt1",""],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],["name","reminder","id","reminder","ngModel","","required","",1,"form-select"],["value",""],["value","12","selected",""],["value","24"],["value","48"],["value","72"],["value","120"],[1,"col-md-12","mt-3"],["type","hidden","name","presentStatus","id","presentStatus","ngModel","1"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","patientName","id","patientName",3,"ngModel"],["type","button","data-bs-toggle","modal","data-bs-target","#skipNext",1,"btn","btn-default","me-2"],[1,"bx","bx-save"],["routerLink","/milestones/milestones-list",1,"btn","btn-secondary","mt-1","me-2"],["id","skipNext","tabindex","-1","aria-labelledby","skipNextLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body","text-center"],[1,"text-dark","mb-3"],[1,"d-flex","justify-content-between"],["routerLink","/cases/case-add-file-upload","data-bs-dismiss","modal",1,"btn","btn-secondary","me-2"],["type","submit","data-bs-toggle","modal","data-bs-target","#skipNext",1,"btn","btn-default","mt-1","me-2",3,"disabled"],["placeholder","Select","required","","name","caseName","id","caseName",3,"items","editableSearchTerm","ngModel","change"],["type","text","readonly","","placeholder","Enter Title here","name","caseName","id","caseName","ngModel","","required","",1,"form-control",3,"ngModel"],[2,"color","#F7517F","font-weight","bold"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Cases"),e.qZA()(),e.TgZ(8,"li",1)(9,"a",5),e._uU(10,"Add Cases"),e.qZA()(),e.TgZ(11,"li",1)(12,"a",6),e._uU(13,"Invite Members"),e.qZA()(),e.TgZ(14,"li",7),e._uU(15," Add Milestone "),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9)(18,"div",10)(19,"h3",11),e._uU(20),e.TgZ(21,"span",12),e._uU(22),e.qZA(),e.TgZ(23,"div",13),e._UZ(24,"div",14),e.qZA()()()(),e._UZ(25,"div",15),e.qZA(),e.TgZ(26,"form",16,17),e.NdJ("ngSubmit",function(){e.CHM(i);const l=e.MAs(27);return a.onSubmitMilestone(l)}),e.TgZ(28,"div",18)(29,"div",19)(30,"div",20)(31,"div",21)(32,"div",22)(33,"div",23)(34,"h5",24),e._uU(35,"Add Milestone"),e.qZA()()()(),e.TgZ(36,"div",25)(37,"div",26)(38,"div",19)(39,"div",22)(40,"div",9)(41,"div",27)(42,"label",28),e._uU(43,"Case Title "),e.qZA(),e.YNc(44,ce,1,2,"ng-select",29),e.YNc(45,ue,1,1,"input",30),e.qZA()(),e.TgZ(46,"div",9)(47,"div",27)(48,"label",28),e._uU(49,"Title "),e.qZA(),e._UZ(50,"input",31),e.qZA()(),e.TgZ(51,"div",19)(52,"div",27)(53,"label",28),e._uU(54,"Description"),e.qZA(),e._UZ(55,"app-cvfast"),e.qZA()(),e.TgZ(56,"div",32)(57,"div",27)(58,"label",33),e._uU(59,"Start Date & Time"),e.qZA(),e._UZ(60,"input",34)(61,"owl-date-time",null,35),e.qZA()(),e.TgZ(63,"div",32)(64,"div",27)(65,"label",33),e._uU(66,"Due Date & Time"),e.qZA(),e._UZ(67,"input",36)(68,"owl-date-time",null,37),e.YNc(70,me,2,0,"span",38),e.qZA()(),e.TgZ(71,"div",32)(72,"div",27)(73,"label",33),e._uU(74,"Add Reminder"),e.qZA(),e.TgZ(75,"select",39)(76,"option",40),e._uU(77,"Select"),e.qZA(),e.TgZ(78,"option",41),e._uU(79,"12 Hours"),e.qZA(),e.TgZ(80,"option",42),e._uU(81,"1 Day"),e.qZA(),e.TgZ(82,"option",43),e._uU(83,"2 Days"),e.qZA(),e.TgZ(84,"option",44),e._uU(85,"3 Days"),e.qZA(),e.TgZ(86,"option",45),e._uU(87,"5 Days"),e.qZA()()()()()()()()()(),e.TgZ(88,"div",46),e._UZ(89,"input",47)(90,"input",48)(91,"input",49)(92,"input",50),e.TgZ(93,"button",51),e._UZ(94,"i",52),e._uU(95," Save"),e.qZA(),e.TgZ(96,"a",53),e._uU(97,"Cancel"),e.qZA(),e.TgZ(98,"div",54)(99,"div",55)(100,"div",56)(101,"div",57)(102,"h6",58),e._uU(103,"Would you like to go?"),e.qZA(),e.TgZ(104,"div",59)(105,"a",60),e._uU(106,"Skip"),e.qZA(),e.TgZ(107,"button",61),e._uU(108,"Next"),e.qZA()()()()()()()()()}if(2&t){const i=e.MAs(27),n=e.MAs(62),l=e.MAs(69);e.xp6(20),e.hij("",a.patientName," "),e.xp6(2),e.Oqu(a.casesName),e.xp6(22),e.Q6J("ngIf",""==a.checkCase),e.xp6(1),e.Q6J("ngIf","1"==a.checkCase),e.xp6(15),e.Q6J("owlDateTime",n)("owlDateTimeTrigger",n),e.xp6(7),e.Q6J("owlDateTime",l)("owlDateTimeTrigger",l),e.xp6(3),e.Q6J("ngIf",1==a.isvalidDate),e.xp6(20),e.s9C("ngModel",a.caseid),e.xp6(1),e.s9C("ngModel",a.patientid),e.xp6(1),e.s9C("ngModel",a.patientName),e.xp6(15),e.Q6J("disabled",!i.form.valid)}},directives:[g.yS,r._Y,r.JL,r.F,h.O5,f.w9,r.Q7,r.JJ,r.On,r.Fj,b.x,_.BO,_.sZ,_.hV,r.EJ,r.YN,r.Kr],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}"]}),s})();var ge=m(5243);const he=[{path:"",component:q,children:[{path:"",redirectTo:"case-list",pathMatch:"full"},{path:"case-list",component:k},{path:"case-add",component:W},{path:"case-add-invite-members",component:se},{path:"case-add-milestone",component:pe},{path:"case-add-task-add",component:oe},{path:"case-add-file-upload",component:re},{path:"case-edit/:caseId",component:te}]}];let be=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[h.ez,g.Bz.forChild(he),x.T,f.A0,ge.PatientsModule,_.Ll,r.u5,y.rP,r.UX,_.x]]}),s})()}}]);