"use strict";(self.webpackChunkDentalLive_dev=self.webpackChunkDentalLive_dev||[]).push([[867],{5867:(gt,Z,l)=>{l.r(Z),l.d(Z,{MailsModule:()=>pt});var u=l(9808),p=l(1879),m=l(6866),x=l(7149),h=l(9004),e=l(5e3),v=l(9114),T=l(3762),y=l(2290),c=l(2382),A=l(9506);const U=["case"];function N(o,s){if(1&o&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.patientId),e.xp6(1),e.hij(" ",t.firstName+" "+t.lastName,"")}}function V(o,s){if(1&o&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.caseId),e.xp6(1),e.hij(" ",t.title,"")}}function k(o,s){if(1&o&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.subUserID),e.xp6(1),e.hij(" ",t.firstName+" "+t.lastName,"")}}function J(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"select",28,29),e.NdJ("change",function(){e.CHM(t);const n=e.MAs(2);return e.oxw().filterSubuser(n.value)}),e.TgZ(3,"option",4),e._uU(4,"Any Member"),e.qZA(),e.YNc(5,k,2,2,"option",5),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.subuserList)}}function j(o,s){1&o&&e._UZ(0,"ngx-shimmer-loading",33),2&o&&e.Q6J("width","100%")("height","30px")("margin","20px")}function D(o,s){if(1&o&&(e.ynx(0,30),e._UZ(1,"div",31),e.YNc(2,j,1,3,"ngx-shimmer-loading",32),e.BQk()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.shimmer(10).fill(1))}}function P(o,s){if(1&o&&(e.TgZ(0,"th",34),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.typename," ")}}function R(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.hij(" ",("INC"==t.mailType?i.username:t.MailTo.toString().split("<")[0].length>40)?("INC"==t.mailType?i.username:e.Dn7(2,1,t.MailTo.toString().split("<")[0],0,40))+"..":"INC"==t.mailType?i.username:t.MailTo.toString().split("<")[0]," ")}}function L(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.MailFrom.toString().split("<")[0].length>40?e.Dn7(2,1,t.MailFrom.toString().split("<")[0],0,40)+"..":t.MailFrom.toString().split("<")[0]," ")}}function q(o,s){if(1&o&&(e.TgZ(0,"td",35)(1,"div",36),e.YNc(2,R,3,5,"span",37),e.YNc(3,L,3,5,"span",37),e.TgZ(4,"span",38),e._uU(5),e.qZA()()()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf","OUT"==i.type),e.xp6(1),e.Q6J("ngIf","INC"==i.type),e.xp6(2),e.Oqu(i.getThreadCount(t.references))}}function F(o,s){1&o&&(e.TgZ(0,"th",39),e._uU(1," Subject "),e.qZA())}function Q(o,s){if(1&o&&(e.TgZ(0,"td",40),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.subject.length>100?e.Dn7(2,1,t.subject,0,100)+"..":t.subject," ")}}function Y(o,s){1&o&&(e.TgZ(0,"th",41),e._uU(1," Date "),e.qZA())}function O(o,s){if(1&o&&(e.TgZ(0,"td",42),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.mailDateTime,"MMM d, y, h:mm a")," ")}}function E(o,s){1&o&&e._UZ(0,"tr",43)}const H=function(o,s){return["/mail/view",o,s]};function $(o,s){if(1&o&&e._UZ(0,"tr",44),2&o){const t=s.$implicit,i=e.oxw();e.Q6J("routerLink",e.WLB(1,H,i.pathType,t.mailDateTime))}}const B=function(){return[10,20,30]};let M=(()=>{class o{constructor(t,i,n,a){this.router=t,this.dataService=i,this.usr=n,this.utility=a,this.user=this.usr.getUserDetails().emailAddress,this.isetr=!!this.usr.getUserDetails().etrID,this.type="INC",this.typename="Inbox",this.typecol="MailFrom",this.patientId=0,this.caseId=0,this.subUserId=0,this.data={},this.shimmer=Array,this.loading=!0,this.patientList=[],this.caseList=[],this.subuserList=[],this.username="",this.pathType="inbox",this.mails=[],this.displayedColumns=["MailFrom","subject","mailDateTime"]}ngOnInit(){this.username=this.usr.getUserDetails().accountfirstName+" "+this.usr.getUserDetails().accountlastName,"/mail/sent"==this.router.url&&(this.displayedColumns=["MailTo","subject","mailDateTime"],this.type="OUT",this.typename="Sent",this.typecol="MailTo",this.pathType="sent"),this.data={user:this.user,mailType:this.type,pid:this.patientId,cid:this.caseId,sid:this.subUserId},this.fetchData()}fetchData(){this.usr.getUserDetails(),this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/patients",!0).subscribe(i=>{i&&(i=JSON.parse(i.toString())),this.patientList=i},i=>{this.loading=!1}),this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/cases",!0).subscribe(i=>{i&&(i=JSON.parse(i.toString())),this.caseList=i},i=>{this.loading=!1}),this.isetr||this.dataService.getallData(this.utility.apiData.subUser.ApiUrl+`?did=${this.user}`,!0).subscribe(i=>{i&&(i=JSON.parse(i.toString())),this.subuserList=i},i=>{this.loading=!1}),this.fetchMails()}fetchMails(){this.loading=!0,this.dataService.postData(this.utility.apiData.mails.ApiUrl,JSON.stringify(this.data),!0).subscribe(t=>{t&&(t=JSON.parse(t.toString())),t&&(this.dataSource=new m.by(t),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.loading=!1)},t=>(this.loading=!1,null))}getThreadCount(t){return t?"string"==typeof t?(t=t.split(">")).length:t.length+1:""}updateCaseFilter(){this.dataService.getallData(this.patientId?`https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/cases?patientId=${this.patientId}`:"https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/cases",!0).subscribe(t=>{t&&(t=JSON.parse(t.toString())),this.caseList=t,this.case.nativeElement.value=""},t=>{this.loading=!1}),this.case.nativeElement.value=""}filterPatient(t){this.patientId=t||0,this.data={user:this.user,mailType:this.type,pid:this.patientId,cid:this.caseId,sid:this.subUserId},this.fetchMails(),this.updateCaseFilter()}filterCase(t){this.caseId=t||0,this.data={user:this.user,mailType:this.type,pid:this.patientId,cid:this.caseId,sid:this.subUserId},this.fetchMails()}filterSubuser(t){this.subUserId=t||0,this.data={user:this.user,mailType:this.type,pid:this.patientId,cid:this.caseId,sid:this.subUserId},this.fetchMails()}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.F0),e.Y36(v.T),e.Y36(T.f),e.Y36(y.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-mail-inbox"]],viewQuery:function(t,i){if(1&t&&(e.Gf(x.NW,5),e.Gf(h.YE,5),e.Gf(U,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first),e.iGM(n=e.CRH())&&(i.case=n.first)}},decls:34,vars:12,consts:[[1,"row"],[1,"form-group","mb-md-0","mb-3","d-flex","col-md-3","position-relative"],["ngModel","","id","patientId","name","patientId",1,"form-select",3,"change"],["patient",""],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["ngModel","","id","caseId","name","caseId",1,"form-select",3,"disabled","change"],["case",""],["class","form-group mb-md-0 mb-3 d-flex col-md-3 position-relative",4,"ngIf"],[1,"search","col-md-3"],[1,"fa","fa-search","mx-2",2,"color","rgba(208, 214, 222, 0.5)","font-size","16px"],["id","search","placeholder","Search Mail",1,"form-control",3,"keyup"],["class","mt-3",4,"ngIf"],[1,"w-100","overflow-auto"],["mat-table","","matSort","","matSortActive","mailDateTime","matSortDirection","desc",1,"w-100","shadow","mt-4",2,"transition","all 1s","min-width","768px",3,"hidden","dataSource"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","subject"],["style","max-width: 60%;","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["style","max-width: 60%;","mat-cell","",4,"matCellDef"],["matColumnDef","mailDateTime"],["style","max-width: 20%;","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["style","max-width: 20%;","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","style","cursor: pointer;",3,"routerLink",4,"matRowDef","matRowDefColumns"],[1,"mt-3",3,"pageSizeOptions","showFirstLastButtons"],[3,"value"],["ngModel","","id","subUserId","name","subUserId",1,"form-select",3,"change"],["subuser",""],[1,"mt-3"],[1,"mt-5","w-100"],["style","margin-top: 1.5em;display: block;transition: all 1s;","class","vh-100",3,"width","height","margin",4,"ngFor","ngForOf"],[1,"vh-100",2,"margin-top","1.5em","display","block","transition","all 1s",3,"width","height","margin"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"d-flex","align-items-center","me-2"],[4,"ngIf"],[1,"badge","bg-light","text-dark","mx-2"],["mat-header-cell","","mat-sort-header","",2,"max-width","60%"],["mat-cell","",2,"max-width","60%"],["mat-header-cell","","mat-sort-header","",2,"max-width","20%"],["mat-cell","",2,"max-width","20%"],["mat-header-row",""],["mat-row","",2,"cursor","pointer",3,"routerLink"]],template:function(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"select",2,3),e.NdJ("change",function(){e.CHM(n);const r=e.MAs(4);return i.filterPatient(r.value)}),e.TgZ(5,"option",4),e._uU(6,"All Patients"),e.qZA(),e.YNc(7,N,2,2,"option",5),e.qZA()(),e.TgZ(8,"div",1)(9,"select",6,7),e.NdJ("change",function(){e.CHM(n);const r=e.MAs(10);return i.filterCase(r.value)}),e.TgZ(11,"option",4),e._uU(12,"All Cases"),e.qZA(),e.YNc(13,V,2,2,"option",5),e.qZA()(),e.YNc(14,J,6,1,"div",8),e.TgZ(15,"div",9),e._UZ(16,"i",10),e.TgZ(17,"input",11),e.NdJ("keyup",function(r){return i.applyFilter(r.target.value)}),e.qZA()()(),e.TgZ(18,"div"),e.YNc(19,D,3,1,"ng-container",12),e.TgZ(20,"div",13)(21,"table",14),e.ynx(22,15),e.YNc(23,P,2,1,"th",16),e.YNc(24,q,6,3,"td",17),e.BQk(),e.ynx(25,18),e.YNc(26,F,2,0,"th",19),e.YNc(27,Q,3,5,"td",20),e.BQk(),e.ynx(28,21),e.YNc(29,Y,2,0,"th",22),e.YNc(30,O,3,4,"td",23),e.BQk(),e.YNc(31,E,1,0,"tr",24),e.YNc(32,$,1,4,"tr",25),e.qZA()(),e._UZ(33,"mat-paginator",26),e.qZA()()}if(2&t){const n=e.MAs(4);e.xp6(7),e.Q6J("ngForOf",i.patientList),e.xp6(2),e.Q6J("disabled",!n.value),e.xp6(4),e.Q6J("ngForOf",i.caseList),e.xp6(1),e.Q6J("ngIf",!i.isetr),e.xp6(5),e.Q6J("ngIf",i.loading),e.xp6(2),e.Q6J("hidden",i.loading)("dataSource",i.dataSource),e.xp6(1),e.s9C("matColumnDef",i.typecol),e.xp6(9),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(11,B))}},directives:[c.EJ,c.JJ,c.On,c.YN,c.Kr,u.sg,u.O5,A.w,m.BZ,h.YE,m.w1,m.fO,m.ge,h.nU,m.Dz,m.ev,m.as,m.XQ,m.nj,m.Gk,p.rH,x.NW],pipes:[u.OU,u.uU],styles:["table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{width:20%;word-break:break-word;padding:1em!important;max-width:20%}"]}),o})();var f=l(17),w=l(1235),z=l(8684),G=l(7778),X=l(1373),d=l.n(X),W=l(5038),S=l(2313),C=l(8752),K=l(3858);const ee=["case"],te=["patient"];function ie(o,s){1&o&&(e.TgZ(0,"h5",63)(1,"a",64),e._UZ(2,"i",65),e.qZA(),e._uU(3,"Compose Mail"),e.qZA())}function oe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"h5",66)(1,"span"),e._uU(2,"Reply Mail"),e.qZA(),e.TgZ(3,"i",67),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeComp.emit(!0)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("hidden",t.sending)}}function ne(o,s){1&o&&(e.TgZ(0,"div",7),e._UZ(1,"lottie-player",68),e.TgZ(2,"h6",69),e._uU(3,"Sending Email....please wait,dont close this page"),e.qZA()())}function se(o,s){if(1&o&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.patientId),e.xp6(1),e.hij(" ",t.firstName+" "+t.lastName,"")}}function ae(o,s){if(1&o&&(e.TgZ(0,"option",75),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.caseId),e.xp6(1),e.hij(" ",t.title,"")}}function re(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",9)(2,"select",70,71),e.NdJ("change",function(){e.CHM(t);const n=e.MAs(3);return e.oxw().addPatient(n.value)}),e.TgZ(4,"option",72),e._uU(5,"No Patient"),e.qZA(),e.YNc(6,se,2,2,"option",16),e.qZA()(),e.TgZ(7,"div",9)(8,"select",73,74)(10,"option",72),e._uU(11,"No Case"),e.qZA(),e.YNc(12,ae,2,2,"option",16),e.qZA()(),e.BQk()}if(2&o){const t=e.MAs(3),i=e.oxw();e.xp6(2),e.Q6J("disabled",i.isPatientDisable),e.xp6(4),e.Q6J("ngForOf",i.patientList),e.xp6(2),e.Q6J("disabled",!t.value||i.isCaseDisabled),e.xp6(4),e.Q6J("ngForOf",i.caseList)}}function le(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"small",76),e._uU(1),e.TgZ(2,"i",77),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw().addressList.splice(a,1)}),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function ce(o,s){if(1&o&&(e.TgZ(0,"mat-option",75),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.email),e.xp6(1),e.hij(" ",t.firstName+" "+t.lastName+" <"+t.email+">"," ")}}function de(o,s){if(1&o&&(e.TgZ(0,"div",78)(1,"span",79),e._UZ(2,"i",80),e.qZA(),e.TgZ(3,"div",81)(4,"div"),e._UZ(5,"br")(6,"br"),e._uU(7),e.ALo(8,"date"),e._UZ(9,"br"),e.qZA(),e._UZ(10,"blockquote",82),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.uIk("data-bs-target","#trail"),e.xp6(6),e.AsE("On ",e.xi3(8,4,t.message.mailDateTime,"medium")," ',' ",t.message.MailFrom," + wrote:"),e.xp6(3),e.Q6J("innerHTML",t.sanitizer.bypassSecurityTrustHtml(t.mail.trail),e.oJD)}}function ue(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",83),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.screenPlayer.record().getDevice(),n.StepScreen=2}),e._uU(1,"Start Screen"),e.qZA()}}function pe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.screenPlayer.record().reset(),n.StepScreen=1}),e._uU(1,"Discard"),e.qZA()}}function me(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",85),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.screenPlayer.record().start(),n.StepScreen=3}),e._uU(1,"Record"),e.qZA()}}function _e(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.screenPlayer.record().pause(),n.StepScreen=4}),e._uU(1,"Pause"),e.qZA()}}function ge(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.screenPlayer.record().resume(),n.StepScreen=3}),e._uU(1,"Resume"),e.qZA()}}function he(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.screenPlayer.record().stop(),n.StepScreen=5}),e._uU(1,"Stop"),e.qZA()}}function fe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.MAs(58),n.latestScreenRecord=null,n.screenPlayer.record().reset(),n.StepScreen=1}),e._uU(1,"Discard"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",null==t.latestScreenRecord)}}function be(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(58);return n.addScreen(a.value.trim()),a.value=n.validNaming.test(a.value.trim())?"":a.value}),e._uU(1,"Add Screen"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",null==t.latestScreenRecord)}}function xe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",83),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.audioPlayer.record().getDevice(),n.StepAudio=2}),e._uU(1,"Open Audio"),e.qZA()}}function ve(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.audioPlayer.record().reset(),n.StepAudio=1}),e._uU(1,"Discard"),e.qZA()}}function Te(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",85),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.audioPlayer.record().start(),n.StepAudio=3}),e._uU(1,"Record"),e.qZA()}}function ye(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.audioPlayer.record().pause(),n.StepAudio=4}),e._uU(1,"Pause"),e.qZA()}}function Ce(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.audioPlayer.record().resume(),n.StepAudio=3}),e._uU(1,"Resume"),e.qZA()}}function Ze(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.audioPlayer.record().stop(),n.StepAudio=5}),e._uU(1,"Stop"),e.qZA()}}function Ae(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.MAs(73),n.latestAudioRecord=null,n.audioPlayer.record().reset(),n.StepAudio=1}),e._uU(1,"Discard"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",null==t.latestAudioRecord)}}function Me(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(73);return n.addAudio(a.value.trim()),a.value=n.validNaming.test(a.value.trim())?"":a.value}),e._uU(1,"Add Audio"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",null==t.latestAudioRecord)}}function we(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",83),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.VideoPlayer.record().getDevice(),n.StepVideo=2}),e._uU(1,"Open Camera"),e.qZA()}}function Se(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.VideoPlayer.record().reset(),n.StepVideo=1}),e._uU(1,"Discard"),e.qZA()}}function Ie(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",85),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.VideoPlayer.record().start(),n.StepVideo=3}),e._uU(1,"Record"),e.qZA()}}function Ue(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.VideoPlayer.record().pause(),n.StepVideo=4}),e._uU(1,"Pause"),e.qZA()}}function Ne(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.VideoPlayer.record().resume(),n.StepVideo=3}),e._uU(1,"Resume"),e.qZA()}}function Ve(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.VideoPlayer.record().stop(),n.StepVideo=5}),e._uU(1,"Stop"),e.qZA()}}function ke(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(88);return n.VideoPlayer.record().reset(),n.latestVideoRecord=null,n.StepVideo=1,a.value=""}),e._uU(1,"Discard"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",null==t.latestVideoRecord)}}function Je(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(88);return n.addVideo(a.value.trim()),a.value=n.validNaming.test(a.value.trim())?"":a.value}),e._uU(1,"Add Video"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",null==t.latestVideoRecord)}}function je(o,s){1&o&&(e.TgZ(0,"label",90),e._uU(1,"No files added,Click the below button to add files."),e.qZA())}function De(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li",91,92)(2,"label"),e._uU(3),e.qZA(),e.TgZ(4,"strong",93),e.NdJ("click",function(){const a=e.CHM(t).index,r=e.MAs(1);return e.oxw().removeFiles(a,r)}),e._uU(5,"Delete"),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(3),e.Oqu(t.name)}}function Pe(o,s){1&o&&(e.TgZ(0,"small",94),e._uU(1,"Enter data in required feilds"),e.qZA())}const Re=function(o,s){return{"ng-invalid":o,"ng-touched":s}};w.microphone=z;let b=(()=>{class o{constructor(t,i,n,a,r,_,g,mt,_t){this.router=t,this.route=i,this.Service=n,this.sanitizer=a,this.datePipe=r,this.dataService=_,this.usr=g,this.utility=mt,this.cdref=_t,this.closeComp=new e.vpe,this.latestVideoRecord=null,this.latestAudioRecord=null,this.latestScreenRecord=null,this.recordings=[],this.attachmentNames=[],this.StepVideo=1,this.StepAudio=1,this.StepScreen=1,this.sending=!1,this.invalidForm=!1,this.patientList=[],this.caseList=[],this.contactList=[],this.contactFilterdList=[],this.addressList=[],this.isPatientDisable=!1,this.isCaseDisabled=!1,this.validNaming=/^([a-zA-Z0-9 _]+)$/,this.validMail=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.istouched=!1,this.pipEnabled=!1}ngOnInit(){if(this.route.paramMap.subscribe(t=>{t.get("patientId")&&""!=t.get("patientId")&&(this.isPatientDisable=!0,t.get("caseId")&&""!=t.get("caseId")&&(this.isCaseDisabled=!0))}),this.mail={toAddresses:"",ccAddresses:"",subject:"",trail:""},this.initPlayers(),this.profile=this.usr.getUserDetails().imageSrc?this.utility.apiData.mails.bucketUrl+this.usr.getUserDetails().imageSrc:this.utility.apiData.mails.bucketUrl+"account.png",this.subUserId=0,this.fromAddress=this.usr.getUserDetails().emailAddress,this.fetchData(),this.message){this.inReplyTo=this.message.messageId,this.references=this.message.references+this.message.messageId,this.references=this.references.replace(/,/g,"");let t=this.message.MailTo.split(",");if("OUT"==this.message.mailType)for(let i of t)this.addressList.push(i);else this.addressList.push(this.message.MailFrom);this.mail.ccAddresses=this.message.MailCc,this.mail.trail=this.message.htmlText,this.mail.subject=this.message.subject}else this.usr.getUserDetails().forwards&&this.usr.getUserDetails().forwards.length>0&&(this.addressList=[...this.usr.getUserDetails().forwards])}ngAfterViewInit(){this.VideoPlayer=(0,f.default)(document.getElementById("videoPlayer"),this.VideoConfig),this.VideoPlayer.on("finishRecord",()=>{this.latestVideoRecord=this.VideoPlayer.recordedData,this.VideoPlayer.record().stopDevice(),this.cdref.detectChanges()}),this.VideoPlayer.on("deviceError",t=>console.log(t)),this.VideoPlayer.on("error",t=>console.log(t)),this.VideoPlayer.on("deviceReady",()=>this.StepVideo=2),this.VideoPlayer.on("startRecord",()=>this.StepVideo=3),this.VideoPlayer.on("stopRecord",()=>{5!=this.StepVideo&&(this.StepVideo=5)}),this.audioPlayer=(0,f.default)(document.getElementById("audioPlayer"),this.audioConfig),this.audioPlayer.on("finishRecord",()=>{this.latestAudioRecord=this.audioPlayer.recordedData,this.audioPlayer.record().stopDevice(),this.cdref.detectChanges()}),this.audioPlayer.on("deviceReady",()=>this.StepAudio=2),this.audioPlayer.on("error",t=>console.log(t)),this.audioPlayer.on("startRecord",()=>this.StepAudio=3),this.audioPlayer.on("stopRecord",()=>{5!=this.StepAudio&&(this.StepAudio=5)}),this.screenPlayer=(0,f.default)(document.getElementById("screenPlayer"),this.screenConfig),this.screenPlayer.on("finishRecord",()=>{this.latestScreenRecord=this.screenPlayer.recordedData,this.screenPlayer.record().stopDevice(),this.cdref.detectChanges()}),this.screenPlayer.on("deviceReady",()=>this.StepScreen=2),this.screenPlayer.on("error",t=>console.log(t)),this.screenPlayer.on("startRecord",()=>this.StepScreen=3),this.screenPlayer.on("stopRecord",()=>{5!=this.StepScreen&&(this.StepScreen=5)}),this.popupVideoPlayer=(0,f.default)(document.getElementById("popupVideoPlayer"),this.popupVideoConfig),this.popupVideoPlayer.on("deviceReady",()=>{this.popupVideoPlayer.requestPictureInPicture()}),this.popupVideoPlayer.on("leavePIP",()=>{this.popupVideoPlayer.record().stopDevice(),this.pipEnabled=!1})}ngOnDestroy(){this.VideoPlayer&&(this.VideoPlayer.dispose(),this.VideoPlayer=!1),this.audioPlayer&&(this.audioPlayer.dispose(),this.audioPlayer=!1),this.screenPlayer&&(this.screenPlayer.dispose(),this.screenPlayer=!1),this.popupVideoPlayer&&(this.popupVideoPlayer.dispose(),this.popupVideoPlayer=!1)}initPlayers(){this.VideoPlayer=!1,this.audioPlayer=!1,this.screenPlayer=!1,this.popupVideoPlayer=!1,this.plugin=G,this.VideoConfig={controls:!0,width:320,height:240,plugins:{record:{audio:!0,maxLength:1800,video:{width:{min:1024,ideal:1280,max:1920},height:{min:576,ideal:720,max:1080}},frameWidth:1920,frameHeight:1080}}},this.audioConfig={controls:!0,width:320,height:240,plugins:{wavesurfer:{backend:"WebAudio",waveColor:"#D32F2F",progressColor:"black",hideScrollbar:!0,plugins:[w.microphone.create({bufferSize:4096,numberOfInputChannels:1,numberOfOutputChannels:1,constraints:{video:!1,audio:!0}})]},record:{audio:!0,video:!1,maxLength:1800}}},this.screenConfig={controls:!0,bigPlayButton:!1,width:320,height:240,plugins:{record:{audio:!0,screen:!0,maxLength:1800,pip:!0}}},this.popupVideoConfig={controls:!1,width:320,height:240,plugins:{record:{audio:!1,video:!0,pip:!0}}}}updateCaseFilter(t){this.dataService.getallData(t?`https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/cases?patientId=${t}`:"https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/cases",!0).subscribe(i=>{i&&(i=JSON.parse(i.toString())),this.caseList=i,this.case.nativeElement.value=""},i=>null),this.case.nativeElement.value=""}addPatient(t){let i=this.patientList.find(n=>n.patientId==t);this.addressList.includes(i.email)||this.addressList.push(i.email),this.updateCaseFilter(t)}addtoList(t,i,n){!n.showPanel&&t&&""!=t&&(this.validMail.test(String(t).toLowerCase())?(this.addressList.includes(t)||this.addressList.push(t),i.value=""):d()("Invalid E-Mail address"))}addMailOption(t,i){console.log(t,i),this.addressList.includes(t)||this.addressList.push(t),i.value="",i.focus()}addMail(t,i,n){if("Enter"===t.key||","===t.key){if(this.validMail.test(String(i).toLowerCase()))return this.addressList.includes(i)||this.addressList.push(i),n.value="",!1;d()("Invalid E-Mail address")}return null}filterContact(t){if(""==t)return;let i=this.contactList.filter(function(n){return n.firstName.includes(t)||n.lastName.includes(t)||n.email.includes(t)});this.contactFilterdList=i}fetchData(){let t=this.usr.getUserDetails().emailAddress;this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/patients",!0).subscribe(i=>{i&&(i=JSON.parse(i.toString())),this.patientList=i,this.route.paramMap.subscribe(n=>{n.get("patientId")&&""!=n.get("patientId")&&(this.isPatientDisable=!0,this.patientList.some(a=>a.patientId===n.get("patientId"))||(d()("Invalid patient"),this.router.navigate(["/mail/inbox"])))})},i=>(d()("Invalid patient"),this.router.navigate(["/mail/inbox"]),null)),this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/cases",!0).subscribe(i=>{i&&(i=JSON.parse(i.toString())),this.caseList=i,this.route.paramMap.subscribe(n=>{n.get("caseId")&&""!=n.get("caseId")&&(this.isCaseDisabled=!0,this.caseList.some(a=>a.caseId===n.get("caseId"))||(d()("Invalid case"),this.router.navigate(["/mail/inbox"])))})},i=>(d()("Invalid case"),this.router.navigate(["/mail/inbox"]),null)),this.dataService.getallData(this.utility.apiData.contacts.ApiUrl+`?did=${t}`,!0).subscribe(i=>{i&&(i=JSON.parse(i.toString())),i&&(this.contactList=i,this.contactFilterdList=this.contactList)},i=>null)}getRecordingUniqueName(t){let i=0;do{i>0&&(t=t.split(".")[0]+"_"+i+"."+t.split(".")[1]),i++}while(this.recordings.some(n=>n.name==t));return t}addVideo(t){if(t&&!this.validNaming.test(t))return void d()("Update File Name,only numbers,alphabets and underscore is allowed");t||(t=this.usr.getUserDetails().accountfirstName+"_"+this.usr.getUserDetails().accountlastName+"_"+(new Date).getTime());let i=t.replace(/\s+/g,"")+".mp4";this.latestVideoRecord&&(this.recordings.push({name:this.getRecordingUniqueName(i),data:this.latestVideoRecord}),this.latestVideoRecord=null,this.VideoPlayer.record().reset()),this.StepVideo=1}addAudio(t){if(t&&!this.validNaming.test(t))return d()("Update File Name,only numbers,alphabets and underscore is allowed"),!1;t||(t=this.usr.getUserDetails().accountfirstName+"_"+this.usr.getUserDetails().accountlastName+"_"+(new Date).getTime());let i=t.replace(/\s+/g,"")+".mp3";return this.latestAudioRecord&&(this.recordings.push({name:this.getRecordingUniqueName(i),data:this.latestAudioRecord}),console.log(this.recordings),this.latestAudioRecord=null,this.audioPlayer.record().reset()),this.StepAudio=1,null}addScreen(t){if(t&&!this.validNaming.test(t))return void d()("Update File Name,only numbers,alphabets and underscore is allowed");t||(t=this.usr.getUserDetails().accountfirstName+"_"+this.usr.getUserDetails().accountlastName+"_"+(new Date).getTime());let i=t.replace(/\s+/g,"")+".mp4";this.latestScreenRecord&&(this.recordings.push({name:this.getRecordingUniqueName(i),data:this.latestScreenRecord}),this.latestScreenRecord=null,this.screenPlayer.record().reset()),this.StepScreen=1}togglePictureInPicture(){"pictureInPictureEnabled"in document?(this.pipEnabled||this.popupVideoPlayer.record().getDevice(),this.pipEnabled=!this.pipEnabled):d()("Your Browser dosent support this feature,please use Goole Chrome or Safari for this Feature")}saveFiles(){let t=this.recordings.map(i=>this.utility.uploadBinaryData(i.name,i.data,"dentalmail-attachments"));Promise.all(t).then(i=>{this.attachmentNames=i,this.savetoDB()}).catch(i=>{d()("Error sending email,please try again"),this.sending=!1})}savetoDB(){let t=document.getElementById("message").innerHTML+"<br>",i=document.getElementById("message").textContent+"\n\n";this.attachmentNames.forEach(a=>{t=t+'<a style="margin-top:10px;display: inline-block;width: 200px;margin-right: 20px;" href="'+this.utility.apiData.mails.fileURL+a.name+'" target="_blank"><img src="'+this.profile+'" alt="'+a.name+'" width="200"><strong style="display:block;width:100%;text-align:center;margin-top:15px;">'+a.name+"</strong></a>",i=i+"\n"+a.name+"\n\n"+this.utility.apiData.mails.fileURL+a.name+"\n"}),document.getElementById("trail")&&(t+=document.getElementById("trail").innerHTML,i=i+"\n\n"+document.getElementById("trail").textContent);let n=this.form.value;n.fromAddress=this.fromAddress,n.inReplyTo=this.inReplyTo,n.references=this.references,n.subUserId=this.subUserId,n.htmlText=t,n.plainText=i,n.loggedUser=this.usr.getUserDetails().emailAddress,n.toAddresses=this.addressList.join(","),n.sender=this.usr.getUserDetails().accountfirstName+" "+this.usr.getUserDetails().accountlastName,n.attachmentList=this.attachmentNames,this.usr.getUserDetails().Subuser&&(n.subUserId=this.usr.getUserDetails().Subuser.subUserID),this.message&&(n.patientId=this.message.patientId,n.caseId=this.message.caseId),this.dataService.postData(this.utility.apiData.mails.ApiUrl,JSON.stringify(n)).subscribe(a=>{d()("Email sent successfully"),this.sending=!1,this.router.navigate(["/mail/inbox"])},a=>{402==a.status?d()("Storage Full,Please add additional storage to send this email"):d()("Error sending email,please try again"),this.sending=!1})}loadFiles(t){if(t.target.files.length>0){let i=["image","video","audio","pdf","msword","ms-excel"];Array.from(t.target.files).forEach(n=>{i.some(a=>n.type.includes(a))?this.recordings.push({name:this.getRecordingUniqueName(n.name),data:n}):d()("File Extenion Not Allowed")})}}removeFiles(t,i){d()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this file!",icon:"warning",buttons:["Cancel","Ok"],dangerMode:!0}).then(n=>{n&&(i.classList.add("animate__lightSpeedOutRight"),setTimeout(()=>{this.recordings.splice(t,1)},500))})}onSubmit(t){if(t.invalid||0==this.addressList.length)return t.form.markAllAsTouched(),this.istouched=!0,void(this.invalidForm=!0);this.sending=!0,this.form=t,this.saveFiles()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.F0),e.Y36(p.gz),e.Y36(W.j),e.Y36(S.H7),e.Y36(u.uU),e.Y36(v.T),e.Y36(T.f),e.Y36(y.t),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-videojs-record"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ee,5),e.Gf(te,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.case=n.first),e.iGM(n=e.CRH())&&(i.patient=n.first)}},inputs:{message:"message"},outputs:{closeComp:"closeComp"},features:[e._Bn([u.uU])],decls:111,vars:51,consts:[["class","card-title pb-2  border-bottom","style","color: #011A3E;",4,"ngIf"],["class","card-title pb-3 mb-4 ms-1 border-bottom","style","color: #011A3E;",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"page_card","pt-2",3,"hidden"],["novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"row"],[1,"col-md-12"],[4,"ngIf"],[1,"form-floating","mb-3"],[1,"d-flex","form-control","flex-wrap","h-auto",3,"ngClass","click"],["style","font-size: 12px;font-weight: 100;","class","badge bg-light text-dark border-2 rounded-pill border align-self-center p-1 m-1 mb-3",4,"ngFor","ngForOf"],["type","email","autocomplete","email","pattern","^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$","id","floatingInput","placeholder","Eg. jhon@gmail.com","name","toAddresses",1,"form-control","border-0","p-0","m-0","h-auto","w-100","shadow-none",3,"matAutocomplete","ngModel","required","blur","keydown","keyup","ngModelChange"],["toAddress",""],[1,"w-100",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["for","floatingInput"],["type","text","name","ccAddresses","id","floatingInput","placeholder","Subject",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","floatingInput","placeholder","Subject","name","subject","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control","h-auto"],["contenteditable","true","id","message",2,"min-height","100px","overflow","auto"],["class","ellipsis mt-2",4,"ngIf"],["for","message"],[1,"mb-3"],[1,"col-md-4","mb-4"],[1,"body2",2,"color","#6E81A4"],[1,"position-relative"],["id","screenPlayer","playsinline","",1,"video-js","vjs-default-skin","w-100","mt-3","mb-3","rounded"],["type","button",1,"btn","mb-2","small","position-absolute","top-0","end-0",2,"background-color","#01579B","color","white",3,"hidden","click"],["aria-hidden","true",1,"fa","fa-video-camera"],[1,"row","gx-0","justify-content-between"],["type","button","class","btn-primary btn mb-2 small col-md-12",3,"click",4,"ngIf"],["type","button","class","btn btn-primary mb-2 small  col-md-5","style","background-color: #b00020;",3,"click",4,"ngIf"],["type","button","class","btn btn-primary mb-2 small  col-md-6",3,"click",4,"ngIf"],["type","button","style","background-color: #EF6C00;","class","btn btn-primary mb-2 small  col-md-5",3,"click",4,"ngIf"],["type","button","style","background-color: #b00020;","class","btn btn-primary mb-2 small  col-md-6",3,"click",4,"ngIf"],["type","text","placeholder","Screen Record Name",1,"form-control","col-md-12","mb-2",3,"disabled","hidden"],["screenName",""],["type","button","class","btn btn-primary mb-2 small  col-md-5","style","background-color: #b00020;",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary mb-2 small col-md-6",3,"disabled","click",4,"ngIf"],["id","audioPlayer",1,"video-js","vjs-default-skin","w-100","mt-3","mb-3","rounded"],["type","text","placeholder","Audio Record Name",1,"form-control","col-md-12","mb-2",3,"disabled","hidden"],["audioName",""],["id","videoPlayer","playsinline","",1,"video-js","vjs-default-skin","w-100","mt-3","mb-3","rounded"],["type","text","placeholder","Video Record Name",1,"form-control","col-md-12","mb-2",3,"disabled","hidden"],["videoName",""],[1,"d-none"],["id","popupVideoPlayer","playsinline","",1,"video-js","vjs-default-skin","w-100","mt-3","mb-3","rounded"],[1,"row","mt-4"],[1,"card","col-md-12","mb-4","rounded","p-5"],["class","d-block text-center fw-bold my-3 animate__animated  animate__faster animate__fadeInDown",4,"ngIf"],[1,"list-group"],["class","animate__animated  animate__faster animate__lightSpeedInLeft list-group-item",4,"ngFor","ngForOf"],[1,"custom-file"],["type","file","accept","audio/*,video/*,image/*,application/msword, application/vnd.ms-excel,application/pdf","multiple","","id","selectedFiles",1,"d-none","custom-file-input",3,"change"],["for","selectedFiles",1,"btn","btn-outline","d-block","mx-auto","my-3"],["src","../../../../../assets/images/file.png"],[1,"row","d-flex","row","justify-content-between","p-2"],[1,"col"],["class","d-block mb-2 text-center w-100 text-danger fw-bold ng-star-inserted",4,"ngIf"],["type","submit",1,"btn","btn-primary","add","me-2",2,"line-height","12px"],["routerLink","../","type","button",1,"btn","btn-outline-primary","cancel",2,"border-color","#00D9CC","text-transform","capitalize"],[1,"card-title","pb-2","border-bottom",2,"color","#011A3E"],["routerLink","../"],[1,"bx","bxs-chevron-left","me-2"],[1,"card-title","pb-3","mb-4","ms-1","border-bottom",2,"color","#011A3E"],["aria-hidden","true",1,"fa","fa-times","float-end",2,"cursor","pointer",3,"hidden","click"],["src","https://assets8.lottiefiles.com/packages/lf20_KwVaqs.json","background","transparent","speed","1","loop","","autoplay","",1,"mt-3","m-auto",2,"width","300px","height","300px"],[1,"text-center","mt-5"],["id","floatingSelect","ngModel","","id","patientId","name","patientId",1,"form-select",3,"disabled","change"],["patient",""],["selected","","value",""],["id","floatingSelect","ngModel","","id","caseId","name","caseId",1,"form-select",3,"disabled"],["case",""],[3,"value"],[1,"badge","bg-light","text-dark","border-2","rounded-pill","border","align-self-center","p-1","m-1","mb-3",2,"font-size","12px","font-weight","100"],[1,"fa","fa-times","m-1",3,"click"],[1,"ellipsis","mt-2"],["data-bs-toggle","collapse",1,"badge","rounded-pill","bg-light","text-dark"],["aria-hidden","true",1,"fa","fa-ellipsis-h"],["id","trail","editable","","contenteditable","true",1,"collapse","border","mt-2","rounded","p-2","body2"],[3,"innerHTML"],["type","button",1,"btn-primary","btn","mb-2","small","col-md-12",3,"click"],["type","button",1,"btn","btn-primary","mb-2","small","col-md-5",2,"background-color","#b00020",3,"click"],["type","button",1,"btn","btn-primary","mb-2","small","col-md-6",3,"click"],["type","button",1,"btn","btn-primary","mb-2","small","col-md-5",2,"background-color","#EF6C00",3,"click"],["type","button",1,"btn","btn-primary","mb-2","small","col-md-6",2,"background-color","#b00020",3,"click"],["type","button",1,"btn","btn-primary","mb-2","small","col-md-5",2,"background-color","#b00020",3,"disabled","click"],["type","button",1,"btn","btn-primary","mb-2","small","col-md-6",3,"disabled","click"],[1,"d-block","text-center","fw-bold","my-3","animate__animated","animate__faster","animate__fadeInDown"],[1,"animate__animated","animate__faster","animate__lightSpeedInLeft","list-group-item"],["attachment",""],[1,"float-end","text-danger",2,"cursor","pointer",3,"click"],[1,"d-block","mb-2","text-center","w-100","text-danger","fw-bold","ng-star-inserted"]],template:function(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div"),e.YNc(1,ie,4,0,"h5",0),e.YNc(2,oe,4,1,"h5",1),e.YNc(3,ne,4,0,"div",2),e.TgZ(4,"div",3)(5,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(n);const r=e.MAs(6);return i.onSubmit(r)}),e.TgZ(7,"div",6)(8,"div",7),e.YNc(9,re,13,4,"ng-container",8),e.TgZ(10,"div",9)(11,"div",10),e.NdJ("click",function(){return e.CHM(n),e.MAs(14).focus()}),e.YNc(12,le,3,1,"small",11),e.TgZ(13,"input",12,13),e.NdJ("blur",function(){return i.istouched=!0})("keydown",function(r){e.CHM(n);const _=e.MAs(14);return i.addMail(r,r.target.value,_)})("blur",function(r){e.CHM(n);const _=e.MAs(14),g=e.MAs(16);return i.addtoList(r.target.value,_,g)})("keyup",function(r){return i.filterContact(r.target.value)})("ngModelChange",function(r){return i.mail.toAddresses=r}),e.qZA(),e.TgZ(15,"mat-autocomplete",14,15),e.NdJ("optionSelected",function(r){e.CHM(n);const _=e.MAs(14);return i.addMailOption(r.option.value,_)}),e.YNc(17,ce,2,2,"mat-option",16),e.qZA()(),e.TgZ(18,"label",17),e._uU(19,"To"),e.TgZ(20,"small"),e._uU(21," (Seperated by commas or hit enter for multiple email address)"),e.qZA()()(),e.TgZ(22,"div",9)(23,"input",18),e.NdJ("ngModelChange",function(r){return i.mail.ccAddresses=r}),e.qZA(),e.TgZ(24,"label",17),e._uU(25,"CC Address"),e.TgZ(26,"small"),e._uU(27," (Optional-Seperated by commas)"),e.qZA()()(),e.TgZ(28,"div",9)(29,"input",19),e.NdJ("ngModelChange",function(r){return i.mail.subject=r}),e.qZA(),e.TgZ(30,"label",17),e._uU(31,"Subject : "),e.qZA()(),e.TgZ(32,"div",9)(33,"div",20),e._UZ(34,"div",21),e.YNc(35,de,11,7,"div",22),e.qZA(),e.TgZ(36,"label",23),e._uU(37,"Message "),e.TgZ(38,"small"),e._uU(39," (Optional)"),e.qZA()()()()(),e.TgZ(40,"div",6)(41,"h6",24),e._uU(42,"Recordings"),e.qZA(),e.TgZ(43,"div",25)(44,"p",26),e._uU(45,"Record Screen"),e.qZA(),e.TgZ(46,"div",27),e._UZ(47,"video",28),e.TgZ(48,"button",29),e.NdJ("click",function(){return i.togglePictureInPicture()}),e._UZ(49,"i",30),e.qZA()(),e.TgZ(50,"div",31),e.YNc(51,ue,2,0,"button",32),e.YNc(52,pe,2,0,"button",33),e.YNc(53,me,2,0,"button",34),e.YNc(54,_e,2,0,"button",35),e.YNc(55,ge,2,0,"button",35),e.YNc(56,he,2,0,"button",36),e._UZ(57,"input",37,38),e.YNc(59,fe,2,1,"button",39),e.YNc(60,be,2,1,"button",40),e.qZA()(),e.TgZ(61,"div",25)(62,"p",26),e._uU(63,"Record Audio"),e.qZA(),e._UZ(64,"audio",41),e.TgZ(65,"div",31),e.YNc(66,xe,2,0,"button",32),e.YNc(67,ve,2,0,"button",33),e.YNc(68,Te,2,0,"button",34),e.YNc(69,ye,2,0,"button",35),e.YNc(70,Ce,2,0,"button",35),e.YNc(71,Ze,2,0,"button",36),e._UZ(72,"input",42,43),e.YNc(74,Ae,2,1,"button",39),e.YNc(75,Me,2,1,"button",40),e.qZA()(),e.TgZ(76,"div",25)(77,"p",26),e._uU(78,"Record Video"),e.qZA(),e._UZ(79,"video",44),e.TgZ(80,"div",31),e.YNc(81,we,2,0,"button",32),e.YNc(82,Se,2,0,"button",33),e.YNc(83,Ie,2,0,"button",34),e.YNc(84,Ue,2,0,"button",35),e.YNc(85,Ne,2,0,"button",35),e.YNc(86,Ve,2,0,"button",36),e._UZ(87,"input",45,46),e.YNc(89,ke,2,1,"button",39),e.YNc(90,Je,2,1,"button",40),e.qZA()(),e.TgZ(91,"div",47),e._UZ(92,"video",48),e.qZA()(),e.TgZ(93,"div",49)(94,"h6"),e._uU(95,"Attachments :"),e.qZA(),e.TgZ(96,"div",50),e.YNc(97,je,2,0,"label",51),e.TgZ(98,"ul",52),e.YNc(99,De,6,1,"li",53),e.qZA(),e.TgZ(100,"div",54)(101,"input",55),e.NdJ("change",function(r){return i.loadFiles(r)}),e.qZA(),e.TgZ(102,"label",56),e._UZ(103,"img",57),e.qZA()()(),e.TgZ(104,"div",58)(105,"div",59),e.YNc(106,Pe,2,0,"small",60),e.TgZ(107,"button",61),e._uU(108,"Send"),e.qZA(),e.TgZ(109,"a",62),e._uU(110,"Discard"),e.qZA()()()()()()()}if(2&t){const n=e.MAs(14),a=e.MAs(16);e.xp6(1),e.Q6J("ngIf",!i.message),e.xp6(1),e.Q6J("ngIf",i.message),e.xp6(1),e.Q6J("ngIf",i.sending),e.xp6(1),e.Q6J("hidden",i.sending),e.xp6(5),e.Q6J("ngIf",!i.message),e.xp6(2),e.Q6J("ngClass",e.WLB(48,Re,0==i.addressList.length&&""==n.value,i.istouched)),e.xp6(1),e.Q6J("ngForOf",i.addressList),e.xp6(1),e.Q6J("matAutocomplete",a)("ngModel",i.mail.toAddresses)("required",0==i.addressList.length&&""==n.value),e.xp6(4),e.Q6J("ngForOf",i.contactFilterdList),e.xp6(6),e.Q6J("ngModel",i.mail.ccAddresses),e.xp6(6),e.Q6J("ngModel",i.mail.subject),e.xp6(6),e.Q6J("ngIf",i.mail.trail&&""!=i.mail.trail),e.xp6(13),e.Q6J("hidden",i.pipEnabled||1==i.StepScreen),e.xp6(3),e.Q6J("ngIf",1==i.StepScreen),e.xp6(1),e.Q6J("ngIf",2==i.StepScreen),e.xp6(1),e.Q6J("ngIf",2==i.StepScreen),e.xp6(1),e.Q6J("ngIf",3==i.StepScreen),e.xp6(1),e.Q6J("ngIf",4==i.StepScreen),e.xp6(1),e.Q6J("ngIf",3==i.StepScreen||4==i.StepScreen),e.xp6(1),e.Q6J("disabled",null==i.latestScreenRecord)("hidden",5!=i.StepScreen),e.xp6(2),e.Q6J("ngIf",5==i.StepScreen),e.xp6(1),e.Q6J("ngIf",5==i.StepScreen),e.xp6(6),e.Q6J("ngIf",1==i.StepAudio),e.xp6(1),e.Q6J("ngIf",2==i.StepAudio),e.xp6(1),e.Q6J("ngIf",2==i.StepAudio),e.xp6(1),e.Q6J("ngIf",3==i.StepAudio),e.xp6(1),e.Q6J("ngIf",4==i.StepAudio),e.xp6(1),e.Q6J("ngIf",3==i.StepAudio||4==i.StepAudio),e.xp6(1),e.Q6J("disabled",null==i.latestAudioRecord)("hidden",5!=i.StepAudio),e.xp6(2),e.Q6J("ngIf",5==i.StepAudio),e.xp6(1),e.Q6J("ngIf",5==i.StepAudio),e.xp6(6),e.Q6J("ngIf",1==i.StepVideo),e.xp6(1),e.Q6J("ngIf",2==i.StepVideo),e.xp6(1),e.Q6J("ngIf",2==i.StepVideo),e.xp6(1),e.Q6J("ngIf",3==i.StepVideo),e.xp6(1),e.Q6J("ngIf",4==i.StepVideo),e.xp6(1),e.Q6J("ngIf",3==i.StepVideo||4==i.StepVideo),e.xp6(1),e.Q6J("disabled",null==i.latestVideoRecord)("hidden",5!=i.StepVideo),e.xp6(2),e.Q6J("ngIf",5==i.StepVideo),e.xp6(1),e.Q6J("ngIf",5==i.StepVideo),e.xp6(7),e.Q6J("ngIf",0==i.recordings.length),e.xp6(2),e.Q6J("ngForOf",i.recordings),e.xp6(7),e.Q6J("ngIf",i.invalidForm)}},directives:[u.O5,p.yS,c._Y,c.JL,c.F,c.EJ,c.JJ,c.On,c.YN,c.Kr,u.sg,u.mk,C.ZL,c.Fj,c.c5,c.Q7,C.XC,K.ey],pipes:[u.uU],styles:[".video-js[_ngcontent-%COMP%]{background-color:#fff}.video-js[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}"]}),o})();var Le=l(5714);function qe(o,s){1&o&&(e.TgZ(0,"div",7)(1,"div",8),e._UZ(2,"lottie-player",9),e.TgZ(3,"h6",10),e._uU(4,"Processing request....please wait, don't close this page"),e.qZA()()())}function Fe(o,s){if(1&o&&e._UZ(0,"img",22),2&o){const t=e.oxw(3);e.s9C("src",t.patient.imageSrc,e.LSH)}}function Qe(o,s){if(1&o&&(e.TgZ(0,"div",19)(1,"label",20)(2,"strong"),e._uU(3,"Patient : "),e.qZA(),e._uU(4),e.YNc(5,Fe,1,1,"img",21),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.patient.firstName+" "+t.patient.lastName," "),e.xp6(1),e.Q6J("ngIf",t.patient.imageSrc)}}function Ye(o,s){1&o&&(e.TgZ(0,"span",40),e._uU(1," attach_file "),e.qZA())}function Oe(o,s){if(1&o&&(e.TgZ(0,"small",41)(1,"strong"),e._uU(2,"From"),e.qZA(),e._uU(3),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" : ",t.MailFrom,"")}}function Ee(o,s){if(1&o&&(e.TgZ(0,"small",41)(1,"strong"),e._uU(2,"To"),e.qZA(),e._uU(3),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" :",t.MailTo,"")}}function He(o,s){if(1&o&&(e.TgZ(0,"small",41)(1,"strong"),e._uU(2,"Sender"),e.qZA(),e._uU(3),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" : ",null==t?null:t.sender," ")}}function $e(o,s){if(1&o&&(e.TgZ(0,"small",41)(1,"strong"),e._uU(2,"Cc"),e.qZA(),e._uU(3),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" : ",null==t?null:t.MailCc,"")}}function Be(o,s){if(1&o&&(e.TgZ(0,"small",41)(1,"strong"),e._uU(2,"In-Reply-To"),e.qZA(),e._uU(3),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" : ",null==t?null:t.inReplyTo,"")}}function ze(o,s){if(1&o&&(e.TgZ(0,"small",41)(1,"strong"),e._uU(2,"Date"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.hij(" : ",e.xi3(4,1,null==t?null:t.mailDateTime,"medium"),"")}}function Ge(o,s){if(1&o&&(e.TgZ(0,"div")(1,"a",44),e._uU(2),e.qZA()()),2&o){const t=s.$implicit;e.xp6(1),e.MGl("routerLink","/file/",t,""),e.xp6(1),e.Oqu(t)}}function Xe(o,s){if(1&o&&(e.TgZ(0,"div")(1,"strong",42)(2,"u"),e._uU(3,"Attachments"),e.qZA()(),e.YNc(4,Ge,3,2,"div",43),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("ngForOf",t.attachmentList)}}function We(o,s){if(1&o&&(e.TgZ(0,"small",45)(1,"u"),e._uU(2,"Show Message"),e.qZA()()),2&o){const t=e.oxw().index;e.uIk("data-bs-target","#card"+t)}}const Ke=function(o){return{show:o}};function et(o,s){if(1&o&&(e.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26),e._uU(4),e.qZA(),e.TgZ(5,"span",27),e._UZ(6,"i",28),e.qZA()(),e.TgZ(7,"div",29),e.YNc(8,Ye,2,0,"span",30),e.TgZ(9,"label"),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"div",31),e.YNc(13,Oe,4,1,"small",32),e.YNc(14,Ee,4,1,"small",32),e.YNc(15,He,4,1,"small",32),e.YNc(16,$e,4,1,"small",33),e.YNc(17,Be,4,1,"small",33),e.YNc(18,ze,5,4,"small",33),e.qZA()(),e.TgZ(19,"div",34),e.YNc(20,Xe,5,1,"div",35),e._UZ(21,"div",36),e.TgZ(22,"div",37)(23,"p")(24,"span",38),e._uU(25," DISCLAIMER: "),e.qZA(),e._uU(26,"This communication is HIPAA Compliant,confidential and privileged and is directed to and for the use of the addressee only. "),e.qZA()()(),e.YNc(27,We,3,1,"small",39),e.qZA()),2&o){const t=s.$implicit,i=s.index,n=e.oxw(2);e.xp6(4),e.hij(" ",t.MailFrom.toString().split("<")[0]," "),e.xp6(1),e.uIk("data-bs-target","#details"+i),e.xp6(3),e.Q6J("ngIf",t.attachmentList.length>0),e.xp6(2),e.Oqu(e.xi3(11,16,null==t?null:t.mailDateTime,"medium")),e.xp6(2),e.MGl("id","details",i,""),e.xp6(1),e.Q6J("ngIf",t.MailFrom&&""!=t.MailFrom),e.xp6(1),e.Q6J("ngIf",t.MailTo&&""!=t.MailTo),e.xp6(1),e.Q6J("ngIf",t.sender&&""!=t.sender),e.xp6(1),e.Q6J("ngIf",t.MailCc&&""!=t.MailCc),e.xp6(1),e.Q6J("ngIf",t.inReplyTo&&""!=t.inReplyTo),e.xp6(1),e.Q6J("ngIf",t.mailDateTime&&""!=t.mailDateTime),e.xp6(1),e.MGl("id","card",i,""),e.Q6J("ngClass",e.VKq(19,Ke,0==i)),e.xp6(1),e.Q6J("ngIf","INC"==t.mailType&&t.attachmentList.length>0),e.xp6(1),e.Q6J("innerHTML",n.sanitizer.bypassSecurityTrustHtml(t.htmlText),e.oJD),e.xp6(6),e.Q6J("ngIf",i!=n.messageList.length-1)}}function tt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",46)(1,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showReply=!0}),e._uU(2,"Reply"),e.qZA(),e.TgZ(3,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).printScreen()}),e._uU(4," Print "),e.qZA()()}}function it(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-videojs-record",49),e.NdJ("closeComp",function(){return e.CHM(t),e.oxw(2).showReply=!1}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("message",t.messageList[t.messageList.length-1])}}function ot(o,s){if(1&o&&(e.TgZ(0,"div",7)(1,"div",11)(2,"a",12),e._UZ(3,"i",13),e._uU(4),e.qZA(),e.YNc(5,Qe,6,2,"div",14),e.YNc(6,et,28,21,"div",15),e.qZA(),e.TgZ(7,"div",11),e.YNc(8,tt,5,0,"div",16),e.qZA(),e.TgZ(9,"div",17),e.YNc(10,it,1,1,"app-videojs-record",18),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("routerLink",t.backLink),e.xp6(2),e.hij("",null==t.messageList[t.messageList.length-1]?null:t.messageList[t.messageList.length-1].subject," "),e.xp6(1),e.Q6J("ngIf",t.patient),e.xp6(1),e.Q6J("ngForOf",t.messageList),e.xp6(2),e.Q6J("ngIf",!t.showReply),e.xp6(2),e.Q6J("ngIf",t.showReply&&t.messageList.length>0)}}let nt=(()=>{class o{constructor(t,i,n,a,r,_,g){this.router=t,this.route=i,this.permAuth=n,this.sanitizer=a,this.dataService=r,this.usr=_,this.utility=g,this.fromHtml="",this.backLink="/mail/inbox",this.user=this.usr.getUserDetails().emailAddress,this.subuser=this.usr.getUserDetails(),this.showReply=!1,this.sending=!0}ngOnInit(){this.route.paramMap.subscribe(t=>{"sent"==t.get("type")&&(this.backLink="/mail/sent"),this.messageList=[],t.get("id")?(decodeURIComponent(t.get("id")),this.dataService.getallData(this.utility.apiData.mails.ApiUrl+`?did=${this.user}&mailid=${t.get("id")}`,!0).subscribe(n=>{n&&(n=JSON.parse(n.toString())),this.sending=!1,n&&(this.messageList=n,this.messageList.sort(function(a,r){return a.mailDateTime>r.mailDateTime?-1:a.mailDateTime<r.mailDateTime?1:0}),this.messageList[0].patientId&&this.dataService.getallData(this.utility.apiData.patients.ApiUrl+`?did=${this.user}&id=${this.messageList[0].patientId}`,!0).subscribe(a=>{a&&(a=JSON.parse(a.toString())),this.patient=a},a=>null))},n=>(this.sending=!1,null))):(d()("unable to load message,please try again later"),this.sending=!1,this.router.navigate(["/mail/inbox"]))})}printScreen(){window.print()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.F0),e.Y36(p.gz),e.Y36(Le.n),e.Y36(S.H7),e.Y36(v.T),e.Y36(T.f),e.Y36(y.t))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-mail"]],decls:10,vars:3,consts:[[1,"container"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"body2",2,"text-decoration","none","color","#6E81A4",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active","body2"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],["src","https://assets6.lottiefiles.com/packages/lf20_fhsx0ijl/lottie/collections-feature.json","background","transparent","speed","1","loop","","autoplay","",1,"mt-3","m-auto",2,"width","300px","height","300px"],[1,"text-center","mt-5"],[1,"col-12"],[1,"h3","mb-4",2,"color","#011A3E",3,"routerLink"],["role","button",1,"fa","fa-chevron-left","me-3","p-2"],["class","d-flex align-items-center my-3",4,"ngIf"],["class","border-bottom card card-body shadow-sm mt-3 pt-1 px-3",4,"ngFor","ngForOf"],["class","my-3",4,"ngIf"],[1,"mt-5","pt-3"],[3,"message","closeComp",4,"ngIf"],[1,"d-flex","align-items-center","my-3"],[1,"m-0","ms-2","body1"],["class","avatar avatar-xs rounded-circle mx-2",3,"src",4,"ngIf"],[1,"avatar","avatar-xs","rounded-circle","mx-2",3,"src"],[1,"border-bottom","card","card-body","shadow-sm","mt-3","pt-1","px-3"],[1,"row","py-3","border-bottom","px-2"],[1,"col-md-6","col-lg-7","d-flex","align-items-center"],[1,"fw-bold",2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis"],["data-bs-toggle","collapse","aria-expanded","true",1,"ms-2"],[1,"fa","fa-chevron-down"],[1,"d-flex","col-md-6","align-items-center","col-lg-5","mt-2","p-0","justify-content-end"],["style","color:#D0D6DE;","class","material-icons me-2",4,"ngIf"],[1,"border","mt-4","rounded","collapse",3,"id"],["class","d-block m-2 ",4,"ngIf"],["class","d-block m-2",4,"ngIf"],[1,"collapse","my-4",3,"ngClass","id"],[4,"ngIf"],[1,"body2",3,"innerHTML"],[1,"mt-5",2,"color","#8f8e8e","font-size","small","font-family","rubik"],[2,"color","#1991EB"],["class","text-primary mt-3 ","data-bs-toggle","collapse","role","button",4,"ngIf"],[1,"material-icons","me-2",2,"color","#D0D6DE"],[1,"d-block","m-2"],[1,"d-block"],[4,"ngFor","ngForOf"],["target","_blank",1,"d-block","my-2",3,"routerLink"],["data-bs-toggle","collapse","role","button",1,"text-primary","mt-3"],[1,"my-3"],["type","button",1,"btn","btn-primary","me-2",2,"background-color","#0070d2","height","36px","padding","0 16px","min-width","104px",3,"click"],["type","button",1,"btn","btn-secondary","border-0",2,"background-color","#f7517f","color","white","height","36px","padding","0 16px","min-width","104px",3,"click"],[3,"message","closeComp"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e._uU(5,"Mails"),e.qZA()(),e.TgZ(6,"li",5),e._uU(7,"View Mail"),e.qZA()()(),e.YNc(8,qe,5,0,"div",6),e.YNc(9,ot,11,6,"div",6),e.qZA()),2&t&&(e.xp6(4),e.Q6J("routerLink",i.backLink),e.xp6(4),e.Q6J("ngIf",i.sending),e.xp6(1),e.Q6J("ngIf",!i.sending))},directives:[p.yS,u.O5,u.sg,u.mk,b],pipes:[u.uU],styles:["blockquote[_ngcontent-%COMP%]{margin-left:10px;border-left:solid 1px rgb(68,67,67);padding-left:10px}"]}),o})();var st=l(1379),at=l(3390),rt=l(4158),lt=l(1613),ct=l(4151);const I=function(){return["active"]};let dt=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-mail-dashboard"]],decls:16,vars:4,consts:[[1,"d-flex","justify-content-between","p-2","mb-3","pb-3","align-items-center","border-bottom"],[1,"card-title",2,"color","#011A3E"],["routerLink","compose",1,"btn","btn-default","btn-lg",2,"background-color","#0070d2","width","10em"],[1,"bx","bx-plus-circle"],[1,"col-12","pt-2"],["role","group","aria-label","Basic radio toggle button group",1,"btn-group","row","w-100","mb-4"],["btntype",""],["routerLink","inbox","data-bs-toggle","tab","aria-expanded","false",1,"btn","btn-outline-primary","col-6",3,"routerLinkActive"],["routerLink","sent","data-bs-toggle","tab","aria-expanded","false",1,"btn","btn-outline-primary","col-6",3,"routerLinkActive"],[1,"tab-content"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"h5",1),e._uU(3,"Mails"),e.qZA(),e.TgZ(4,"a",2),e._UZ(5,"i",3),e._uU(6," Compose"),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5,6)(10,"a",7),e._uU(11,"Inbox"),e.qZA(),e.TgZ(12,"a",8),e._uU(13,"Sent"),e.qZA()(),e.TgZ(14,"div",9),e._UZ(15,"router-outlet"),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("routerLinkActive",e.DdM(2,I)),e.xp6(2),e.Q6J("routerLinkActive",e.DdM(3,I)))},directives:[p.yS,p.Od,p.lC],styles:["mat-tab-group[_ngcontent-%COMP%]{background:white;box-shadow:0 4px 20px #07d5e81a}.customtab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{border:0px;color:#354053}.customtab[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{border-bottom:2px solid #0052cc}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border-bottom-color:#0052cc;color:#0052cc}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#1991eb}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#5d6a7e;background-color:#fff;text-align:center;padding:1em}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:active{color:#fff;background-color:#1991eb}"]}),o})();l(4295);const ut=[{path:"",component:dt,children:[{path:"",redirectTo:"inbox",pathMatch:"full"},{path:"inbox",component:M},{path:"sent",component:M}]},{path:"compose",component:b},{path:"compose/:patientId",component:b},{path:"compose/:patientId/:caseId",component:b},{path:"view/:type/:id",component:nt}];let pt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[u.uU],imports:[[u.ez,c.u5,st.RB,ct.lN,at.c,lt.HT,m.p0,x.TU,h.JX,rt.Nh,A.x,C.Bb,p.Bz.forChild(ut)]]}),o})()}}]);