"use strict";(self.webpackChunkDentalLive_dev=self.webpackChunkDentalLive_dev||[]).push([[926],{926:(ue,q,p)=>{p.r(q),p.d(q,{ReferralModule:()=>de});var g=p(9808),h=p(6090),A=p(5415),U=p(4376),e=p(5e3);let D=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-referral"]],decls:1,vars:0,template:function(t,a){1&t&&e._UZ(0,"router-outlet")},directives:[h.lC],encapsulation:2}),s})();var k=p(5226),o=p.n(k),b=p(9114),Z=p(2290),v=p(3762),c=p(2382);function M(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",51),e._uU(4),e.qZA(),e.TgZ(5,"span",52),e._uU(6,"D"),e.qZA(),e.TgZ(7,"span",53),e._uU(8,"Danial Doolittle"),e.qZA()()(),e.TgZ(9,"td")(10,"span",48),e._uU(11),e.qZA()(),e.TgZ(12,"td")(13,"span",48),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"td")(17,"span",48),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span",48),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"div",54)(24,"a",55),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).viewReferralDetails(l.referralId)}),e.TgZ(25,"i",56),e._uU(26,"visibility"),e.qZA()(),e.TgZ(27,"a",57),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).editReferrals(l.referralId)}),e.TgZ(28,"i",58),e._uU(29,"edit"),e.qZA()()()()()}if(2&s){const t=d.$implicit,a=d.index,i=e.oxw(2);e.xp6(4),e.Oqu(a),e.xp6(7),e.Oqu(t.title),e.xp6(3),e.Oqu(e.xi3(15,5,t.dateCreated,"mediumDate")),e.xp6(4),e.Oqu(i.detailsdata.patientName),e.xp6(3),e.Oqu(i.detailsdata.title)}}function S(s,d){if(1&s&&(e.TgZ(0,"table",46)(1,"thead",47)(2,"tr")(3,"th",48),e._uU(4,"ASSIGNED TO"),e.qZA(),e.TgZ(5,"th",48),e._uU(6,"REFERRAL TITLE"),e.qZA(),e.TgZ(7,"th",48),e._uU(8,"CREATED DATE"),e.qZA(),e.TgZ(9,"th",48),e._uU(10,"PATIENT NAME"),e.qZA(),e.TgZ(11,"th",48),e._uU(12,"CASE TITLE"),e.qZA(),e.TgZ(13,"th",49),e._uU(14,"Actions"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,M,30,8,"tr",50),e.qZA()()),2&s){const t=e.oxw();e.Q6J("dtOptions",t.dtOptions),e.xp6(16),e.Q6J("ngForOf",t.tabledata)}}let I=(()=>{class s{constructor(t,a,i,l){this.dataService=t,this.router=a,this.utility=i,this.usr=l,this.dtOptions={},this.masterSelected=!1}ngOnInit(){sessionStorage.setItem("checkCase",""),sessionStorage.setItem("caseId",""),sessionStorage.setItem("checkmilestoneidref",""),this.getallreferrals(),this.getCaseDetails(),this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}searchText(t){var a=t.target.value;$("#dataTables").DataTable().search(a).draw()}getallreferrals(){if(this.usr.getUserDetails(!1)){o().fire({html:'<div class="sweet_loader"><img style="width:50px;" src="https://www.boasnotas.com/img/loading2.gif"/></div>',icon:"https://www.boasnotas.com/img/loading2.gif",showConfirmButton:!1,allowOutsideClick:!1,closeOnClickOutside:!1,timer:2200});let i=this.utility.apiData.userReferrals.ApiUrl,l=sessionStorage.getItem("caseId");""!=l&&(i+="?caseId="+l),this.dataService.getallData(i,!0).subscribe(r=>{r&&(this.tabledata=JSON.parse(r.toString()),this.tabledata.sort((n,u)=>n.dateCreated>u.dateCreated?-1:1))},r=>(o().fire("Unable to fetch data, please try again"),!1))}}getCaseDetails(){if(this.usr.getUserDetails(!1)){o().fire({html:'<div class="sweet_loader"><img style="width:50px;" src="https://www.boasnotas.com/img/loading2.gif"/></div>',icon:"https://www.boasnotas.com/img/loading2.gif",showConfirmButton:!1,allowOutsideClick:!1,closeOnClickOutside:!1,timer:2200});let i=this.utility.apiData.userCases.ApiUrl,l=sessionStorage.getItem("caseId");""!=l&&(i+="?caseId="+l),this.dataService.getallData(i,!0).subscribe(r=>{r&&(this.detailsdata=JSON.parse(r.toString()))},r=>(o().fire("Unable to fetch data, please try again"),!1))}}viewReferralDetails(t){sessionStorage.setItem("referralId",t),this.router.navigate(["referral/referral-details"])}editReferrals(t){sessionStorage.setItem("referralId",t),this.router.navigate(["referral/referral-edit"])}onSubmit(t){let a=this.utility.apiData.userReferrals.ApiUrl;""!=t.value.dateFrom&&(a+="?startdate="+Date.parse(t.value.dateFrom)),""!=t.value.dateTo&&(a+=""!=t.value.dateFrom?"&enddate="+Date.parse(t.value.dateTo):"?enddate="+Date.parse(t.value.dateTo)),this.dataService.getallData(a,!0).subscribe(i=>{i&&(this.tabledata=JSON.parse(i.toString()),this.tabledata.sort((l,r)=>l.dateCreated>r.dateCreated?-1:1))},i=>(o().fire("Unable to fetch data, please try again"),!1))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(b.T),e.Y36(h.F0),e.Y36(Z.t),e.Y36(v.f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-referral-list"]],decls:69,vars:1,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"col-md-6","text-end"],["routerLink","/referral/referral-add",1,"btn","btn-default","my-1","me-2"],["aria-hidden","true",1,"bx","bx-plus-circle","me-2"],[1,"row","align-items-center"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"my-2"],[1,"body1","card-title","mb-0"],[1,"d-flex","align-items-center","flex-wrap"],["data-bs-toggle","modal","data-bs-target","#filterModal",1,"btn","filter-btn","me-2","my-2"],[1,"bx","bx-filter-alt"],[1,"d-none","d-sm-inline-block","ms-2"],[1,"search","search-md"],[1,"bx","bx-search"],["type","text","placeholder","Search",1,"form-control",3,"keyup"],[1,"card-body","p-0","pb-3"],[1,"table-responsive"],["class","table table-hover table-nowrap align-middle","datatable","","id","dataTables",3,"dtOptions",4,"ngIf"],["id","filterModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","mainForm",3,"ngSubmit"],["f","ngForm"],[1,"modal-body"],[1,"row","gy-3"],[1,"search"],["type","text","placeholder","Search by Patients Name",1,"form-control"],["type","text","placeholder","Search by Case Name",1,"form-control"],[1,"form-label","body2","text-dark"],["type","date","ngModel","","name","dateFrom","id","dateFrom",1,"form-control"],["type","date","ngModel","","name","dateTo","id","dateTo",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light","text-uppercase"],[1,"body2"],["data-orderable","false",1,"body2"],[4,"ngFor","ngForOf"],[1,"d-none"],[1,"avatar-icon"],[1,"body2","ms-1"],[1,"d-flex"],["href","javascript:void(0);",3,"click"],[1,"material-icons","text-light-green"],["href","javascript:void(0);",1,"me-1",3,"click"],[1,"material-icons","text-bright-blue"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6," Referral "),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"h3"),e._uU(10,"Referral"),e.qZA()(),e.TgZ(11,"div",7)(12,"a",8),e._UZ(13,"i",9),e._uU(14,"Add Referral"),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h5",16),e._uU(22,"List of Referral"),e.qZA()(),e.TgZ(23,"div",17)(24,"button",18),e._UZ(25,"i",19),e.TgZ(26,"span",20),e._uU(27,"Filter"),e.qZA()(),e.TgZ(28,"div",21),e._UZ(29,"i",22),e.TgZ(30,"input",23),e.NdJ("keyup",function(r){return a.searchText(r)}),e.qZA()()()()(),e.TgZ(31,"div",24)(32,"div",25),e.YNc(33,S,17,2,"table",26),e.qZA()()()()(),e.TgZ(34,"div",27)(35,"div",28)(36,"div",29)(37,"div",30)(38,"h5",31),e._uU(39,"Filter"),e.qZA(),e._UZ(40,"button",32),e.qZA(),e.TgZ(41,"form",33,34),e.NdJ("ngSubmit",function(){e.CHM(i);const r=e.MAs(42);return a.onSubmit(r)}),e.TgZ(43,"div",35)(44,"div",36)(45,"div",11)(46,"div",37),e._UZ(47,"i",22)(48,"input",38),e.qZA()(),e.TgZ(49,"div",11)(50,"div",37),e._UZ(51,"i",22)(52,"input",39),e.qZA()(),e.TgZ(53,"div",11)(54,"label",40),e._uU(55,"Search by Date:"),e.qZA()(),e.TgZ(56,"div",6)(57,"label",40),e._uU(58,"From"),e.qZA(),e._UZ(59,"input",41),e.qZA(),e.TgZ(60,"div",6)(61,"label",40),e._uU(62,"To"),e.qZA(),e._UZ(63,"input",42),e.qZA()()(),e.TgZ(64,"div",43)(65,"button",44),e._uU(66,"Close"),e.qZA(),e.TgZ(67,"button",45),e._uU(68,"Apply"),e.qZA()()()()()()}2&t&&(e.xp6(33),e.Q6J("ngIf",a.tabledata))},directives:[h.yS,g.O5,A.G,g.sg,c._Y,c.JL,c.F,c.Fj,c.JJ,c.On],pipes:[g.uU],styles:[""]}),s})();p(5827);const R=["notes"];function O(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"i",56),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.showLabel=!i.showLabel}),e.qZA()}}function N(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"i",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.showLabel=!i.showLabel}),e.qZA()}}function E(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"i",58),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteSelection()}),e.qZA()}}function L(s,d){1&s&&(e.TgZ(0,"ul",59)(1,"li",60)(2,"span"),e._uU(3,"1"),e.qZA(),e.TgZ(4,"label"),e._uU(5,"(R)Third Molar"),e.qZA()(),e.TgZ(6,"li",61)(7,"span"),e._uU(8,"2"),e.qZA(),e.TgZ(9,"label"),e._uU(10,"(R)Second Molar"),e.qZA()(),e.TgZ(11,"li",62)(12,"span"),e._uU(13,"3"),e.qZA(),e.TgZ(14,"label"),e._uU(15,"(R)First Molar"),e.qZA()(),e.TgZ(16,"li",63)(17,"span"),e._uU(18,"4"),e.qZA(),e.TgZ(19,"label"),e._uU(20,"(R)Second Bicuspid"),e.qZA()(),e.TgZ(21,"li",64)(22,"span"),e._uU(23,"5"),e.qZA(),e.TgZ(24,"label"),e._uU(25,"(R)First Bicuspid"),e.qZA()(),e.TgZ(26,"li",65)(27,"span"),e._uU(28,"6"),e.qZA(),e.TgZ(29,"label"),e._uU(30,"(R)cuspid"),e.qZA()(),e.TgZ(31,"li",66)(32,"span"),e._uU(33,"7"),e.qZA(),e.TgZ(34,"label"),e._uU(35,"(R)Lateral Incisor"),e.qZA()(),e.TgZ(36,"li",67)(37,"span"),e._uU(38,"8"),e.qZA(),e.TgZ(39,"label"),e._uU(40,"(R)Central Incisor"),e.qZA()(),e.TgZ(41,"li",68)(42,"span"),e._uU(43,"9"),e.qZA(),e.TgZ(44,"label"),e._uU(45,"(L)Central Incisor"),e.qZA()(),e.TgZ(46,"li",69)(47,"span"),e._uU(48,"10"),e.qZA(),e.TgZ(49,"label"),e._uU(50,"(L)Lateral Incisor"),e.qZA()(),e.TgZ(51,"li",70)(52,"span"),e._uU(53,"11"),e.qZA(),e.TgZ(54,"label"),e._uU(55,"(L)cuspid"),e.qZA()(),e.TgZ(56,"li",71)(57,"span"),e._uU(58,"12"),e.qZA(),e.TgZ(59,"label"),e._uU(60,"(L)First Bicuspid"),e.qZA()(),e.TgZ(61,"li",72)(62,"span"),e._uU(63,"13"),e.qZA(),e.TgZ(64,"label"),e._uU(65,"(L)Second Bicuspid"),e.qZA()(),e.TgZ(66,"li",73)(67,"span"),e._uU(68,"14"),e.qZA(),e.TgZ(69,"label"),e._uU(70,"(L)First Molar"),e.qZA()(),e.TgZ(71,"li",74)(72,"span"),e._uU(73,"15"),e.qZA(),e.TgZ(74,"label"),e._uU(75,"(L)Second Molar"),e.qZA()(),e.TgZ(76,"li",75)(77,"span"),e._uU(78,"16"),e.qZA(),e.TgZ(79,"label"),e._uU(80,"(L)Third Molar"),e.qZA()(),e.TgZ(81,"li",76)(82,"span"),e._uU(83,"17"),e.qZA(),e.TgZ(84,"label"),e._uU(85,"(L)Third Molar"),e.qZA()(),e.TgZ(86,"li",77)(87,"span"),e._uU(88,"18"),e.qZA(),e.TgZ(89,"label"),e._uU(90,"(L)Second Molar"),e.qZA()(),e.TgZ(91,"li",78)(92,"span"),e._uU(93,"19"),e.qZA(),e.TgZ(94,"label"),e._uU(95,"(L)First Molar"),e.qZA()(),e.TgZ(96,"li",79)(97,"span"),e._uU(98,"20"),e.qZA(),e.TgZ(99,"label"),e._uU(100,"(L)Second Bicuspid"),e.qZA()(),e.TgZ(101,"li",80)(102,"span"),e._uU(103,"21"),e.qZA(),e.TgZ(104,"label"),e._uU(105,"(L)First Bicuspid"),e.qZA()(),e.TgZ(106,"li",81)(107,"span"),e._uU(108,"22"),e.qZA(),e.TgZ(109,"label"),e._uU(110,"(L)cuspid"),e.qZA()(),e.TgZ(111,"li",82)(112,"span"),e._uU(113,"23"),e.qZA(),e.TgZ(114,"label"),e._uU(115,"(L)Lateral Incisor"),e.qZA()(),e.TgZ(116,"li",83)(117,"span"),e._uU(118,"24"),e.qZA(),e.TgZ(119,"label"),e._uU(120,"(L)Central Incisor"),e.qZA()(),e.TgZ(121,"li",84)(122,"span"),e._uU(123,"25"),e.qZA(),e.TgZ(124,"label"),e._uU(125,"(R)Central Incisor"),e.qZA()(),e.TgZ(126,"li",85)(127,"span"),e._uU(128,"26"),e.qZA(),e.TgZ(129,"label"),e._uU(130,"(R)Lateral Incisor"),e.qZA()(),e.TgZ(131,"li",86)(132,"span"),e._uU(133,"27"),e.qZA(),e.TgZ(134,"label"),e._uU(135,"(R)cuspid"),e.qZA()(),e.TgZ(136,"li",87)(137,"span"),e._uU(138,"28"),e.qZA(),e.TgZ(139,"label"),e._uU(140,"(R)First Bicuspid"),e.qZA()(),e.TgZ(141,"li",88)(142,"span"),e._uU(143,"29"),e.qZA(),e.TgZ(144,"label"),e._uU(145,"(R)Second Bicuspid"),e.qZA()(),e.TgZ(146,"li",89)(147,"span"),e._uU(148,"30"),e.qZA(),e.TgZ(149,"label"),e._uU(150,"(R)First Molar"),e.qZA()(),e.TgZ(151,"li",90)(152,"span"),e._uU(153,"31"),e.qZA(),e.TgZ(154,"label"),e._uU(155,"(R)Second Molar"),e.qZA()(),e.TgZ(156,"li",91)(157,"span"),e._uU(158,"32"),e.qZA(),e.TgZ(159,"label"),e._uU(160,"(R)Third Molar"),e.qZA()()())}const G=function(s){return{disabled:s}};let m=(()=>{class s{constructor(t){this.location=t,this.referralObject={Endodontics:{"Consultation for":["Pulp Exposure","Vital","Necrotic","Emergency treatment provided","Patient has discomfort please evaluate","Post space required"],"Bridge cemented":["Temporary","Permanently"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},"Oral Surgery":{"Consultation for":["Extraction","3rd Molar Extractions","Exposure (s) of teeth","Impacted teeth/tooth","Orthognathic surgery","Oral pathology","Biopsy","Dental Implants","Bone grafting","TMJ Assessment/Diagnosis","Socket Grafting","Sinus Grafting","Cone Beam CT","Treatment Planning","Anesthesia and or Sedation","Corrective Jaw Surgery","Trauma","Fracture"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},Prosthodontist:{"Consultation for":["Comprehensive Prosthodontics Evaluation","Complete Dentures","Partial Dentures","Implant supported overdenture","Redo prosthesis: Fixed/Removable","Crowns and Bridges","Dental Implants","Broken Prosthesis","Ill-fitting prosthesis","Fractured implant parts or components","Tooth wear","TMJ Assessment","Esthetic treatment","Smile Make over","Full Mouth Rehabilitation","Congenitally Missing teeth"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},Orthodontist:{"Consultation for":["Comprehensive Prosthodontics Evaluation","Early or Interceptive Orthodontic Treatment","Pre-prosthetic Orthodontic Treatment","Intrusion","Extrusion","Up righting","Implant site development","Lost Retainer","Debonded fixed retainer","Growth cessation Assessment","Crowding","Spaces Issues","Malocclusion","Cephalograms Tracing/Assessment"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},Periodontist:{"Consultation for":["Comprehensive Periodontist Evaluation","Periodontal Disease","Functional crown lengthening","Esthetic crown lengthening","Gingival Recession","Soft tissue Grafting","Hard tissue Grafting","Extraction(s)","Dental Implant(s)","Sinus Grafting","Trauma from Occlusion","Occlusal Trauma"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]},Pediodontist:{"Consultation for":["Comprehensive Pedodontic Evaluation","\uf09a Treatment"],"X-Rays":["Uploaded","E-mailed","Take","Sent with patient","Please send a copy once taken","Upload"],"Restorative Treatment":["Planned","Will be Planned","Is not indicated","Will Discuss"]}},this.selectionCount=0,this.liCount=0,this.showLabel=!1,this.activeAssignedTeeth=null,this.selectedTeeths=[],this.toothGuide={}}ngOnInit(){}ngAfterViewInit(){this.populateListRecurse(this.referralObject,"referralTree")}populateListRecurse(t,a){var i,l,r;for(const n in t){const u=t[n];this.selectionCount=this.selectionCount+1;let T=document.createElement("h6");T.textContent=n,null===(i=document.getElementById(a))||void 0===i||i.appendChild(T);let w=document.createElement("ul");if(w.setAttribute("id","ul#"+this.selectionCount),null===(l=document.getElementById(a))||void 0===l||l.appendChild(w),"object"!=typeof u||Array.isArray(u))for(let x=0;x<u.length;x++){this.liCount=this.liCount+1;const ce=u[x];let C=document.createElement("li");null===(r=document.getElementById("ul#"+this.selectionCount))||void 0===r||r.appendChild(C),C.innerHTML="<div class='form-check'><input class='form-check-input' type = 'checkbox' value='d"+this.liCount+"' id = 'd"+this.liCount+"'><label class='form-check-label' for= 'd"+this.liCount+"' >"+ce+"</label></div>"}else this.populateListRecurse(u,"ul#"+this.selectionCount)}}hoverTeeth(t,a){let i=document.getElementById("rhovmap");if(i){let l=i,r=l.getContext("2d");if(!r||(r.clearRect(0,0,l.width,l.height),!a))return;let n=t.target.getAttribute("coords").split(",");r.fillStyle="rgba(0, 0, 0, 0.5)",r.beginPath(),r.curve(n,1),r.closePath(),r.fill()}}clickTeeth(t){this.resetListandTeeths(),this.activeAssignedTeeth&&(this.selectedTeeths=[]),this.toothGuide[t.target.getAttribute("id")]?(this.selectedTeeths=[],this.activeAssignedTeeth=t.target.getAttribute("id"),this.redrawGuide("rcurrmap",[this.activeAssignedTeeth],"rgba(255, 255, 0, 0.9)"),this.notes.nativeElement.value=this.toothGuide[t.target.getAttribute("id")].notes,this.toothGuide[t.target.getAttribute("id")].selections.forEach(a=>{document.getElementById(a).checked=!0,document.getElementById(a).classList.add("showNode","active");let i=document.getElementById(a);for(;i.parentNode;)"UL"==i.nodeName&&(i.classList.add("showNode","active"),i.previousSibling.classList.add("showNode","active")),i.classList.contains("selectionTree")&&i.classList.add("showNode","active"),i=i.parentNode})):(this.activeAssignedTeeth=null,this.selectedTeeths.includes(t.target.getAttribute("id"))?this.selectedTeeths=this.selectedTeeths.filter(a=>a!==t.target.getAttribute("id")):this.selectedTeeths.push(t.target.getAttribute("id")),this.redrawGuide("rclkmap",this.selectedTeeths,"rgba(0, 0, 0, .9)"))}resetListandTeeths(){document.querySelectorAll("input[type=checkbox]").forEach(t=>t.checked=!1),document.querySelectorAll(".showNode").forEach(t=>t.classList.remove("showNode","active")),this.redrawGuide("rcurrmap",[],"rgba(255, 255, 0, 0.9)"),this.notes.nativeElement.value=""}getToothGuide(){return this.toothGuide}setToothGuide(t){this.toothGuide=t,this.resetListandTeeths(),this.selectedTeeths=[],this.activeAssignedTeeth=null,this.redrawGuide("rassgmap",Object.keys(this.toothGuide),"rgba(0, 255, 0, 0.7)")}addNotes(t){let a=t.target.value;this.activeAssignedTeeth&&this.toothGuide[this.activeAssignedTeeth]?this.toothGuide[this.activeAssignedTeeth].notes=a:(this.selectedTeeths.forEach(i=>{this.toothGuide[i]||(this.toothGuide[i]={selections:[],notes:""}),this.toothGuide[i].notes=a}),1==this.selectedTeeths.length&&(this.activeAssignedTeeth=this.selectedTeeths[0])),this.redrawGuide("rassgmap",Object.keys(this.toothGuide),"rgba(0, 255, 0, 0.7)")}addSelections(t){var a,i,l;if("checkbox"==(null===(a=null==t?void 0:t.target)||void 0===a?void 0:a.type))this.activeAssignedTeeth&&this.toothGuide[this.activeAssignedTeeth]?t.target.checked?(this.toothGuide[this.activeAssignedTeeth].selections.push(t.target.value),this.loopSeelctionParent(t.target)):this.toothGuide=this.toothGuide[this.activeAssignedTeeth].selections.filter(n=>n!==t.target.getAttribute("id")):(t.target.checked?(this.selectedTeeths.forEach(n=>{this.toothGuide[n]||(this.toothGuide[n]={selections:[],notes:""}),this.toothGuide[n].selections.push(t.target.value)}),this.loopSeelctionParent(t.target)):this.selectedTeeths.forEach(n=>{this.toothGuide[n]&&(this.toothGuide=this.toothGuide[n].selections.filter(u=>u!==t.target.getAttribute("id")))}),1==this.selectedTeeths.length&&(this.activeAssignedTeeth=this.selectedTeeths[0],this.redrawGuide("rcurrmap",[this.activeAssignedTeeth],"rgba(255, 255, 0, 0.9)")),this.activeAssignedTeeth=this.selectedTeeths[0]),console.log(this.toothGuide),this.redrawGuide("rassgmap",Object.keys(this.toothGuide),"rgba(0, 255, 0, 0.7)");else{let n=(t.path||t.composedPath&&t.composedPath())[0].nextSibling;"h6"==(null===(i=null==n?void 0:n.previousSibling)||void 0===i?void 0:i.localName)&&(null===(l=n.previousSibling)||void 0===l||l.classList.toggle("showNode")),null==n||n.classList.toggle("showNode")}}loopSeelctionParent(t){for(;t.parentNode;)(t.classList.contains("showNode")||t.classList.contains("selectionTree"))&&t.classList.add("active"),t=t.parentNode}deleteSelection(){o().fire({title:"Do you want to delete this selection?",showDenyButton:!0,confirmButtonText:"Yes,delete tooth",denyButtonText:"No,don't delete"}).then(t=>{t.isConfirmed&&this.activeAssignedTeeth&&(delete this.toothGuide[this.activeAssignedTeeth],this.resetListandTeeths(),this.activeAssignedTeeth=null,this.selectedTeeths=[],this.redrawGuide("rassgmap",Object.keys(this.toothGuide),"rgba(0, 255, 0, 0.8)"),this.redrawGuide("rclkmap",this.selectedTeeths,"rgba(0, 0, 0, .9)"))})}redrawGuide(t,a,i){let r=document.getElementById(t),n=r.getContext("2d");n.clearRect(0,0,r.width,r.height),a.forEach(u=>{let T=document.getElementById(u).getAttribute("coords").split(",");n.fillStyle=i,n.beginPath(),n.curve(T,1),n.closePath(),n.fill()})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(g.Ye))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-referral-guide"]],viewQuery:function(t,a){if(1&t&&e.Gf(R,5),2&t){let i;e.iGM(i=e.CRH())&&(a.notes=i.first)}},decls:59,vars:7,consts:[[1,"row","my-3",2,"background","#eee"],[1,"col-md-8","flex-grow-1"],["id","toothGuide"],[1,"col-12","text-end","position-absolute",2,"top","10px","right","10px"],["class","bx bx-spreadsheet",3,"click",4,"ngIf"],["class","bx bxs-spreadsheet",3,"click",4,"ngIf"],["class","ms-2 bx bxs-trash",3,"click",4,"ngIf"],[1,"mapshell",2,"position","relative"],["type","text","name","summary","id","summth"],["width","480","height","480","src","../../../../../assets/images/toothfinal.jpg"],["class","adth rdtntn",4,"ngIf"],["width","480","height","480","id","rclkmap"],["width","480","height","480","id","rassgmap"],["width","480","height","480","id","rhovmap"],["width","480","height","480","id","rcurrmap"],["width","480","height","480","src","../../../../../assets/images/toothfinal.jpg","id","rmap12","usemap","#rtoothimgMap",2,"position","relative","opacity","0"],["id","rtooth_map","name","rtoothimgMap",3,"mouseleave","mouseover","click"],["id","idth1","shape","poly","coords","116,219,128,218,137,208,137,202,137,194,129,188,120,186,112,184,105,183,96,187,94,196,93,203,95,209,104,215,110,218,116"],["id","idth2","shape","poly","coords","111,147,103,151,99,162,100,172,105,178,114,183,123,186,131,189,141,186,145,178,147,168,144,157,133,152,124,148,117,147"],["id","idth3","shape","poly","coords","114,113,110,122,110,130,112,140,118,145,126,148,134,152,143,154,151,152,155,144,159,136,158,126,155,120,151,120,147,115,137,111,131,110,126,110,119,111"],["id","idth4","shape","poly","coords","128,91,124,96,124,102,127,108,136,110,142,112,146,115,154,115,163,113,167,107,168,102,164,94,154,91,148,88,140,86,135,88"],["id","idth5","shape","poly","coords","154,61,144,66,137,74,140,83,148,87,160,93,171,91,180,85,177,74,171,68,167,67,159,62"],["id","idth6","shape","poly","coords","179,38,171,40,162,46,155,53,157,59,162,62,168,67,172,69,177,72,185,71,191,69,193,62,191,53,190,47,184,42"],["id","idth7","shape","poly","coords","207,22,201,24,193,26,188,29,184,35,186,43,193,49,200,54,209,55,216,49,217,40,216,31,211,26"],["id","idth8","shape","poly","coords","249,15,239,13,231,13,222,14,215,16,214,26,218,33,221,42,226,47,234,49,241,48,248,43,252,38,252,27"],["id","idth9","shape","poly","coords","290,22,287,19,277,17,267,15,259,14,253,17,252,23,253,33,255,41,261,47,270,50,277,48,284,43,287,36,289,30"],["id","idth10","shape","poly","coords","316,36,309,30,302,27,295,26,289,31,286,44,287,52,292,55,300,57,307,56,313,49,317,44"],["id","idth11","shape","poly","coords","336,49,327,45,319,44,313,51,308,58,305,64,308,71,313,76,320,77,327,74,332,70,341,67,342,60,340,55"],["id","idth12","shape","poly","coords","359,84,354,75,346,71,341,68,333,71,329,75,321,77,316,85,318,94,324,98,332,99,342,96,349,94,356,90"],["id","idth13","shape","poly","coords","368,105,362,100,355,95,345,96,335,99,328,101,323,108,326,116,333,123,341,123,352,120,363,117,368,113"],["id","idth14","shape","poly","coords","380,136,377,124,364,119,354,120,339,124,329,128,328,139,331,152,334,157,342,160,347,160,354,158,366,154,373,151,378,144",1,"rsel"],["id","idth15","shape","poly","coords","388,169,385,163,377,157,370,154,362,156,349,160,339,166,337,175,339,179,341,187,346,194,352,196,363,194,373,191,381,185,386,178"],["id","idth16","shape","poly","coords","390,212,388,203,384,195,376,192,366,195,352,196,343,200,341,207,344,210,343,218,347,224,352,227,363,226,373,226,384,221,387,217"],["id","idth17","shape","poly","coords","365,277,352,276,346,279,341,286,340,290,342,299,347,304,353,306,362,308,372,305,380,300,383,291,378,284,372,278"],["id","idth18","shape","poly","coords","374,327,370,317,365,311,356,308,345,307,337,310,333,317,330,324,330,333,333,339,338,341,345,344,353,345,362,342,370,338"],["id","idth19","shape","poly","coords","356,354,351,347,340,345,332,343,325,345,320,348,319,354,315,363,316,370,321,374,328,378,339,380,349,377,356,376,358,370,361,364,359,359"],["id","idth20","shape","poly","coords","336,400,341,393,338,386,333,381,329,378,321,374,313,376,306,383,304,390,308,396,313,400,322,403,329,402"],["id","idth21","shape","poly","coords","325,419,321,407,316,402,306,399,298,399,291,404,288,409,292,415,298,421,303,426,315,424,320,422"],["id","idth22","shape","poly","coords","276,426,277,433,278,440,283,444,292,443,301,440,304,432,301,425,295,420,286,419,280,420,275,423"],["id","idth23","shape","poly","coords","256,456,267,454,276,450,281,446,276,440,271,434,263,434,257,437,256,447","data-rarr","","data-rsumm",""],["id","idth24","shape","poly","coords","230,458,239,460,250,459,256,457,253,447,249,441,244,439,238,443,233,452","data-rarr","","data-rsumm",""],["id","idth25","shape","poly","coords","205,455,214,459,219,460,227,460,231,454,230,446,226,439,221,437,215,442,207,448","data-rarr","","data-rsumm",""],["id","idth26","shape","poly","coords","184,437,181,444,187,447,194,451,199,454,205,454,206,444,208,437,206,432,201,430,194,430,188,433"],["id","idth27","shape","poly","coords","180,416,168,418,163,419,159,425,162,431,166,438,176,439,184,436,188,429,191,424,188,417"],["id","idth28","shape","poly","coords","151,397,144,403,142,414,151,422,160,422,167,417,174,413,177,404,173,399,166,396,156,396"],["id","idth29","shape","poly","coords","155,373,143,372,134,375,129,380,127,390,130,398,141,399,148,398,159,392,162,381,159,377"],["id","idth30","shape","poly","coords","146,341,132,339,125,339,115,342,112,349,108,357,112,367,121,374,131,376,144,370,153,365,156,359,153,349"],["id","idth31","shape","poly","coords","128,304,116,304,104,309,98,314,97,323,100,329,104,338,113,341,124,340,134,336,140,330,142,319,136,310"],["id","idth32","shape","poly","coords","91,279,90,287,91,292,94,298,101,303,108,304,114,303,125,300,130,293,128,285,125,278,119,273,106,272,98,275"],[1,"col-md-4","mt-4","mt-md-0","mx-auto","mw-custom","border-start","border-3",2,"max-width","25em",3,"ngClass"],[1,"mt-3"],[1,"fw-bold"],["rows","3",1,"d-block","w-100","p-2","border-0","rounded",3,"input"],["notes",""],[1,"fw-bold","mt-3"],["id","referralTree",1,"selectionTree","mb-4",3,"click"],[1,"bx","bx-spreadsheet",3,"click"],[1,"bx","bxs-spreadsheet",3,"click"],[1,"ms-2","bx","bxs-trash",3,"click"],[1,"adth","rdtntn"],[1,"lth1",2,"left","8.3em","top","14em"],[1,"lth2",2,"left","9em","top","11.1em"],[1,"lth3",2,"left","9.8em","top","8.1em"],[1,"lth4",2,"left","10.6em","top","5.8em"],[1,"lth5",2,"left","11.6em","top","3.9em"],[1,"lth6",2,"left","13.2em","top","2.3em"],[1,"lth7",2,"left","15.2em","top","1em"],[1,"lth8",2,"left","17.7em","top","0.4em"],[1,"lth9",2,"left","20.5em","top","0.5em"],[1,"lth10",2,"left","22.9em","top","1.3em"],[1,"lth11",2,"left","24.7em","top","2.8em"],[1,"lth12",2,"left","25.8em","top","4.6em"],[1,"lth13",2,"left","26.5em","top","6.5em"],[1,"lth14",2,"left","27.1em","top","8.8em"],[1,"lth15",2,"left","27.7em","top","11.7em"],[1,"lth16",2,"left","28em","top","14.5em"],[1,"lth17",2,"left","27.7em","top","21em"],[1,"lth18",2,"left","26.9em","top","23.9em"],[1,"lth19",2,"left","25.7em","top","26.5em"],[1,"lth20",2,"left","24.5em","top","28.7em"],[1,"lth21",2,"left","23.4em","top","30.5em"],[1,"lth22",2,"left","22em","top","32.1em"],[1,"lth23",2,"left","20.3em","top","33.3em"],[1,"lth24",2,"left","18.5em","top","33.8em"],[1,"lth25",2,"left","16.5em","top","33.8em"],[1,"lth26",2,"left","14.6em","top","33.2em"],[1,"lth27",2,"left","13.1em","top","31.9em"],[1,"lth28",2,"left","11.6em","top","30.3em"],[1,"lth29",2,"left","10.6em","top","28.5em"],[1,"lth30",2,"left","9.6em","top","26.3em"],[1,"lth31",2,"left","8.7em","top","23.5em"],[1,"lth32",2,"left","7.8em","top","20.8em"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span"),e.YNc(5,O,1,0,"i",4),e.YNc(6,N,1,0,"i",5),e.qZA(),e.YNc(7,E,1,0,"i",6),e.qZA(),e.TgZ(8,"div",7),e._UZ(9,"input",8)(10,"img",9),e.YNc(11,L,161,0,"ul",10),e._UZ(12,"canvas",11)(13,"canvas",12)(14,"canvas",13)(15,"canvas",14)(16,"img",15),e.TgZ(17,"map",16),e.NdJ("mouseleave",function(l){return a.hoverTeeth(l,!1)})("mouseover",function(l){return a.hoverTeeth(l,!0)})("click",function(l){return a.clickTeeth(l)}),e._UZ(18,"area",17)(19,"area",18)(20,"area",19)(21,"area",20)(22,"area",21)(23,"area",22)(24,"area",23)(25,"area",24)(26,"area",25)(27,"area",26)(28,"area",27)(29,"area",28)(30,"area",29)(31,"area",30)(32,"area",31)(33,"area",32)(34,"area",33)(35,"area",34)(36,"area",35)(37,"area",36)(38,"area",37)(39,"area",38)(40,"area",39)(41,"area",40)(42,"area",41)(43,"area",42)(44,"area",43)(45,"area",44)(46,"area",45)(47,"area",46)(48,"area",47)(49,"area",48),e.qZA()()()(),e.TgZ(50,"div",49)(51,"div",50)(52,"h6",51),e._uU(53,"Tooth notes"),e.qZA(),e.TgZ(54,"textarea",52,53),e.NdJ("input",function(l){return a.addNotes(l)}),e.qZA()(),e.TgZ(56,"h6",54),e._uU(57,"Tooth selections"),e.qZA(),e.TgZ(58,"div",55),e.NdJ("click",function(l){return a.addSelections(l)}),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngIf",!a.showLabel),e.xp6(1),e.Q6J("ngIf",a.showLabel),e.xp6(1),e.Q6J("ngIf",a.activeAssignedTeeth),e.xp6(4),e.Q6J("ngIf",a.showLabel),e.xp6(39),e.Q6J("ngClass",e.VKq(5,G,!a.activeAssignedTeeth&&0==a.selectedTeeths.length)))},directives:[g.O5,g.mk],styles:['.selectionTree{background:#EEEEEE;overflow:auto;max-height:400px}.selectionTree h6,.selectionTree label{cursor:pointer}.disabled{cursor:not-allowed;pointer-events:none;opacity:.5}.selectionTree ul{display:none;animation-name:slidein;animation-duration:.3s;animation-fill-mode:forwards;transform-origin:top;background:rgba(12,128,128,.1);border-left:solid .8em rgba(12,128,128,.1);padding:1em;margin-bottom:2em;margin-left:-1em}.selectionTree h6{margin:1.2em 0;font-weight:700;color:#444f65}.selectionTree ul li{text-transform:unset;display:inline-block;width:calc(100% - 3.5em);cursor:pointer;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transition:all .3s;transition-timing-function:ease-in;margin:1em;color:#444f65;font-weight:600}.selectionTree ul li label{margin-left:.4em}.selectionTree h6:before{content:"+";margin-right:1em}.selectionTree ul.showNode{display:block}h6.showNode:before{content:"-";margin-right:1em}#toothGuide{text-align:center;position:relative;padding:3em}.mapshell *{position:absolute;top:0}area{cursor:pointer}.adth{position:absolute;list-style:none;width:480px;height:calc(480px - 2.2em);left:12px;margin:auto;right:0;padding:0;bottom:0;top:8px;transform:scale(1.03)}.bx{cursor:pointer}.adth li{position:absolute;text-align:center;font-size:.9em;color:#fff;background:rgba(0,0,0,.7);width:2em;border-radius:50%;line-height:2em;transform:scale(.6);transition:transform .2s;height:2em}.adth li span{text-align:center;font-size:.9em;width:100%;height:100%;position:absolute;top:0;left:0;margin:auto}.adth li label{color:#000;font-family:Roboto-Black;position:absolute;left:-10em;text-align:center;line-height:1.2em;width:10em;background:rgba(255,255,255,.5);border-radius:4px;top:0;bottom:0;margin:auto;height:1.6em;padding:.3em .3em .3em 1em;font-size:1.2em}.adth li:nth-child(n+9) label{left:2em}.adth li:nth-child(n+25) label{left:-10em}.adth li:nth-child(6) label,.adth li:nth-child(12) label{top:-.5em}.adth li:nth-child(7) label,.adth li:nth-child(10) label{top:-1em}.adth li:nth-child(26) label,.adth li:nth-child(23) label{top:1em}.adth li:nth-child(27) label,.adth li:nth-child(22) label{top:.5em}.adth li:nth-child(8) label,.adth li:nth-child(9) label{top:-5em}.adth li:nth-child(24) label,.adth li:nth-child(25) label{top:5em}@keyframes slidein{0%{transform:scaleY(0);opacity:0}to{transform:scaleY(1);opacity:1}}@media only screen and (max-width: 768px){.mw-custom{max-width:none!important}}\n'],encapsulation:2}),s})();var _=p(4580),y=p(995);function F(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"ng-select",49),e.NdJ("ngModel",function(){return e.CHM(t),e.oxw().casesName})("change",function(i){return e.CHM(t),e.oxw().selectEvent(i)}),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("items",t.allcases)("editableSearchTerm",!0)}}function P(s,d){if(1&s&&e._UZ(0,"input",50),2&s){const t=e.oxw();e.s9C("ngModel",t.casesName)}}function j(s,d){1&s&&(e.TgZ(0,"span",51),e._uU(1," Due date should be greater than start to date"),e.qZA())}function J(s,d){1&s&&(e.TgZ(0,"span",51),e._uU(1," Tooth guide should not be blank!"),e.qZA())}let B=(()=>{class s{constructor(t,a,i,l,r,n){this.location=t,this.dataService=a,this.router=i,this.utility=l,this.utilitydev=r,this.usr=n,this.defaultBindingsList=[{value:1,label:"Jhone Duo"},{value:2,label:"Danel Gray"},{value:3,label:"Pavilnys"}],this.allcases=[],this.caseid="",this.patientid="",this.casesName="",this.patientName="",this.milestoneid=sessionStorage.getItem("checkmilestoneidref"),this.checkCase=sessionStorage.getItem("checkCase"),this.jsonObj={caseId:"",patientId:"",milestoneId:"",title:"",notes:{},toothguide:{},startdate:0,enddate:0,presentStatus:0},this.minDate=new Date,this.isvalidDate=!1,this.isvalidToothGuide=!1}back(){this.location.back()}ngOnInit(){this.selectedReferred=this.defaultBindingsList[0],this.getCaseDetails(),this.getAllCases()}onSubmitReferral(t){let a=JSON.stringify(this.orders.getToothGuide());this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.enddate),this.isvalidToothGuide=2==a.length,t.invalid||1==this.isvalidDate||1==this.isvalidToothGuide?t.form.markAllAsTouched():this.onGetalldata(t.value)}onGetalldata(t){this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,t.milestoneid&&(this.jsonObj.milestoneId=t.milestoneid),this.jsonObj.title=t.title,this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.enddate=Date.parse(t.enddate),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.toothguide=this.orders.getToothGuide(),(""!=this.cvfastval.returnCvfast().text||this.cvfastval.returnCvfast().links.length>0)&&(this.jsonObj.notes=this.cvfastval.returnCvfast()),this.dataService.postData(this.utility.apiData.userReferrals.ApiUrl,JSON.stringify(this.jsonObj),!0).subscribe(a=>{a&&(a=JSON.parse(a.toString())),o().fire("Referral added successfully"),this.router.navigate(["/master"])},a=>{404===a.status?o().fire("E-Mail ID does not exists,please signup to continue"):403===a.status?o().fire("Account Disabled,contact Dental-Live"):400===a.status?o().fire("Wrong Password,please try again"):401===a.status?o().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===a.status?o().fire(a.error):o().fire("Unable to fetch the data, please try again")})}getAllCases(){this.usr.getUserDetails(!1)&&(o().fire({html:'<div class="sweet_loader"><img style="width:50px;" src="https://www.boasnotas.com/img/loading2.gif"/></div>',icon:"https://www.boasnotas.com/img/loading2.gif",showConfirmButton:!1,allowOutsideClick:!1,closeOnClickOutside:!1,timer:2200}),this.dataService.getallData(this.utility.apiData.userCases.ApiUrl,!0).subscribe(l=>{if(l){this.tabledataAll=JSON.parse(l.toString()),this.allcases=Array();for(var r=0;r<this.tabledataAll.length;r++)if(1==this.tabledataAll[r].caseStatus){let n=this.tabledataAll[r].title;this.allcases.push({value:this.tabledataAll[r].caseId,caseId:this.tabledataAll[r].caseId,patientName:this.tabledataAll[r].patientName,patientId:this.tabledataAll[r].patientId,name:n,label:n})}}},l=>(o().fire("Unable to fetch data, please try again"),!1)))}selectEvent(t){this.caseid=t.caseId,this.patientid=t.patientId,this.patientName=t.patientName,this.casesName=t.name}getCaseDetails(){if(this.usr.getUserDetails(!1)){let i=this.utility.apiData.userCases.ApiUrl,l=sessionStorage.getItem("caseId");""!=l&&(o().fire({html:'<div class="sweet_loader"><img style="width:50px;" src="https://www.boasnotas.com/img/loading2.gif"/></div>',icon:"https://www.boasnotas.com/img/loading2.gif",showConfirmButton:!1,allowOutsideClick:!1,closeOnClickOutside:!1,timer:2200}),i+="?caseId="+l,this.dataService.getallData(i,!0).subscribe(r=>{r&&(this.tabledata=JSON.parse(r.toString()),this.casesName=this.tabledata.title,this.patientName=this.tabledata.patientName,this.caseid=this.tabledata.caseId,this.patientid=this.tabledata.patientId)},r=>{404===r.status?o().fire("E-Mail ID does not exists,please signup to continue"):403===r.status?o().fire("Account Disabled,contact Dental-Live"):400===r.status?o().fire("Wrong Password,please try again"):401===r.status?o().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===r.status?o().fire(r.error):o().fire("Unable to fetch the data, please try again")}))}}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(g.Ye),e.Y36(b.T),e.Y36(h.F0),e.Y36(Z.t),e.Y36(y.F),e.Y36(v.f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-referral-add"]],viewQuery:function(t,a){if(1&t&&(e.Gf(_.x,5),e.Gf(m,5)),2&t){let i;e.iGM(i=e.CRH())&&(a.cvfastval=i.first),e.iGM(i=e.CRH())&&(a.orders=i.first)}},decls:86,vars:21,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/master"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],["id","referralForm",3,"ngSubmit"],["referralForm","ngForm"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"row"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],[1,"col-md-4"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["placeholder","Select","name","caseName","id","caseName",3,"items","editableSearchTerm","ngModel","change",4,"ngIf"],["type","text","readonly","","class","form-control","placeholder","Enter Title here","name","caseName","id","caseName","ngModel","","required","",3,"ngModel",4,"ngIf"],["placeholder","Select","name","referred_to","id","referred_to",3,"items","editableSearchTerm","ngModel"],["type","text","placeholder","Enter Title here","name","title","id","title","ngModel","","required","",1,"form-control"],["type","date","name","startdate","id","startdate","ngModel","","required","",1,"form-control",3,"min"],["type","date","name","enddate","id","enddate","ngModel","","required","",1,"form-control",3,"min"],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],[1,"mb-3"],[1,"col-12"],["orders",""],[1,"col-md-12","mt-3"],["type","hidden","name","presentStatus","id","presentStatus",3,"ngModel"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","milestoneid","id","milestoneid",3,"ngModel"],["type","hidden","name","patientName","id","patientName",3,"ngModel"],["type","submit",1,"btn","btn-default","me-2"],[1,"bx","bx-send"],["routerLink","/master",1,"btn","btn-secondary","mt-1","me-2"],["placeholder","Select","name","caseName","id","caseName",3,"items","editableSearchTerm","ngModel","change"],["type","text","readonly","","placeholder","Enter Title here","name","caseName","id","caseName","ngModel","","required","",1,"form-control",3,"ngModel"],[2,"color","#F7517F","font-weight","bold"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Referral"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Add Referral "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14),e.TgZ(15,"span",10),e._uU(16),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.TgZ(20,"form",14,15),e.NdJ("ngSubmit",function(){e.CHM(i);const r=e.MAs(21);return a.onSubmitReferral(r)}),e.TgZ(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20)(27,"div",21)(28,"h5",22),e._uU(29,"Add Referral"),e.qZA()(),e.TgZ(30,"div",23)(31,"a",24),e.NdJ("click",function(){return a.back()}),e._uU(32,"Back "),e.qZA()()()(),e.TgZ(33,"div",25)(34,"div",26)(35,"div",17)(36,"div",20)(37,"div",27)(38,"div",28)(39,"label",29),e._uU(40,"Case Title "),e.qZA(),e.YNc(41,F,1,2,"ng-select",30),e.YNc(42,P,1,1,"input",31),e.qZA()(),e.TgZ(43,"div",27)(44,"div",28)(45,"label",29),e._uU(46,"Referred To "),e.qZA(),e.TgZ(47,"ng-select",32),e.NdJ("ngModel",function(){return a.selectedReferred}),e.qZA()()(),e.TgZ(48,"div",27)(49,"div",28)(50,"label",29),e._uU(51,"Title "),e.qZA(),e._UZ(52,"input",33),e.qZA()(),e.TgZ(53,"div",27)(54,"div",28)(55,"label",29),e._uU(56,"Start Date"),e.qZA(),e._UZ(57,"input",34),e.ALo(58,"date"),e.qZA()(),e.TgZ(59,"div",27)(60,"div",28)(61,"label",29),e._uU(62,"Due Date"),e.qZA(),e._UZ(63,"input",35),e.ALo(64,"date"),e.qZA(),e.YNc(65,j,2,0,"span",36),e.qZA(),e.TgZ(66,"div",17)(67,"div",37)(68,"label",29),e._uU(69,"Notes"),e.qZA(),e._UZ(70,"app-cvfast"),e.qZA()(),e.TgZ(71,"div",38),e._UZ(72,"app-referral-guide",null,39),e.YNc(74,J,2,0,"span",36),e.qZA()()()()()()(),e.TgZ(75,"div",40),e._UZ(76,"input",41)(77,"input",42)(78,"input",43)(79,"input",44)(80,"input",45),e.TgZ(81,"button",46),e._UZ(82,"i",47),e._uU(83," Send Referral "),e.qZA(),e.TgZ(84,"a",48),e._uU(85,"Cancel"),e.qZA()()()()}2&t&&(e.xp6(14),e.hij("",a.patientName," "),e.xp6(2),e.Oqu(a.casesName),e.xp6(25),e.Q6J("ngIf",""==a.checkCase),e.xp6(1),e.Q6J("ngIf","1"==a.checkCase),e.xp6(5),e.Q6J("items",a.defaultBindingsList)("editableSearchTerm",!0),e.xp6(10),e.s9C("min",e.xi3(58,15,a.minDate,"yyyy-MM-dd")),e.xp6(6),e.s9C("min",e.xi3(64,18,a.minDate,"yyyy-MM-dd")),e.xp6(2),e.Q6J("ngIf",1==a.isvalidDate),e.xp6(9),e.Q6J("ngIf",1==a.isvalidToothGuide),e.xp6(2),e.s9C("ngModel",1),e.xp6(1),e.s9C("ngModel",a.caseid),e.xp6(1),e.s9C("ngModel",a.patientid),e.xp6(1),e.s9C("ngModel",a.milestoneid),e.xp6(1),e.s9C("ngModel",a.patientName))},directives:[h.yS,c._Y,c.JL,c.F,g.O5,U.w9,c.JJ,c.On,c.Fj,c.Q7,_.x,m],pipes:[g.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}"]}),s})(),Y=(()=>{class s{constructor(t){this.location=t,this.dtOptions={}}back(){this.location.back()}ngOnInit(){this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}}}searchText(t){var a=t.target.value;$("#dataTables").DataTable().search(a).draw()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(g.Ye))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-referral-add-members"]],decls:280,vars:1,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/referral"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"row"],[1,"col-md-6","align-self-center"],["aria-label","breadcrumb",1,"my-2"],[1,"breadcrumb","fw-bold","mb-0"],["href","javascript:void(0);",2,"color","#5D6A7E",3,"click"],["routerLink","/referral/referral-add",2,"color","#5D6A7E"],["aria-current","page",1,"breadcrumb-item","active",2,"color","#011A3E"],[1,"card-body","p-0","pb-4"],[1,"table-responsive"],["datatable","","id","dataTables",1,"table","table-hover","table-nowrap","align-middle",3,"dtOptions"],[1,"thead-light"],[2,"text-transform","uppercase"],[2,"width","15px"],[1,"form-check","form-check-inline","mb-0",2,"min-height","auto"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],[1,"body2"],[1,"form-check","form-check-inline"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input","mt-2"],[1,"d-flex","mt-1"],["alt","...","src","assets/images/image2.png",1,"avatar","avatar-sm","rounded-circle"],[1,"ps-2"],[1,"body2","d-block"],[1,"bx","bxs-home","me-1","text-gray"],[2,"vertical-align","middle"],[1,"d-flex"],["routerLink","#",1,"me-2"],[1,"material-icons","text-bright-blue"],["routerLink","#"],[1,"material-icons","text-light-green"],["alt","...","src","assets/images/image.png",1,"avatar","avatar-sm","rounded-circle"],[1,"card","mt-3",2,"box-shadow","0px 5px 5px rgba(0, 0, 0, 0.1)","background","linear-gradient(97.53deg, #0070D2 -3.56%, #B0A1E9 51.67%, #E6FBFD 90.62%)"],[1,"card-body"],[1,"row","mt-2"],[1,"mb-3"],[1,"form-label","body2","text-light"],["placeholder","Enter text here","id","floatingTextarea2",1,"form-control",2,"height","100px"],[1,"col-md-12","mt-3"],[1,"btn","btn-default"],["aria-hidden","true",1,"bx","bx-paper-plane"]],template:function(t,a){1&t&&(e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Referral"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Referral Add Members "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14,"Diana Hiden "),e.TgZ(15,"span",10),e._uU(16,"Root Canal Treatment"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.TgZ(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"nav",20)(27,"ol",21)(28,"li",1)(29,"a",22),e.NdJ("click",function(){return a.back()}),e._uU(30,"Back "),e.qZA()(),e.TgZ(31,"li",1)(32,"a",23),e._uU(33,"Add Referral"),e.qZA()(),e.TgZ(34,"li",24),e._uU(35,"Add Members"),e.qZA()()()(),e._UZ(36,"div",7),e.qZA()(),e.TgZ(37,"div",25)(38,"div",26)(39,"table",27)(40,"thead",28)(41,"tr",29)(42,"th",30)(43,"div",31),e._UZ(44,"input",32),e.qZA()(),e.TgZ(45,"th",33),e._uU(46,"MEMBER NAME"),e.qZA(),e.TgZ(47,"th",33),e._uU(48,"MEMBER TYPE"),e.qZA(),e.TgZ(49,"th",33),e._uU(50,"EDUCATION"),e.qZA(),e.TgZ(51,"th",33),e._uU(52,"LOCATION"),e.qZA(),e.TgZ(53,"th",33),e._uU(54,"ACTIONS"),e.qZA()()(),e.TgZ(55,"tbody")(56,"tr")(57,"td")(58,"div",34),e._UZ(59,"input",35),e.qZA()(),e.TgZ(60,"td")(61,"div",36),e._UZ(62,"img",37),e.TgZ(63,"div",38)(64,"span",39),e._uU(65,"Colin"),e.qZA(),e.TgZ(66,"span",39),e._uU(67,"General Dentist"),e.qZA()()()(),e.TgZ(68,"td")(69,"span",33),e._UZ(70,"i",40),e._uU(71," Home "),e.qZA()(),e.TgZ(72,"td")(73,"span",33),e._uU(74,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(75,"td",41)(76,"span",33),e._uU(77,"Canada"),e.qZA()(),e.TgZ(78,"td")(79,"div",42)(80,"a",43)(81,"i",44),e._uU(82,"edit "),e.qZA()(),e.TgZ(83,"a",45)(84,"i",46),e._uU(85,"visibility"),e.qZA()()()()(),e.TgZ(86,"tr")(87,"td")(88,"div",34),e._UZ(89,"input",35),e.qZA()(),e.TgZ(90,"td")(91,"div",42),e._UZ(92,"img",47),e.TgZ(93,"div",38)(94,"span",39),e._uU(95,"Simon Sais"),e.qZA(),e.TgZ(96,"span",39),e._uU(97,"General Dentist"),e.qZA()()()(),e.TgZ(98,"td")(99,"span",33),e._UZ(100,"i",40),e._uU(101,"Home "),e.qZA()(),e.TgZ(102,"td")(103,"span",33),e._uU(104,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(105,"td",41)(106,"span",33),e._uU(107,"Canada "),e.qZA()(),e.TgZ(108,"td")(109,"div",42)(110,"a",43)(111,"i",44),e._uU(112,"edit "),e.qZA()(),e.TgZ(113,"a",45)(114,"i",46),e._uU(115,"visibility"),e.qZA()()()()(),e.TgZ(116,"tr")(117,"td")(118,"div",34),e._UZ(119,"input",35),e.qZA()(),e.TgZ(120,"td")(121,"div",42),e._UZ(122,"img",37),e.TgZ(123,"div",38)(124,"span",39),e._uU(125,"Mario Speedwagon"),e.qZA(),e.TgZ(126,"span",39),e._uU(127,"General Dentist"),e.qZA()()()(),e.TgZ(128,"td")(129,"span",33),e._UZ(130,"i",40),e._uU(131,"Home "),e.qZA()(),e.TgZ(132,"td")(133,"span",33),e._uU(134,"BDS/DDS/DMD"),e.qZA()(),e.TgZ(135,"td",41)(136,"span",33),e._uU(137,"Canada"),e.qZA()(),e.TgZ(138,"td")(139,"div",42)(140,"a",43)(141,"i",44),e._uU(142,"edit "),e.qZA()(),e.TgZ(143,"a",45)(144,"i",46),e._uU(145,"visibility"),e.qZA()()()()(),e.TgZ(146,"tr")(147,"td")(148,"div",34),e._UZ(149,"input",35),e.qZA()(),e.TgZ(150,"td")(151,"div",36),e._UZ(152,"img",47),e.TgZ(153,"div",38)(154,"span",39),e._uU(155,"Colin"),e.qZA(),e.TgZ(156,"span",39),e._uU(157,"General Dentist"),e.qZA()()()(),e.TgZ(158,"td")(159,"span",33),e._UZ(160,"i",40),e._uU(161,"Home "),e.qZA()(),e.TgZ(162,"td")(163,"span",33),e._uU(164,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(165,"td",41)(166,"span",33),e._uU(167,"Canada"),e.qZA()(),e.TgZ(168,"td")(169,"div",42)(170,"a",43)(171,"i",44),e._uU(172,"edit "),e.qZA()(),e.TgZ(173,"a",45)(174,"i",46),e._uU(175,"visibility"),e.qZA()()()()(),e.TgZ(176,"tr")(177,"td")(178,"div",34),e._UZ(179,"input",35),e.qZA()(),e.TgZ(180,"td")(181,"div",42),e._UZ(182,"img",37),e.TgZ(183,"div",38)(184,"span",39),e._uU(185,"Liza Doolittle"),e.qZA(),e.TgZ(186,"span",39),e._uU(187,"Specialist"),e.qZA()()()(),e.TgZ(188,"td")(189,"span",33),e._UZ(190,"i",40),e._uU(191,"Home "),e.qZA()(),e.TgZ(192,"td")(193,"span",33),e._uU(194,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(195,"td",41)(196,"span",33),e._uU(197,"Canada "),e.qZA()(),e.TgZ(198,"td")(199,"div",42)(200,"a",43)(201,"i",44),e._uU(202,"edit "),e.qZA()(),e.TgZ(203,"a",45)(204,"i",46),e._uU(205,"visibility"),e.qZA()()()()(),e.TgZ(206,"tr")(207,"td")(208,"div",34),e._UZ(209,"input",35),e.qZA()(),e.TgZ(210,"td")(211,"div",42),e._UZ(212,"img",47),e.TgZ(213,"div",38)(214,"span",39),e._uU(215,"Colin"),e.qZA(),e.TgZ(216,"span",39),e._uU(217,"General Dentist"),e.qZA()()()(),e.TgZ(218,"td")(219,"span",33),e._UZ(220,"i",40),e._uU(221,"Home "),e.qZA()(),e.TgZ(222,"td")(223,"span",33),e._uU(224,"BDS/DDS/DMD "),e.qZA()(),e.TgZ(225,"td",41)(226,"span",33),e._uU(227,"Canada "),e.qZA()(),e.TgZ(228,"td")(229,"div",42)(230,"a",43)(231,"i",44),e._uU(232,"edit "),e.qZA()(),e.TgZ(233,"a",45)(234,"i",46),e._uU(235,"visibility"),e.qZA()()()()(),e.TgZ(236,"tr")(237,"td")(238,"div",34),e._UZ(239,"input",35),e.qZA()(),e.TgZ(240,"td")(241,"div",42),e._UZ(242,"img",37),e.TgZ(243,"div",38)(244,"span",39),e._uU(245,"Aida Bugg"),e.qZA(),e.TgZ(246,"span",39),e._uU(247,"Specialist"),e.qZA()()()(),e.TgZ(248,"td")(249,"span",33),e._UZ(250,"i",40),e._uU(251,"Home "),e.qZA()(),e.TgZ(252,"td")(253,"span",33),e._uU(254,"BDS/DDS/DMD"),e.qZA()(),e.TgZ(255,"td",41)(256,"span",33),e._uU(257,"Canada"),e.qZA()(),e.TgZ(258,"td")(259,"div",42)(260,"a",43)(261,"i",44),e._uU(262,"edit "),e.qZA()(),e.TgZ(263,"a",45)(264,"i",46),e._uU(265,"visibility"),e.qZA()()()()()()()()()(),e.TgZ(266,"div",48)(267,"div",49)(268,"div",50)(269,"div",15)(270,"div",18)(271,"div",15)(272,"div",51)(273,"label",52),e._uU(274,"Invitation Notes"),e.qZA(),e._UZ(275,"textarea",53),e.qZA()(),e.TgZ(276,"div",54)(277,"button",55),e._UZ(278,"i",56),e._uU(279," Send Invite "),e.qZA()()()()()()()()()),2&t&&(e.xp6(39),e.Q6J("dtOptions",a.dtOptions))},directives:[h.yS,A.G],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}"]}),s})();var f=p(8259);function Q(s,d){if(1&s&&e._UZ(0,"img",83),2&s){const t=e.oxw().$implicit;e.s9C("src",t.ImageUrl,e.LSH)}}function H(s,d){1&s&&e._UZ(0,"img",84)}function W(s,d){if(1&s&&(e.TgZ(0,"div",76)(1,"div",77)(2,"div",78),e.YNc(3,Q,1,1,"img",79),e.YNc(4,H,1,0,"ng-template",null,80,e.W1O),e.TgZ(6,"a",81)(7,"p",82),e._uU(8),e.qZA()()()()()),2&s){const t=d.$implicit,a=e.MAs(5);e.xp6(3),e.Q6J("ngIf","jpg"==t.imgName.split(".").pop()||"JPG"==t.imgName.split(".").pop()||"png"==t.imgName.split(".").pop()||"PNG"==t.imgName.split(".").pop()||"jpeg"==t.imgName.split(".").pop()||"JPEG"==t.imgName.split(".").pop()||"gif"==t.imgName.split(".").pop()||"GIF"==t.imgName.split(".").pop())("ngIfElse",a),e.xp6(3),e.s9C("href",t.ImageUrl,e.LSH),e.xp6(2),e.Oqu(t.imgName)}}function V(s,d){if(1&s&&(e.TgZ(0,"div",55)(1,"label",69),e._uU(2,"Assets : "),e.qZA(),e.TgZ(3,"div",65)(4,"div",18),e.YNc(5,W,9,4,"div",75),e.qZA()()()),2&s){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",t.attachmentFiles)}}function X(s,d){if(1&s&&(e.TgZ(0,"div")(1,"div",52)(2,"div",53)(3,"div",15)(4,"div",18)(5,"div",54)(6,"div",55)(7,"label",56),e._uU(8,"Assigned To"),e.qZA(),e.TgZ(9,"div",57),e._UZ(10,"input",58),e.qZA()()(),e.TgZ(11,"div",54)(12,"div",55)(13,"label",56),e._uU(14,"Title"),e.qZA(),e.TgZ(15,"div",57),e._UZ(16,"input",59),e.qZA()()(),e.TgZ(17,"div",60)(18,"div",61)(19,"label",62),e._uU(20,"Start Date"),e.qZA(),e._UZ(21,"input",63),e.ALo(22,"date"),e.qZA()(),e.TgZ(23,"div",60)(24,"div",61)(25,"label",62),e._uU(26,"Due Date"),e.qZA(),e._UZ(27,"input",63),e.ALo(28,"date"),e.qZA()(),e.TgZ(29,"div",15)(30,"div",55)(31,"label",64),e._uU(32,"Notes"),e.qZA(),e.TgZ(33,"div",65)(34,"div",66)(35,"div",52)(36,"p",67),e._uU(37),e.qZA()()()()()(),e.TgZ(38,"div",15),e.YNc(39,V,6,1,"div",68),e.qZA(),e.TgZ(40,"div",15)(41,"div",55)(42,"label",69),e._uU(43,"Tooth Guide : "),e.qZA(),e.TgZ(44,"div",65)(45,"div",18),e._UZ(46,"app-referral-guide",null,70),e.qZA()()()()()()(),e.TgZ(48,"div",18)(49,"div",71)(50,"button",72),e._UZ(51,"i",73),e._uU(52," Update Due Date "),e.qZA(),e.TgZ(53,"a",74),e._uU(54," Cancel "),e.qZA()()()()()),2&s){const t=e.oxw();e.xp6(16),e.s9C("value",t.tabledata.title),e.xp6(5),e.s9C("value",e.xi3(22,5,t.tabledata.startdate,"mediumDate")),e.xp6(6),e.s9C("value",e.xi3(28,8,t.tabledata.enddate,"mediumDate")),e.xp6(10),e.hij(" ",t.tabledata.notes.text," "),e.xp6(2),e.Q6J("ngIf",1==t.cvfastLinks)}}function z(s,d){1&s&&(e.ynx(0),e.TgZ(1,"div",99)(2,"div",100)(3,"div",101),e._UZ(4,"span",102),e.qZA()(),e.TgZ(5,"div",103)(6,"div",104)(7,"div",105)(8,"div",106)(9,"a",115),e._UZ(10,"img",116),e.qZA(),e.TgZ(11,"p",109),e._uU(12,"Jene Hiden "),e._UZ(13,"br"),e._uU(14," General Specialist "),e.qZA(),e.TgZ(15,"span",110),e._uU(16,"Active "),e.qZA()()(),e.TgZ(17,"div",105)(18,"p",111),e._uU(19,"Referral "),e.qZA(),e.TgZ(20,"p",91),e._uU(21," Removing of the infected pulp... "),e.qZA()()()()(),e.BQk())}function K(s,d){1&s&&(e.ynx(0),e.TgZ(1,"div",99)(2,"div",100)(3,"div",101),e._UZ(4,"span",102),e.qZA()(),e.TgZ(5,"div",103)(6,"div",104)(7,"div",105)(8,"div",106)(9,"a",115),e._UZ(10,"img",116),e.qZA(),e.TgZ(11,"p",109),e._uU(12,"Jene Hiden "),e._UZ(13,"br"),e._uU(14," General Specialist "),e.qZA(),e.TgZ(15,"span",110),e._uU(16,"Active "),e.qZA()()(),e.TgZ(17,"div",105)(18,"p",111),e._uU(19,"Referral "),e.qZA(),e.TgZ(20,"p",91),e._uU(21," Removing of the infected pulp... "),e.qZA()()()()(),e.BQk())}function ee(s,d){if(1&s){const t=e.EpF();e.TgZ(0,"div")(1,"div",52)(2,"div",85)(3,"div",86)(4,"div",87),e._UZ(5,"img",88),e._uU(6," Mario Speedwagon "),e.qZA()(),e.TgZ(7,"div",89)(8,"div",18)(9,"div",90)(10,"span",91),e._uU(11,"April 28, 21 7:3:50 AM (3days ago)"),e.qZA()(),e.TgZ(12,"div",60)(13,"i",92),e._uU(14," reply "),e.qZA(),e.TgZ(15,"i",93),e._uU(16,"more_vert"),e.qZA()()()(),e.TgZ(17,"div",94)(18,"p",95),e._uU(19," I am done with root canal temporary crown, Looking for the other one by upcoming 25/8/21. Photos, and x-rays are attached in files. Plz check UI Guide too.Thanks "),e.qZA()()(),e.TgZ(20,"div",85)(21,"div",86)(22,"div",87),e._UZ(23,"img",96),e._uU(24," Jene Hiden "),e.qZA()(),e.TgZ(25,"div",89)(26,"div",18)(27,"div",90)(28,"span",91),e._uU(29,"April 28, 21 7:3:50 AM (3days ago)"),e.qZA()(),e.TgZ(30,"div",60)(31,"i",92),e._uU(32," reply "),e.qZA(),e.TgZ(33,"i",93),e._uU(34,"more_vert"),e.qZA()()()(),e.TgZ(35,"div",97)(36,"p",98),e._uU(37,"Referral : Invitation Send"),e.qZA(),e.TgZ(38,"div",99)(39,"div",100)(40,"div",101),e._UZ(41,"span",102),e.qZA()(),e.TgZ(42,"div",103)(43,"div",104)(44,"div",105)(45,"div",106)(46,"a",107),e._UZ(47,"img",108),e.qZA(),e.TgZ(48,"p",109),e._uU(49,"Dee Lee "),e._UZ(50,"br"),e._uU(51," Endodontist "),e.qZA(),e.TgZ(52,"span",110),e._uU(53,"Active"),e.qZA()()(),e.TgZ(54,"div",105)(55,"p",111),e._uU(56,"Referral "),e.qZA(),e.TgZ(57,"p",91),e._uU(58,"Removing of the infected pulp..."),e.qZA()()()()(),e.YNc(59,z,22,0,"ng-container",31),e.TgZ(60,"a",112),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.show=!i.show}),e.TgZ(61,"p",113),e._uU(62),e.qZA()()()(),e.TgZ(63,"div",85)(64,"div",86)(65,"div",87),e._UZ(66,"img",114),e._uU(67," Dee Lee "),e.qZA()(),e.TgZ(68,"div",89)(69,"div",18)(70,"div",90)(71,"span",91),e._uU(72,"April 28, 21 7:3:50 AM (3days ago)"),e.qZA()(),e.TgZ(73,"div",60)(74,"i",92),e._uU(75," reply "),e.qZA(),e.TgZ(76,"i",93),e._uU(77,"more_vert"),e.qZA()()()(),e.TgZ(78,"div",97)(79,"p",98),e._uU(80,"Referral : Invitation Received "),e.qZA(),e.TgZ(81,"div",99)(82,"div",100)(83,"div",101),e._UZ(84,"span",102),e.qZA()(),e.TgZ(85,"div",103)(86,"div",104)(87,"div",105)(88,"div",106)(89,"a",115),e._UZ(90,"img",116),e.qZA(),e.TgZ(91,"p",109),e._uU(92,"Jene Hiden "),e._UZ(93,"br"),e._uU(94," General Specialist "),e.qZA(),e.TgZ(95,"span",110),e._uU(96,"Active "),e.qZA()()(),e.TgZ(97,"div",105)(98,"p",111),e._uU(99,"Referral "),e.qZA(),e.TgZ(100,"p",91),e._uU(101," Removing of the infected pulp... "),e.qZA()()()()(),e.YNc(102,K,22,0,"ng-container",31),e.TgZ(103,"a",112),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.show1=!i.show1}),e.TgZ(104,"p",113),e._uU(105),e.qZA()()()(),e.TgZ(106,"div",85)(107,"div",86)(108,"div",87),e._UZ(109,"img",88),e._uU(110," Sophia "),e.qZA()(),e.TgZ(111,"div",89)(112,"div",18)(113,"div",90)(114,"span",91),e._uU(115,"April 28, 21 7:3:50 AM (3days ago)"),e.qZA()(),e.TgZ(116,"div",60)(117,"span",92),e._uU(118," reply "),e.qZA(),e.TgZ(119,"span",93),e._uU(120,"more_vert "),e.qZA()()()(),e.TgZ(121,"div",97)(122,"div",117)(123,"p",118),e._uU(124," Voice Message "),e.qZA(),e.TgZ(125,"p",119),e._UZ(126,"i",120),e._uU(127,"Voice message (01:15) "),e.qZA(),e.TgZ(128,"div",121)(129,"span",122),e._UZ(130,"i",123),e._uU(131," Files (x2) "),e.qZA(),e.TgZ(132,"span",124),e._UZ(133,"i",125),e._uU(134,"Photo"),e.qZA()()()()(),e.TgZ(135,"div",126)(136,"div",86)(137,"div",87),e._UZ(138,"img",88),e._uU(139," Mario Speedwagon "),e.qZA()(),e.TgZ(140,"div",89)(141,"div",18)(142,"div",90)(143,"span",91),e._uU(144,"April 28, 21 7:3:50 AM (3days ago)"),e.qZA()(),e.TgZ(145,"div",60)(146,"span",92),e._uU(147," reply "),e.qZA(),e.TgZ(148,"span",93),e._uU(149,"more_vert "),e.qZA()()()(),e.TgZ(150,"div",97)(151,"div",117)(152,"p",119),e._uU(153," I am done with root canal temporary crown, Looking for the other one by upcoming 25/8/21. Photos, and x-rays are attached in files. Plz check UI Guide too. Thanks "),e.qZA(),e.TgZ(154,"div",127)(155,"span",128),e._UZ(156,"i",129),e._uU(157," Video (x3) "),e.qZA()()()()()(),e.TgZ(158,"div",130)(159,"div",131)(160,"button",132)(161,"a",133),e._UZ(162,"i",134),e.qZA()(),e.TgZ(163,"button",135)(164,"a",136)(165,"span",137),e._uU(166,"video_call"),e.qZA()()(),e.TgZ(167,"button",138),e._UZ(168,"i",125),e.qZA(),e.TgZ(169,"button",139)(170,"span",137),e._uU(171,"link"),e.qZA()(),e._UZ(172,"input",140),e.TgZ(173,"span",141)(174,"button",142),e._UZ(175,"i",143),e.qZA()()()()()}if(2&s){const t=e.oxw();e.xp6(35),e.ekj("show",t.show),e.xp6(24),e.Q6J("ngIf",t.show),e.xp6(3),e.Oqu(t.show?"Hide Detail":"Show Detail"),e.xp6(16),e.ekj("show1",t.show),e.xp6(24),e.Q6J("ngIf",t.show1),e.xp6(3),e.Oqu(t.show1?"Hide Detail":"Show Detail")}}function te(s,d){1&s&&(e.TgZ(0,"span",144),e._uU(1," Due date should be greater than to start date"),e.qZA())}let ae=(()=>{class s{constructor(t,a,i,l,r,n){this.location=t,this.dataService=a,this.router=i,this.utility=l,this.usr=r,this.utilitydev=n,this.show=!1,this.show1=!1,this.id="tab1",this.dtOptions={},this.module="patient",this.cvfastText=!1,this.cvfastLinks=!1,this.attachmentFiles=[],this.jsonObj={referralId:"",caseId:"",patientId:"",title:"",notes:{},toothguide:{},duedate:0,startdate:0,enddate:0,presentStatus:0},this.descriptionObj={links:Array(),text:""},this.minDate=new Date,this.isvalidDate=!1}tabContent(t){this.id=t}back(){this.location.back()}ngOnInit(){this.dtOptions={dom:'<"datatable-top"f>rt<"datatable-bottom"lip><"clear">',pagingType:"full_numbers",pageLength:10,processing:!0,responsive:!0,language:{search:" <div class='search'><i class='bx bx-search'></i> _INPUT_</div>",lengthMenu:"Items per page _MENU_",info:"_START_ - _END_ of _TOTAL_",paginate:{first:"<i class='bx bx-first-page'></i>",previous:"<i class='bx bx-chevron-left'></i>",next:"<i class='bx bx-chevron-right'></i>",last:"<i class='bx bx-last-page'></i>"}}},f('a[data-bs-toggle="tab"]').on("click",function(t){f(t.target).attr("href"),f(f.fn.dataTable.tables(!0)).DataTable().columns.adjust().draw()}),this.getReferralDetails(),this.getCaseDetails()}getReferralDetails(){o().fire({html:'<div class="sweet_loader"><img style="width:50px;" src="https://www.boasnotas.com/img/loading2.gif"/></div>',icon:"https://www.boasnotas.com/img/loading2.gif",showConfirmButton:!1,allowOutsideClick:!1,closeOnClickOutside:!1,timer:2200});let a=this.usr.getUserDetails(!1),i=this.utility.apiData.userReferrals.ApiUrl,l=sessionStorage.getItem("referralId");""!=l&&(i+="?referralId="+l),a&&this.dataService.getallData(i,!0).subscribe(r=>{r&&(this.tabledata=JSON.parse(r.toString()),this.setcvFast(this.tabledata.notes),this.toothData=this.tabledata.toothguide,this.cvfastText=!0,this.descriptionObj.text=this.tabledata.notes.text,this.descriptionObj.links=this.tabledata.notes.links)},r=>(alert(JSON.stringify(r)),o().fire("Unable to fetch data, please try again"),!1))}setcvFast(t,a="task"){if("task"==a){if(this.attachmentFiles=Array(),t.links.length>0){this.cvfastLinks=!0;for(var i=0;i<t.links.length;i++){let l=t.links[i];this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t.links[i]+"&module="+this.module+"&type=get",!0).subscribe(n=>{n&&this.attachmentFiles.push({imgName:l,ImageUrl:n})},n=>{404===n.status?o().fire("E-Mail ID does not exists,please signup to continue"):403===n.status?o().fire("Account Disabled,contact Dental-Live"):400===n.status?o().fire("Wrong Password,please try again"):401===n.status?o().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===n.status?o().fire(n.error):o().fire("Unable to fetch the data, please try again")})}}}else if(t.length>0){for(i=0;i<t.length;i++)this.dataService.getallData("https://hx4mf30vd7.execute-api.us-west-2.amazonaws.com/development/objectUrl?name="+t[i].files[0].name+"&module="+this.module+"&type=get",!0).subscribe(u=>{u&&(this.casefilesArray[i-1].files[0].url=u)},u=>{404===u.status?o().fire("E-Mail ID does not exists,please signup to continue"):403===u.status?o().fire("Account Disabled,contact Dental-Live"):400===u.status?o().fire("Wrong Password,please try again"):401===u.status?o().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===u.status?o().fire(u.error):o().fire("Unable to fetch the data, please try again")});this.editdata=this.casefilesArray}}getCaseDetails(){if(this.usr.getUserDetails(!1)){o().fire({html:'<div class="sweet_loader"><img style="width:50px;" src="https://www.boasnotas.com/img/loading2.gif"/></div>',icon:"https://www.boasnotas.com/img/loading2.gif",showConfirmButton:!1,allowOutsideClick:!1,closeOnClickOutside:!1,timer:2200});let i=this.utility.apiData.userCases.ApiUrl,l=sessionStorage.getItem("caseId");""!=l&&(i+="?caseId="+l),this.dataService.getallData(i,!0).subscribe(r=>{r&&(this.detailsdata=JSON.parse(r.toString()))},r=>(o().fire("Unable to fetch data, please try again"),!1))}}searchText(t){var a=t.target.value;f("#dataTables").DataTable().search(a).draw()}ngAfterViewInit(){this.orders.setToothGuide(this.toothData)}onSubmitReferral(t){t.value.startdate>=Date.parse(t.value.enddate)?(this.isvalidDate=!0,o().fire("Due date should be greater than to start date")):this.isvalidDate=!1,t.invalid||1==this.isvalidDate?t.form.markAllAsTouched():this.onGetalldata(t.value)}onGetalldata(t){this.jsonObj.referralId=t.referralId,this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,this.jsonObj.enddate=Date.parse(t.enddate),this.jsonObj.toothguide=this.orders.getToothGuide(),this.jsonObj.notes=this.descriptionObj,this.dataService.putData(this.utility.apiData.userReferrals.ApiUrl,JSON.stringify(this.jsonObj),!0).subscribe(a=>{a&&(a=JSON.parse(a.toString())),this.getReferralDetails(),o().fire("Referral Due Date updated successfully")},a=>{404===a.status?o().fire("E-Mail ID does not exists,please signup to continue"):403===a.status?o().fire("Account Disabled,contact Dental-Live"):400===a.status?o().fire("Wrong Password,please try again"):401===a.status?o().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===a.status?o().fire(a.error):o().fire("Unable to fetch the data, please try again")})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(g.Ye),e.Y36(b.T),e.Y36(h.F0),e.Y36(Z.t),e.Y36(v.f),e.Y36(y.F))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-referral-details"]],viewQuery:function(t,a){if(1&t&&e.Gf(m,5),2&t){let i;e.iGM(i=e.CRH())&&(a.orders=i.first)}},decls:77,vars:17,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/referral/referral-list"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","bg-white"],[1,"row"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"col-md-5"],[1,"panel","panel-primary","mt-3"],[1,"tab-menu-heading"],[1,"tabs-menu"],[1,"nav","panel-tabs"],["href","javascript:void(0);",1,"me-1",3,"click"],[1,"avatar-list","justify-content-end","mt-2"],[1,"avatar-icon","my-1","ms-2"],[4,"ngIf"],["id","referralForm",3,"ngSubmit"],["referralForm","ngForm"],["id","updateDate","tabindex","-1","aria-labelledby","updateDateLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","updateDateLabel",1,"modal-title","body1"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","gy-3"],[1,"form-label","body2","text-dark"],["type","date","name","enddate","id","enddate","ngModel","","required","",1,"form-control",3,"min"],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],[1,"modal-footer"],["type","hidden","name","referralId","id","referralId",1,"form-control",3,"ngModel"],["type","hidden","name","startdate","id","startdate",1,"form-control",3,"ngModel"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-default"],[1,"card-body"],[1,"row","mt-2"],[1,"col-md-8"],[1,"mb-3","row"],["for","staticEmail",1,"col-sm-3","col-form-label"],[1,"col-sm-8"],["type","text","value","Jeffery Lorence","aria-label","readonly input example","readonly","",1,"form-control"],["type","text","aria-label","readonly input example","readonly","",1,"form-control",3,"value"],[1,"col-md-2"],[1,"mb-4"],[1,"form-label","body2","text-gray"],["type","text","readonly","",1,"form-control-plaintext",3,"value"],["for","staticEmail",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],[1,"card","bg-primary",2,"box-shadow","0px 5px 5px rgba(0, 0, 0, 0.1)"],[1,"text-light","body1"],["class","mb-3 row",4,"ngIf"],[1,"col-sm-2","col-form-label"],["orders",""],[1,"col-md-12","my-2","mx-1"],["type","button","data-bs-toggle","modal","data-bs-target","#updateDate",1,"btn","btn-default","me-2"],[1,"bx","bx-calendar-alt",2,"font-size","large"],["routerLink","/referral/referral-list",1,"btn","btn-secondary"],["class","col-md-4 col-lg-6",4,"ngFor","ngForOf"],[1,"col-md-4","col-lg-6"],[1,"card","mb-3",2,"border","1px solid #D0D6DE"],[1,"card-body","d-flex","align-items-center"],["height","36px",3,"src",4,"ngIf","ngIfElse"],["noimage",""],["target","_tblank",3,"href"],[1,"card-text","ps-2"],["height","36px",3,"src"],["src","assets/images/file.png","height","58px"],[1,"row","py-2","border-bottom","px-2"],[1,"col-md-4","col-lg-6","d-flex"],[1,"fw-bold",2,"overflow","hidden","white-space","nowrap","text-overflow","ellipsis"],["alt","...","src","assets/images/circle.png","width","36px","height","36px",1,"avatar","avatar-sm","rounded-circle","me-2"],[1,"col-md-8","col-lg-6","text-end"],[1,"col-md-10"],[1,"body2"],[1,"material-icons","me-2",2,"color","#D0D6DE","-webkit-transform","scaleX(-1)","transform","scaleX(-1)"],[1,"material-icons",2,"color","#D0D6DE"],[1,"col-md-12","mt-2","rounded"],[1,"body2","ms-5"],["alt","...","src","assets/images/avatar3.png","width","36px","height","36px",1,"avatar","avatar-sm","rounded-circle","me-2"],[1,"mt-2","col-md-12"],[1,"body2","ms-5","mb-0",2,"color","#5D6A7E"],[1,"flex","p-2"],[1,"flex","flex-col","mx-5"],[1,"relative","flex-grow","flex","justify-center"],[1,"absolute","h-full","w-1","bg-gray-200","rounded-full"],[1,"flex-grow","p-2",2,"border-radius","6px","background-color","#F7F9FB","border","2px solid #EFF3F7"],[1,"row","pt-2"],[1,"col-md-4"],[1,"capture","d-sm-flex","d-block"],["routerLink","#"],["src","assets/images/CircleM.png","alt","","width","36px","height","36px",1,"mb-2","avatar-sm","rounded-circle"],[1,"body2","ms-3"],[1,"badge","badge-pill","badge-success","body2","me-2"],[1,"body2","mb-0",2,"color","#5D6A7E"],["href","javascript:void(0);",3,"click"],[1,"body2","ms-5",2,"color","#5D6A7E"],["alt","...","src","assets/images/CircleM.png","width","36px","height","36px",1,"avatar","avatar-sm","rounded-circle","me-2"],["href","#"],["src","assets/images/avatar3.png","alt","","width","36px","height","36px",1,"mb-2","avatar-sm","rounded-circle"],[1,"ms-5"],[1,"body2","mb-0",2,"color","#1991EB"],[1,"body2",2,"color","#5D6A7E"],[1,"bx","bx-microphone"],[1,"mt-2","mb-2"],[1,"body2","p-2","rounded-pill",2,"color","#1991EB","background","rgba(201, 226, 255, 0.5)"],[1,"bx","bx-file"],[1,"body2","p-2","ms-2","rounded-pill",2,"color","#F7517F","background-color","#FEEEF2"],[1,"bx","bxs-image"],[1,"row","py-2","px-2"],[1,"mt-2"],[1,"body2","p-2","rounded-pill",2,"color","#00D9CC","background","rgba(0, 217, 204, 0.2)"],[1,"bx","bx-film"],[1,"card-footer",2,"background-color","#F7F9FB"],[1,"input-group"],["id","genMeetLink","tooltip","Google Docs",1,"border-0"],["href","https://docs.google.com/document/u/0/create","target","_blank",1,"text-dark"],[1,"bx","bx-file",2,"font-size","larger"],["id","genMeetLink","tooltip","Google Meet",1,"border-0"],["href","https://meet.google.com/new","target","_blank",1,"text-dark"],[1,"material-icons"],[1,"border-0","text-dark"],["id","linkCopy",1,"text-dark","border-0",2,"color","#011A3E"],["id","btn-input","type","text","placeholder","Type your message here...",1,"form-control","input-sm"],[1,"input-group-btn"],[1,"border-0",2,"box-shadow","4px 4px 25px rgba(42, 139, 242, 0.15), 2px 2px 25px rgba(42, 139, 242, 0.05), 4px 6px 10px rgba(42, 139, 242, 0.15)","outline","none","width","3rem","height","3rem","border-radius","50%","margin-left","0.4rem","background-color","#0070D2","cursor","pointer"],[1,"bx","bxl-telegram","pt-1",2,"color","#FFFFFF","font-size","larger"],[2,"color","#F7517F","font-weight","bold"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Referral"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Referral Details "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14),e.TgZ(15,"span",10),e._uU(16),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.TgZ(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"h5",20),e._uU(27,"Referral Details"),e.qZA()(),e.TgZ(28,"div",21)(29,"a",22),e.NdJ("click",function(){return a.back()}),e._uU(30,"Back"),e.qZA()(),e.TgZ(31,"div",23)(32,"div",24)(33,"div",25)(34,"div",26)(35,"ul",27)(36,"li")(37,"a",28),e.NdJ("click",function(){return a.tabContent("tab1")}),e._uU(38,"Details"),e.qZA()(),e.TgZ(39,"li")(40,"a",28),e.NdJ("click",function(){return a.tabContent("tab2")}),e._uU(41,"Thread"),e.qZA()()()()()()(),e.TgZ(42,"div",21)(43,"div",29)(44,"span",30),e._uU(45,"C"),e.qZA(),e.TgZ(46,"span",30),e._uU(47,"M"),e.qZA()()()()(),e.TgZ(48,"div"),e.YNc(49,X,55,11,"div",31),e.YNc(50,ee,176,8,"div",31),e.qZA()()()(),e.TgZ(51,"form",32,33),e.NdJ("ngSubmit",function(){e.CHM(i);const r=e.MAs(52);return a.onSubmitReferral(r)}),e.TgZ(53,"div",34)(54,"div",35)(55,"div",36)(56,"div",37)(57,"h5",38),e._uU(58,"Update Due Date"),e.qZA(),e._UZ(59,"button",39),e.qZA(),e.TgZ(60,"div",40)(61,"div",41)(62,"div",15)(63,"label",42),e._uU(64,"Choose Due Date"),e.qZA(),e._UZ(65,"input",43),e.ALo(66,"date"),e.YNc(67,te,2,0,"span",44),e.qZA()()(),e.TgZ(68,"div",45),e._UZ(69,"input",46)(70,"input",47)(71,"input",48)(72,"input",49),e.TgZ(73,"button",50),e._uU(74,"Close"),e.qZA(),e.TgZ(75,"button",51),e._uU(76,"Apply"),e.qZA()()()()()()}2&t&&(e.xp6(14),e.hij("",a.detailsdata.patientName," "),e.xp6(2),e.Oqu(a.detailsdata.title),e.xp6(21),e.ekj("active","tab1"===a.id),e.xp6(3),e.ekj("active","tab2"===a.id),e.xp6(9),e.Q6J("ngIf","tab1"===a.id),e.xp6(1),e.Q6J("ngIf","tab2"===a.id),e.xp6(15),e.s9C("min",e.xi3(66,14,a.minDate,"yyyy-MM-dd")),e.xp6(2),e.Q6J("ngIf",1==a.isvalidDate),e.xp6(2),e.s9C("ngModel",a.tabledata.referralId),e.xp6(1),e.s9C("ngModel",a.tabledata.startdate),e.xp6(1),e.s9C("ngModel",a.detailsdata.caseId),e.xp6(1),e.s9C("ngModel",a.detailsdata.patientId))},directives:[h.yS,g.O5,g.sg,m,c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,c.Q7],pipes:[g.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}.form-control[_ngcontent-%COMP%]:disabled, .form-control[_ngcontent-%COMP%]:read-only{background-color:#eff3f7;opacity:1}.absolute[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%]{position:relative}.flex-grow[_ngcontent-%COMP%]{flex-grow:1}.w-1[_ngcontent-%COMP%]{width:.25rem}.h-full[_ngcontent-%COMP%]{height:100%}.bg-gray-200[_ngcontent-%COMP%]{background-color:#1991eb}.flex[_ngcontent-%COMP%]{display:flex}.nav.panel-tabs[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#f5f6fb;color:#0070d2;border:1px solid #0070D2;border-radius:50px}.tabs-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 20px!important}.nav.panel-tabs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#f5f6fb;border-radius:50px;color:#5d6a7e}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.cover-image[_ngcontent-%COMP%]{background-size:cover!important}.avatar-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.avatar[_ngcontent-%COMP%]{width:2rem;height:2rem;line-height:2rem;display:inline-block;position:relative;text-align:center;color:#fff;font-weight:500;font-size:.875rem;-webkit-user-select:none;user-select:none}"]}),s})();function ie(s,d){1&s&&(e.TgZ(0,"span",53),e._uU(1," Due date should be greater than to start date"),e.qZA())}function se(s,d){1&s&&(e.TgZ(0,"span",53),e._uU(1," Tooth guide should not be blank!"),e.qZA())}let le=(()=>{class s{constructor(t,a,i,l,r,n){this.location=t,this.dataService=a,this.router=i,this.utility=l,this.utilitydev=r,this.usr=n,this.defaultBindingsList=[{value:1,label:"Jhone Duo"},{value:2,label:"Danel Gray"},{value:3,label:"Pavilnys"}],this.jsonObj={referralId:"",caseId:"",patientId:"",title:"",notes:{},toothguide:{},duedate:0,startdate:0,enddate:0,presentStatus:0},this.casesName="",this.patientName="",this.minDate=new Date,this.isvalidDate=!1,this.isvalidToothGuide=!1}back(){this.location.back()}ngOnInit(){this.selectedReferred=this.defaultBindingsList[0],this.getEditReferral()}onSubmitReferral(t){let a=JSON.stringify(this.orders.getToothGuide());this.isvalidDate=Date.parse(t.value.startdate)>=Date.parse(t.value.enddate),this.isvalidToothGuide=2==a.length,t.invalid||1==this.isvalidDate||1==this.isvalidToothGuide?t.form.markAllAsTouched():this.onGetalldata(t.value)}onGetalldata(t){this.jsonObj.referralId=t.referralId,this.jsonObj.caseId=t.caseid,this.jsonObj.patientId=t.patientid,t.milestoneId&&(this.jsonObj.milestoneId=t.milestoneId),this.jsonObj.title=t.title,this.jsonObj.startdate=Date.parse(t.startdate),this.jsonObj.enddate=Date.parse(t.enddate),this.jsonObj.presentStatus=Number(t.presentStatus),this.jsonObj.toothguide=this.orders.getToothGuide(),(""!=this.cv.returnCvfast().text||this.cv.returnCvfast().links.length>0)&&(this.jsonObj.notes=this.cv.returnCvfast()),this.dataService.putData(this.utility.apiData.userReferrals.ApiUrl,JSON.stringify(this.jsonObj),!0).subscribe(a=>{a&&(a=JSON.parse(a.toString())),o().fire("Referral updated successfully"),this.router.navigate(["/referral/referral-list"])},a=>{404===a.status?o().fire("E-Mail ID does not exists,please signup to continue"):403===a.status?o().fire("Account Disabled,contact Dental-Live"):400===a.status?o().fire("Wrong Password,please try again"):401===a.status?o().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===a.status?o().fire(a.error):o().fire("Unable to fetch the data, please try again")})}getEditReferral(){o().fire({html:'<div class="sweet_loader"><img style="width:50px;" src="https://www.boasnotas.com/img/loading2.gif"/></div>',icon:"https://www.boasnotas.com/img/loading2.gif",showConfirmButton:!1,allowOutsideClick:!1,closeOnClickOutside:!1,timer:2200});let a=this.utility.apiData.userReferrals.ApiUrl,i=sessionStorage.getItem("referralId");""!=i&&(a+="?referralId="+i),this.dataService.getallData(a,!0).subscribe(l=>{l&&(this.editedDate=JSON.parse(l.toString()),this.toothData=this.editedDate.toothguide,setTimeout(()=>{this.setcvFast()},1e3),this.getCaseDetails(this.editedDate.caseId))},l=>{404===l.status?o().fire("E-Mail ID does not exists,please signup to continue"):403===l.status?o().fire("Account Disabled,contact Dental-Live"):400===l.status?o().fire("Wrong Password,please try again"):401===l.status?o().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===l.status?o().fire(l.error):o().fire("Unable to fetch the data, please try again")})}setcvFast(){this.cv.setCvfast(this.editedDate.notes)}ngAfterViewInit(){this.orders.setToothGuide(this.toothData)}getCaseDetails(t){let a=this.utility.apiData.userCases.ApiUrl;""!=t&&(a+="?caseId="+t,this.dataService.getallData(a,!0).subscribe(i=>{i&&(this.tabledata=JSON.parse(i.toString()),this.casesName=this.tabledata.title,this.patientName=this.tabledata.patientName)},i=>{404===i.status?o().fire("E-Mail ID does not exists,please signup to continue"):403===i.status?o().fire("Account Disabled,contact Dental-Live"):400===i.status?o().fire("Wrong Password,please try again"):401===i.status?o().fire("Account Not Verified,Please activate the account from the Email sent to the Email address."):428===i.status?o().fire(i.error):o().fire("Unable to fetch the data, please try again")}))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(g.Ye),e.Y36(b.T),e.Y36(h.F0),e.Y36(Z.t),e.Y36(y.F),e.Y36(v.f))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-referral-edit"]],viewQuery:function(t,a){if(1&t&&(e.Gf(_.x,5),e.Gf(m,5)),2&t){let i;e.iGM(i=e.CRH())&&(a.cv=i.first),e.iGM(i=e.CRH())&&(a.orders=i.first)}},decls:101,vars:31,consts:[[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-hidden","true",1,"bx","bxs-home"],["routerLink","/master"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-header","row","align-items-center","gx-0"],[1,"col-md-6"],[1,"d-inline-block"],[1,"mt-2","fw-normal"],[1,"fw-bold","d-block"],[1,"progress","progress-sm","mt-2"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","55%"],[1,"col-md-6","text-end"],["id","referralForm",3,"ngSubmit"],["referralForm","ngForm"],[1,"row","align-items-center","pt-2"],[1,"col-md-12"],[1,"card","shadow-sm"],[1,"card-header","border-bottom-0","bg-white"],[1,"row"],[1,"col-md-5","align-self-center"],[1,"body1","card-title","my-2"],[1,"col-md-7","text-end"],["href","javascript:void(0);",1,"btn","btn-default",3,"click"],[1,"card-body",2,"background","#E4F0FF"],[1,"row","mt-2"],[1,"col-md-4"],[1,"mb-4"],[1,"form-label","body2","text-dark"],["type","text","value","","placeholder","Enter Case Title here","readonly","","maxlength","50","name","casetitle","id","casetitle",1,"form-control",3,"ngModel"],["placeholder","Select","name","referred_to","id","referred_to",3,"items","editableSearchTerm","ngModel"],["type","text","placeholder","Enter Title here","name","title","id","title","required","",1,"form-control",3,"ngModel"],["type","date","name","startdate","id","startdate","ngModel","","required","",1,"form-control",3,"ngModel","min"],["type","date","name","enddate","id","enddate","ngModel","","required","",1,"form-control",3,"ngModel","min"],["style","color: #F7517F;font-weight: bold;",4,"ngIf"],[1,"mb-3"],[1,"col-12"],["orders",""],["name","presentStatus","id","presentStatus","required","",1,"form-select",3,"ngModel"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],[1,"col-md-12","mt-3"],["type","hidden","name","referralId","id","referralId",1,"form-control",3,"ngModel"],["type","hidden","name","caseid","id","caseid",3,"ngModel"],["type","hidden","name","patientid","id","patientid",3,"ngModel"],["type","hidden","name","milestoneId","id","milestoneId",3,"ngModel"],["type","submit",1,"btn","btn-default","me-2"],[1,"bx","bx-send"],["routerLink","/master",1,"btn","btn-secondary","mt-1","me-2"],[2,"color","#F7517F","font-weight","bold"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"ol",0)(1,"li",1)(2,"a",2),e._UZ(3,"i",3),e._uU(4," Dashboard"),e.qZA()(),e.TgZ(5,"li",1)(6,"a",4),e._uU(7,"Referral"),e.qZA()(),e.TgZ(8,"li",5),e._uU(9," Edit Referral "),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"h3",9),e._uU(14),e.TgZ(15,"span",10),e._uU(16),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"div",12),e.qZA()()()(),e._UZ(19,"div",13),e.qZA(),e.TgZ(20,"form",14,15),e.NdJ("ngSubmit",function(){e.CHM(i);const r=e.MAs(21);return a.onSubmitReferral(r)}),e.TgZ(22,"div",16)(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20)(27,"div",21)(28,"h5",22),e._uU(29,"Add Referral"),e.qZA()(),e.TgZ(30,"div",23)(31,"a",24),e.NdJ("click",function(){return a.back()}),e._uU(32,"Back "),e.qZA()()()(),e.TgZ(33,"div",25)(34,"div",26)(35,"div",17)(36,"div",20)(37,"div",27)(38,"div",28)(39,"label",29),e._uU(40,"Case Title "),e.qZA(),e._UZ(41,"input",30),e.qZA()(),e.TgZ(42,"div",27)(43,"div",28)(44,"label",29),e._uU(45,"Referred To "),e.qZA(),e.TgZ(46,"ng-select",31),e.NdJ("ngModel",function(){return a.selectedReferred}),e.qZA()()(),e.TgZ(47,"div",27)(48,"div",28)(49,"label",29),e._uU(50,"Title "),e.qZA(),e._UZ(51,"input",32),e.qZA()(),e.TgZ(52,"div",27)(53,"div",28)(54,"label",29),e._uU(55,"Start Date"),e.qZA(),e._UZ(56,"input",33),e.ALo(57,"date"),e.ALo(58,"date"),e.qZA()(),e.TgZ(59,"div",27)(60,"div",28)(61,"label",29),e._uU(62,"Due Date"),e.qZA(),e._UZ(63,"input",34),e.ALo(64,"date"),e.ALo(65,"date"),e.YNc(66,ie,2,0,"span",35),e.qZA()(),e.TgZ(67,"div",17)(68,"div",36)(69,"label",29),e._uU(70,"Notes"),e.qZA(),e._UZ(71,"app-cvfast"),e.qZA()(),e.TgZ(72,"div",37),e._UZ(73,"app-referral-guide",null,38),e.YNc(75,se,2,0,"span",35),e.qZA(),e.TgZ(76,"div",7)(77,"div",36)(78,"label",29),e._uU(79,"Status"),e.qZA(),e.TgZ(80,"select",39)(81,"option",40),e._uU(82,"Select"),e.qZA(),e.TgZ(83,"option",41),e._uU(84,"Active"),e.qZA(),e.TgZ(85,"option",42),e._uU(86,"Inactive"),e.qZA(),e.TgZ(87,"option",43),e._uU(88,"Pending"),e.qZA(),e.TgZ(89,"option",44),e._uU(90,"Completed"),e.qZA()()()()()()()()()(),e.TgZ(91,"div",45),e._UZ(92,"input",46)(93,"input",47)(94,"input",48)(95,"input",49),e.TgZ(96,"button",50),e._UZ(97,"i",51),e._uU(98," Send Referral "),e.qZA(),e.TgZ(99,"a",52),e._uU(100,"Cancel"),e.qZA()()()()}2&t&&(e.xp6(14),e.hij("",a.patientName," "),e.xp6(2),e.Oqu(a.casesName),e.xp6(25),e.s9C("ngModel",a.casesName),e.xp6(5),e.Q6J("items",a.defaultBindingsList)("editableSearchTerm",!0),e.xp6(5),e.s9C("ngModel",a.editedDate.title),e.xp6(5),e.s9C("ngModel",a.editedDate.startdate),e.s9C("ngModel",e.xi3(57,19,a.editedDate.startdate,"yyyy-MM-dd")),e.s9C("min",e.xi3(58,22,a.minDate,"yyyy-MM-dd")),e.xp6(7),e.s9C("ngModel",a.editedDate.enddate),e.s9C("ngModel",e.xi3(64,25,a.editedDate.enddate,"yyyy-MM-dd")),e.s9C("min",e.xi3(65,28,a.minDate,"yyyy-MM-dd")),e.xp6(3),e.Q6J("ngIf",1==a.isvalidDate),e.xp6(9),e.Q6J("ngIf",1==a.isvalidToothGuide),e.xp6(5),e.s9C("ngModel",a.editedDate.presentStatus),e.xp6(12),e.s9C("ngModel",a.editedDate.referralId),e.xp6(1),e.s9C("ngModel",a.editedDate.caseId),e.xp6(1),e.s9C("ngModel",a.editedDate.patientId),e.xp6(1),e.s9C("ngModel",a.editedDate.milestoneId))},directives:[h.yS,c._Y,c.JL,c.F,c.Fj,c.nD,c.JJ,c.On,U.w9,c.Q7,g.O5,_.x,m,c.EJ,c.YN,c.Kr],pipes:[g.uU],styles:[".progress[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#1991eb!important}.progress-sm[_ngcontent-%COMP%]{height:.5rem}"]}),s})();var re=p(7147),oe=p(5243);const ne=[{path:"",component:D,children:[{path:"",redirectTo:"referral",pathMatch:"full"},{path:"referral-list",component:I},{path:"referral-add",component:B},{path:"referral-add-members",component:Y},{path:"referral-details",component:ae},{path:"referral-edit",component:le}]}];let de=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[g.ez,h.Bz.forChild(ne),A.T,U.A0,c.u5,c.UX,oe.PatientsModule,re.WorkOrdersModule]]}),s})()}}]);